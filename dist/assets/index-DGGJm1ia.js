import{a as e,r as t,R as n,j as r,g as i,X as o,C as a,L as l,b as s,c,A as d,d as u,e as p,G as f,S as h,T as g,B as m,f as x,h as y,i as b,M as v,E as w,k,U as S,P as C,l as j,D as F,m as E,n as z,o as A,Q as I,p as T,q as B,s as D,t as R,u as P,v as N,H as L,w as M,x as O,y as _,z as W,F as $,I as H,J as q,K as U,N as V,O as G,V as Q,W as Y,Y as J,Z as X,_ as K,$ as Z,a0 as ee,a1 as te,a2 as ne,a3 as re,a4 as ie,a5 as oe,a6 as ae,a7 as le,a8 as se,a9 as ce,aa as de,ab as ue,ac as pe,ad as fe,ae as he,af as ge,ag as me,ah as xe,ai as ye,aj as be,ak as ve,al as we,am as ke,an as Se,ao as Ce,ap as je,aq as Fe,ar as Ee,as as ze,at as Ae,au as Ie,av as Te,aw as Be,ax as De,ay as Re,az as Pe,aA as Ne,aB as Le,aC as Me,aD as Oe}from"./ui-vendor-eSbNKlvv.js";import{r as _e}from"./react-vendor-BCYwHhNc.js";import{C as We,a as $e,L as He,B as qe,A as Ue,p as Ve,b as Ge,c as Qe,d as Ye,D as Je}from"./chart-vendor-DcaN2wjh.js";import{r as Xe}from"./editor-vendor-BYH90EoP.js";import{r as Ke}from"./utils-vendor-zqhkU7xe.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var Ze,et,tt,nt,rt={exports:{}},it={},ot={exports:{}},at={};function lt(){return et||(et=1,ot.exports=(Ze||(Ze=1,function(e){function t(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,o=e[r];if(!(0<i(o,t)))break e;e[r]=t,e[n]=o,n=r}}function n(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length,a=o>>>1;r<a;){var l=2*(r+1)-1,s=e[l],c=l+1,d=e[c];if(0>i(s,n))c<o&&0>i(d,s)?(e[r]=d,e[c]=n,r=c):(e[r]=s,e[l]=n,r=l);else{if(!(c<o&&0>i(d,n)))break e;e[r]=d,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(e.unstable_now=void 0,"object"==typeof performance&&"function"==typeof performance.now){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var s=[],c=[],d=1,u=null,p=3,f=!1,h=!1,g=!1,m=!1,x="function"==typeof setTimeout?setTimeout:null,y="function"==typeof clearTimeout?clearTimeout:null,b="undefined"!=typeof setImmediate?setImmediate:null;function v(e){for(var i=n(c);null!==i;){if(null===i.callback)r(c);else{if(!(i.startTime<=e))break;r(c),i.sortIndex=i.expirationTime,t(s,i)}i=n(c)}}function w(e){if(g=!1,v(e),!h)if(null!==n(s))h=!0,S||(S=!0,k());else{var t=n(c);null!==t&&T(w,t.startTime-e)}}var k,S=!1,C=-1,j=5,F=-1;function E(){return!(!m&&e.unstable_now()-F<j)}function z(){if(m=!1,S){var t=e.unstable_now();F=t;var i=!0;try{e:{h=!1,g&&(g=!1,y(C),C=-1),f=!0;var o=p;try{t:{for(v(t),u=n(s);null!==u&&!(u.expirationTime>t&&E());){var a=u.callback;if("function"==typeof a){u.callback=null,p=u.priorityLevel;var l=a(u.expirationTime<=t);if(t=e.unstable_now(),"function"==typeof l){u.callback=l,v(t),i=!0;break t}u===n(s)&&r(s),v(t)}else r(s);u=n(s)}if(null!==u)i=!0;else{var d=n(c);null!==d&&T(w,d.startTime-t),i=!1}}break e}finally{u=null,p=o,f=!1}i=void 0}}finally{i?k():S=!1}}}if("function"==typeof b)k=function(){b(z)};else if("undefined"!=typeof MessageChannel){var A=new MessageChannel,I=A.port2;A.port1.onmessage=z,k=function(){I.postMessage(null)}}else k=function(){x(z,0)};function T(t,n){C=x(function(){t(e.unstable_now())},n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<e?Math.floor(1e3/e):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},e.unstable_requestPaint=function(){m=!0},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},e.unstable_scheduleCallback=function(r,i,o){var a=e.unstable_now();switch(o="object"==typeof o&&null!==o&&"number"==typeof(o=o.delay)&&0<o?a+o:a,r){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return r={id:d++,callback:i,priorityLevel:r,startTime:o,expirationTime:l=o+l,sortIndex:-1},o>a?(r.sortIndex=o,t(c,r),null===n(s)&&r===n(c)&&(g?(y(C),C=-1):g=!0,T(w,o-a))):(r.sortIndex=l,t(s,r),h||f||(h=!0,S||(S=!0,k()))),r},e.unstable_shouldYield=E,e.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}}(at)),at)),ot.exports}function st(){if(tt)return it;tt=1;var t=lt(),n=e(),r=_e();function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function a(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function l(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function s(e){if(31===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function c(e){if(a(e)!==e)throw Error(i(188))}function d(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=d(e)))return t;e=e.sibling}return null}var u=Object.assign,p=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),h=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),y=Symbol.for("react.consumer"),b=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),j=Symbol.for("react.activity"),F=Symbol.for("react.memo_cache_sentinel"),E=Symbol.iterator;function z(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=E&&e[E]||e["@@iterator"])?e:null}var A=Symbol.for("react.client.reference");function I(e){if(null==e)return null;if("function"==typeof e)return e.$$typeof===A?null:e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case g:return"Fragment";case x:return"Profiler";case m:return"StrictMode";case w:return"Suspense";case k:return"SuspenseList";case j:return"Activity"}if("object"==typeof e)switch(e.$$typeof){case h:return"Portal";case b:return e.displayName||"Context";case y:return(e._context.displayName||"Context")+".Consumer";case v:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case S:return null!==(t=e.displayName||null)?t:I(e.type)||"Memo";case C:t=e._payload,e=e._init;try{return I(e(t))}catch(n){}}return null}var T=Array.isArray,B=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,R={pending:!1,data:null,method:null,action:null},P=[],N=-1;function L(e){return{current:e}}function M(e){0>N||(e.current=P[N],P[N]=null,N--)}function O(e,t){N++,P[N]=e.current,e.current=t}var _,W,$=L(null),H=L(null),q=L(null),U=L(null);function V(e,t){switch(O(q,t),O(H,e),O($,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?bu(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=vu(t=bu(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}M($),O($,e)}function G(){M($),M(H),M(q)}function Q(e){null!==e.memoizedState&&O(U,e);var t=$.current,n=vu(t,e.type);t!==n&&(O(H,e),O($,n))}function Y(e){H.current===e&&(M($),M(H)),U.current===e&&(M(U),pp._currentValue=R)}function J(e){if(void 0===_)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);_=t&&t[1]||"",W=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+_+e+W}var X=!1;function K(e,t){if(!e||X)return"";X=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(i){var r=i}Reflect.construct(e,[],n)}else{try{n.call()}catch(o){r=o}e.call(n.prototype)}}else{try{throw Error()}catch(a){r=a}(n=e())&&"function"==typeof n.catch&&n.catch(function(){})}}catch(l){if(l&&r&&"string"==typeof l.stack)return[l.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=r.DetermineComponentFrameRoot(),a=o[0],l=o[1];if(a&&l){var s=a.split("\n"),c=l.split("\n");for(i=r=0;r<s.length&&!s[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===s.length||i===c.length)for(r=s.length-1,i=c.length-1;1<=r&&0<=i&&s[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(s[r]!==c[i]){if(1!==r||1!==i)do{if(r--,0>--i||s[r]!==c[i]){var d="\n"+s[r].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}}while(1<=r&&0<=i);break}}}finally{X=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?J(n):""}function Z(e,t){switch(e.tag){case 26:case 27:case 5:return J(e.type);case 16:return J("Lazy");case 13:return e.child!==t&&null!==t?J("Suspense Fallback"):J("Suspense");case 19:return J("SuspenseList");case 0:case 15:return K(e.type,!1);case 11:return K(e.type.render,!1);case 1:return K(e.type,!0);case 31:return J("Activity");default:return""}}function ee(e){try{var t="",n=null;do{t+=Z(e,n),n=e,e=e.return}while(e);return t}catch(r){return"\nError generating stack: "+r.message+"\n"+r.stack}}var te=Object.prototype.hasOwnProperty,ne=t.unstable_scheduleCallback,re=t.unstable_cancelCallback,ie=t.unstable_shouldYield,oe=t.unstable_requestPaint,ae=t.unstable_now,le=t.unstable_getCurrentPriorityLevel,se=t.unstable_ImmediatePriority,ce=t.unstable_UserBlockingPriority,de=t.unstable_NormalPriority,ue=t.unstable_LowPriority,pe=t.unstable_IdlePriority,fe=t.log,he=t.unstable_setDisableYieldValue,ge=null,me=null;function xe(e){if("function"==typeof fe&&he(e),me&&"function"==typeof me.setStrictMode)try{me.setStrictMode(ge,e)}catch(t){}}var ye=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(be(e)/ve|0)|0},be=Math.log,ve=Math.LN2;var we=256,ke=262144,Se=4194304;function Ce(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&e;case 262144:case 524288:case 1048576:case 2097152:return 3932160&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function je(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var i=0,o=e.suspendedLanes,a=e.pingedLanes;e=e.warmLanes;var l=134217727&r;return 0!==l?0!==(r=l&~o)?i=Ce(r):0!==(a&=l)?i=Ce(a):n||0!==(n=l&~e)&&(i=Ce(n)):0!==(l=r&~o)?i=Ce(l):0!==a?i=Ce(a):n||0!==(n=r&~e)&&(i=Ce(n)),0===i?0:0!==t&&t!==i&&0===(t&o)&&((o=i&-i)>=(n=t&-t)||32===o&&4194048&n)?t:i}function Fe(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Ee(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ze(){var e=Se;return!(62914560&(Se<<=1))&&(Se=4194304),e}function Ae(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ie(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Te(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-ye(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|261930&n}function Be(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ye(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function De(e,t){var n=t&-t;return 0!==((n=42&n?1:Re(n))&(e.suspendedLanes|t))?0:n}function Re(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Pe(e){return 2<(e&=-e)?8<e?134217727&e?32:268435456:8:2}function Ne(){var e=D.p;return 0!==e?e:void 0===(e=window.event)?32:zp(e.type)}function Le(e,t){var n=D.p;try{return D.p=e,t()}finally{D.p=n}}var Me=Math.random().toString(36).slice(2),Oe="__reactFiber$"+Me,We="__reactProps$"+Me,$e="__reactContainer$"+Me,He="__reactEvents$"+Me,qe="__reactListeners$"+Me,Ue="__reactHandles$"+Me,Ve="__reactResources$"+Me,Ge="__reactMarker$"+Me;function Qe(e){delete e[Oe],delete e[We],delete e[He],delete e[qe],delete e[Ue]}function Ye(e){var t=e[Oe];if(t)return t;for(var n=e.parentNode;n;){if(t=n[$e]||n[Oe]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Mu(e);null!==e;){if(n=e[Oe])return n;e=Mu(e)}return t}n=(e=n).parentNode}return null}function Je(e){if(e=e[Oe]||e[$e]){var t=e.tag;if(5===t||6===t||13===t||31===t||26===t||27===t||3===t)return e}return null}function Xe(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(i(33))}function Ke(e){var t=e[Ve];return t||(t=e[Ve]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ze(e){e[Ge]=!0}var et=new Set,nt={};function rt(e,t){ot(e,t),ot(e+"Capture",t)}function ot(e,t){for(nt[e]=t,e=0;e<t.length;e++)et.add(t[e])}var at=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),st={},ct={};function dt(e,t,n){if(i=t,te.call(ct,i)||!te.call(st,i)&&(at.test(i)?ct[i]=!0:(st[i]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var i}function ut(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function pt(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function ft(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ht(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function gt(e){if(!e._valueTracker){var t=ht(e)?"checked":"value";e._valueTracker=function(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&void 0!==r&&"function"==typeof r.get&&"function"==typeof r.set){var i=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e,t,""+e[t])}}function mt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ht(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function xt(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var yt=/[\n"\\]/g;function bt(e){return e.replace(yt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function vt(e,t,n,r,i,o,a,l){e.name="",null!=a&&"function"!=typeof a&&"symbol"!=typeof a&&"boolean"!=typeof a?e.type=a:e.removeAttribute("type"),null!=t?"number"===a?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ft(t)):e.value!==""+ft(t)&&(e.value=""+ft(t)):"submit"!==a&&"reset"!==a||e.removeAttribute("value"),null!=t?kt(e,a,ft(t)):null!=n?kt(e,a,ft(n)):null!=r&&e.removeAttribute("value"),null==i&&null!=o&&(e.defaultChecked=!!o),null!=i&&(e.checked=i&&"function"!=typeof i&&"symbol"!=typeof i),null!=l&&"function"!=typeof l&&"symbol"!=typeof l&&"boolean"!=typeof l?e.name=""+ft(l):e.removeAttribute("name")}function wt(e,t,n,r,i,o,a,l){if(null!=o&&"function"!=typeof o&&"symbol"!=typeof o&&"boolean"!=typeof o&&(e.type=o),null!=t||null!=n){if(("submit"===o||"reset"===o)&&null==t)return void gt(e);n=null!=n?""+ft(n):"",t=null!=t?""+ft(t):n,l||t===e.value||(e.value=t),e.defaultValue=t}r="function"!=typeof(r=null!=r?r:i)&&"symbol"!=typeof r&&!!r,e.checked=l?e.checked:!!r,e.defaultChecked=!!r,null!=a&&"function"!=typeof a&&"symbol"!=typeof a&&"boolean"!=typeof a&&(e.name=a),gt(e)}function kt(e,t,n){"number"===t&&xt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function St(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ft(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Ct(e,t,n){null==t||((t=""+ft(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ft(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function jt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(i(92));if(T(r)){if(1<r.length)throw Error(i(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ft(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r),gt(e)}function Ft(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var Et=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function zt(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"==typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!=typeof n||0===n||Et.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function At(e,t,n){if(null!=t&&"object"!=typeof t)throw Error(i(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var o in t)r=t[o],t.hasOwnProperty(o)&&n[o]!==r&&zt(e,o,r)}else for(var a in t)t.hasOwnProperty(a)&&zt(e,a,t[a])}function It(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Bt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Dt(e){return Bt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Rt(){}var Pt=null;function Nt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Lt=null,Mt=null;function Ot(e){var t=Je(e);if(t&&(e=t.stateNode)){var n=e[We]||null;e:switch(e=t.stateNode,t.type){case"input":if(vt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+bt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=r[We]||null;if(!o)throw Error(i(90));vt(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&mt(r)}break e;case"textarea":Ct(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&St(e,!!n.multiple,t,!1)}}}var _t=!1;function Wt(e,t,n){if(_t)return e(t,n);_t=!0;try{return e(t)}finally{if(_t=!1,(null!==Lt||null!==Mt)&&(td(),Lt&&(t=Lt,e=Mt,Mt=Lt=null,Ot(t),e)))for(t=0;t<e.length;t++)Ot(e[t])}}function $t(e,t){var n=e.stateNode;if(null===n)return null;var r=n[We]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(i(231,t,typeof n));return n}var Ht=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),qt=!1;if(Ht)try{var Ut={};Object.defineProperty(Ut,"passive",{get:function(){qt=!0}}),window.addEventListener("test",Ut,Ut),window.removeEventListener("test",Ut,Ut)}catch(Zp){qt=!1}var Vt=null,Gt=null,Qt=null;function Yt(){if(Qt)return Qt;var e,t,n=Gt,r=n.length,i="value"in Vt?Vt.value:Vt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Qt=i.slice(e,1<t?1-t:void 0)}function Jt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Xt(){return!0}function Kt(){return!1}function Zt(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Xt:Kt,this.isPropagationStopped=Kt,this}return u(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Xt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Xt)},persist:function(){},isPersistent:Xt}),t}var en,tn,nn,rn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},on=Zt(rn),an=u({},rn,{view:0,detail:0}),ln=Zt(an),sn=u({},an,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==nn&&(nn&&"mousemove"===e.type?(en=e.screenX-nn.screenX,tn=e.screenY-nn.screenY):tn=en=0,nn=e),en)},movementY:function(e){return"movementY"in e?e.movementY:tn}}),cn=Zt(sn),dn=Zt(u({},sn,{dataTransfer:0})),un=Zt(u({},an,{relatedTarget:0})),pn=Zt(u({},rn,{animationName:0,elapsedTime:0,pseudoElement:0})),fn=Zt(u({},rn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),hn=Zt(u({},rn,{data:0})),gn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function bn(){return yn}var vn=Zt(u({},an,{key:function(e){if(e.key){var t=gn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Jt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?mn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bn,charCode:function(e){return"keypress"===e.type?Jt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Jt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),wn=Zt(u({},sn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),kn=Zt(u({},an,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bn})),Sn=Zt(u({},rn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Cn=Zt(u({},sn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),jn=Zt(u({},rn,{newState:0,oldState:0})),Fn=[9,13,27,32],En=Ht&&"CompositionEvent"in window,zn=null;Ht&&"documentMode"in document&&(zn=document.documentMode);var An=Ht&&"TextEvent"in window&&!zn,In=Ht&&(!En||zn&&8<zn&&11>=zn),Tn=String.fromCharCode(32),Bn=!1;function Dn(e,t){switch(e){case"keyup":return-1!==Fn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Pn=!1;var Nn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ln(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Nn[e.type]:"textarea"===t}function Mn(e,t,n,r){Lt?Mt?Mt.push(r):Mt=[r]:Lt=r,0<(t=ou(t,"onChange")).length&&(n=new on("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var On=null,_n=null;function Wn(e){Xd(e,0)}function $n(e){if(mt(Xe(e)))return e}function Hn(e,t){if("change"===e)return t}var qn=!1;if(Ht){var Un;if(Ht){var Vn="oninput"in document;if(!Vn){var Gn=document.createElement("div");Gn.setAttribute("oninput","return;"),Vn="function"==typeof Gn.oninput}Un=Vn}else Un=!1;qn=Un&&(!document.documentMode||9<document.documentMode)}function Qn(){On&&(On.detachEvent("onpropertychange",Yn),_n=On=null)}function Yn(e){if("value"===e.propertyName&&$n(_n)){var t=[];Mn(t,_n,e,Nt(e)),Wt(Wn,t)}}function Jn(e,t,n){"focusin"===e?(Qn(),_n=n,(On=t).attachEvent("onpropertychange",Yn)):"focusout"===e&&Qn()}function Xn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(_n)}function Kn(e,t){if("click"===e)return $n(t)}function Zn(e,t){if("input"===e||"change"===e)return $n(t)}var er="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function tr(e,t){if(er(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!te.call(t,i)||!er(e[i],t[i]))return!1}return!0}function nr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function rr(e,t){var n,r=nr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=nr(r)}}function ir(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ir(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function or(e){for(var t=xt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=xt((e=t.contentWindow).document)}return t}function ar(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var lr=Ht&&"documentMode"in document&&11>=document.documentMode,sr=null,cr=null,dr=null,ur=!1;function pr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ur||null==sr||sr!==xt(r)||("selectionStart"in(r=sr)&&ar(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},dr&&tr(dr,r)||(dr=r,0<(r=ou(cr,"onSelect")).length&&(t=new on("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=sr)))}function fr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var hr={animationend:fr("Animation","AnimationEnd"),animationiteration:fr("Animation","AnimationIteration"),animationstart:fr("Animation","AnimationStart"),transitionrun:fr("Transition","TransitionRun"),transitionstart:fr("Transition","TransitionStart"),transitioncancel:fr("Transition","TransitionCancel"),transitionend:fr("Transition","TransitionEnd")},gr={},mr={};function xr(e){if(gr[e])return gr[e];if(!hr[e])return e;var t,n=hr[e];for(t in n)if(n.hasOwnProperty(t)&&t in mr)return gr[e]=n[t];return e}Ht&&(mr=document.createElement("div").style,"AnimationEvent"in window||(delete hr.animationend.animation,delete hr.animationiteration.animation,delete hr.animationstart.animation),"TransitionEvent"in window||delete hr.transitionend.transition);var yr=xr("animationend"),br=xr("animationiteration"),vr=xr("animationstart"),wr=xr("transitionrun"),kr=xr("transitionstart"),Sr=xr("transitioncancel"),Cr=xr("transitionend"),jr=new Map,Fr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Er(e,t){jr.set(e,t),rt(t,[e])}Fr.push("scrollEnd");var zr="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},Ar=[],Ir=0,Tr=0;function Br(){for(var e=Ir,t=Tr=Ir=0;t<e;){var n=Ar[t];Ar[t++]=null;var r=Ar[t];Ar[t++]=null;var i=Ar[t];Ar[t++]=null;var o=Ar[t];if(Ar[t++]=null,null!==r&&null!==i){var a=r.pending;null===a?i.next=i:(i.next=a.next,a.next=i),r.pending=i}0!==o&&Nr(n,i,o)}}function Dr(e,t,n,r){Ar[Ir++]=e,Ar[Ir++]=t,Ar[Ir++]=n,Ar[Ir++]=r,Tr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Rr(e,t,n,r){return Dr(e,t,n,r),Lr(e)}function Pr(e,t){return Dr(e,null,null,t),Lr(e)}function Nr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,o=e.return;null!==o;)o.childLanes|=n,null!==(r=o.alternate)&&(r.childLanes|=n),22===o.tag&&(null===(e=o.stateNode)||1&e._visibility||(i=!0)),e=o,o=o.return;return 3===e.tag?(o=e.stateNode,i&&null!==t&&(i=31-ye(n),null===(r=(e=o.hiddenUpdates)[i])?e[i]=[t]:r.push(t),t.lane=536870912|n),o):null}function Lr(e){if(50<Vc)throw Vc=0,Gc=null,Error(i(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Mr={};function Or(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _r(e,t,n,r){return new Or(e,t,n,r)}function Wr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function $r(e,t){var n=e.alternate;return null===n?((n=_r(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Hr(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function qr(e,t,n,r,o,a){var l=0;if(r=e,"function"==typeof e)Wr(e)&&(l=1);else if("string"==typeof e)l=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!=typeof t.precedence||"string"!=typeof t.href||""===t.href)break;return!0;case"link":if("string"!=typeof t.rel||"string"!=typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"==typeof t.precedence&&null==e);case"script":if(t.async&&"function"!=typeof t.async&&"symbol"!=typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"==typeof t.src)return!0}return!1}(e,n,$.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case j:return(e=_r(31,n,t,o)).elementType=j,e.lanes=a,e;case g:return Ur(n.children,o,a,t);case m:l=8,o|=24;break;case x:return(e=_r(12,n,t,2|o)).elementType=x,e.lanes=a,e;case w:return(e=_r(13,n,t,o)).elementType=w,e.lanes=a,e;case k:return(e=_r(19,n,t,o)).elementType=k,e.lanes=a,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case b:l=10;break e;case y:l=9;break e;case v:l=11;break e;case S:l=14;break e;case C:l=16,r=null;break e}l=29,n=Error(i(130,null===e?"null":typeof e,"")),r=null}return(t=_r(l,n,t,o)).elementType=e,t.type=r,t.lanes=a,t}function Ur(e,t,n,r){return(e=_r(7,e,r,t)).lanes=n,e}function Vr(e,t,n){return(e=_r(6,e,null,t)).lanes=n,e}function Gr(e){var t=_r(18,null,null,0);return t.stateNode=e,t}function Qr(e,t,n){return(t=_r(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Yr=new WeakMap;function Jr(e,t){if("object"==typeof e&&null!==e){var n=Yr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:ee(t)},Yr.set(e,t),t)}return{value:e,source:t,stack:ee(t)}}var Xr=[],Kr=0,Zr=null,ei=0,ti=[],ni=0,ri=null,ii=1,oi="";function ai(e,t){Xr[Kr++]=ei,Xr[Kr++]=Zr,Zr=e,ei=t}function li(e,t,n){ti[ni++]=ii,ti[ni++]=oi,ti[ni++]=ri,ri=e;var r=ii;e=oi;var i=32-ye(r)-1;r&=~(1<<i),n+=1;var o=32-ye(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,ii=1<<32-ye(t)+i|n<<i|r,oi=o+e}else ii=1<<o|n<<i|r,oi=e}function si(e){null!==e.return&&(ai(e,1),li(e,1,0))}function ci(e){for(;e===Zr;)Zr=Xr[--Kr],Xr[Kr]=null,ei=Xr[--Kr],Xr[Kr]=null;for(;e===ri;)ri=ti[--ni],ti[ni]=null,oi=ti[--ni],ti[ni]=null,ii=ti[--ni],ti[ni]=null}function di(e,t){ti[ni++]=ii,ti[ni++]=oi,ti[ni++]=ri,ii=t.id,oi=t.overflow,ri=e}var ui=null,pi=null,fi=!1,hi=null,gi=!1,mi=Error(i(519));function xi(e){throw Si(Jr(Error(i(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML","")),e)),mi}function yi(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Oe]=e,t[We]=r,n){case"dialog":Kd("cancel",t),Kd("close",t);break;case"iframe":case"object":case"embed":Kd("load",t);break;case"video":case"audio":for(n=0;n<Yd.length;n++)Kd(Yd[n],t);break;case"source":Kd("error",t);break;case"img":case"image":case"link":Kd("error",t),Kd("load",t);break;case"details":Kd("toggle",t);break;case"input":Kd("invalid",t),wt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":Kd("invalid",t);break;case"textarea":Kd("invalid",t),jt(t,r.value,r.defaultValue,r.children)}"string"!=typeof(n=r.children)&&"number"!=typeof n&&"bigint"!=typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||uu(t.textContent,n)?(null!=r.popover&&(Kd("beforetoggle",t),Kd("toggle",t)),null!=r.onScroll&&Kd("scroll",t),null!=r.onScrollEnd&&Kd("scrollend",t),null!=r.onClick&&(t.onclick=Rt),t=!0):t=!1,t||xi(e,!0)}function bi(e){for(ui=e.return;ui;)switch(ui.tag){case 5:case 31:case 13:return void(gi=!1);case 27:case 3:return void(gi=!0);default:ui=ui.return}}function vi(e){if(e!==ui)return!1;if(!fi)return bi(e),fi=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||wu(e.type,e.memoizedProps)),t=!t),t&&pi&&xi(e),bi(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));pi=Lu(e)}else if(31===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));pi=Lu(e)}else 27===n?(n=pi,zu(e.type)?(e=Nu,Nu=null,pi=e):pi=n):pi=ui?Pu(e.stateNode.nextSibling):null;return!0}function wi(){pi=ui=null,fi=!1}function ki(){var e=hi;return null!==e&&(null===Bc?Bc=e:Bc.push.apply(Bc,e),hi=null),e}function Si(e){null===hi?hi=[e]:hi.push(e)}var Ci=L(null),ji=null,Fi=null;function Ei(e,t,n){O(Ci,t._currentValue),t._currentValue=n}function zi(e){e._currentValue=Ci.current,M(Ci)}function Ai(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ii(e,t,n,r){var o=e.child;for(null!==o&&(o.return=e);null!==o;){var a=o.dependencies;if(null!==a){var l=o.child;a=a.firstContext;e:for(;null!==a;){var s=a;a=o;for(var c=0;c<t.length;c++)if(s.context===t[c]){a.lanes|=n,null!==(s=a.alternate)&&(s.lanes|=n),Ai(a.return,n,e),r||(l=null);break e}a=s.next}}else if(18===o.tag){if(null===(l=o.return))throw Error(i(341));l.lanes|=n,null!==(a=l.alternate)&&(a.lanes|=n),Ai(l,n,e),l=null}else l=o.child;if(null!==l)l.return=o;else for(l=o;null!==l;){if(l===e){l=null;break}if(null!==(o=l.sibling)){o.return=l.return,l=o;break}l=l.return}o=l}}function Ti(e,t,n,r){e=null;for(var o=t,a=!1;null!==o;){if(!a)if(524288&o.flags)a=!0;else if(262144&o.flags)break;if(10===o.tag){var l=o.alternate;if(null===l)throw Error(i(387));if(null!==(l=l.memoizedProps)){var s=o.type;er(o.pendingProps.value,l.value)||(null!==e?e.push(s):e=[s])}}else if(o===U.current){if(null===(l=o.alternate))throw Error(i(387));l.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(null!==e?e.push(pp):e=[pp])}o=o.return}null!==e&&Ii(t,e,n,r),t.flags|=262144}function Bi(e){for(e=e.firstContext;null!==e;){if(!er(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Di(e){ji=e,Fi=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Ri(e){return Ni(ji,e)}function Pi(e,t){return null===ji&&Di(e),Ni(e,t)}function Ni(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===Fi){if(null===e)throw Error(i(308));Fi=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Fi=Fi.next=t;return n}var Li="undefined"!=typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Mi=t.unstable_scheduleCallback,Oi=t.unstable_NormalPriority,_i={$$typeof:b,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Wi(){return{controller:new Li,data:new Map,refCount:0}}function $i(e){e.refCount--,0===e.refCount&&Mi(Oi,function(){e.controller.abort()})}var Hi=null,qi=0,Ui=0,Vi=null;function Gi(){if(0===--qi&&null!==Hi){null!==Vi&&(Vi.status="fulfilled");var e=Hi;Hi=null,Ui=0,Vi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Qi=B.S;B.S=function(e,t){Pc=ae(),"object"==typeof t&&null!==t&&"function"==typeof t.then&&function(e,t){if(null===Hi){var n=Hi=[];qi=0,Ui=qd(),Vi={status:"pending",value:void 0,then:function(e){n.push(e)}}}qi++,t.then(Gi,Gi)}(0,t),null!==Qi&&Qi(e,t)};var Yi=L(null);function Ji(){var e=Yi.current;return null!==e?e:mc.pooledCache}function Xi(e,t){O(Yi,null===t?Yi.current:t.pool)}function Ki(){var e=Ji();return null===e?null:{parent:_i._currentValue,pool:e}}var Zi=Error(i(460)),eo=Error(i(474)),to=Error(i(542)),no={then:function(){}};function ro(e){return"fulfilled"===(e=e.status)||"rejected"===e}function io(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Rt,Rt),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw so(e=t.reason),e;default:if("string"==typeof t.status)t.then(Rt,Rt);else{if(null!==(e=mc)&&100<e.shellSuspendCounter)throw Error(i(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw so(e=t.reason),e}throw ao=t,Zi}}function oo(e){try{return(0,e._init)(e._payload)}catch(t){if(null!==t&&"object"==typeof t&&"function"==typeof t.then)throw ao=t,Zi;throw t}}var ao=null;function lo(){if(null===ao)throw Error(i(459));var e=ao;return ao=null,e}function so(e){if(e===Zi||e===to)throw Error(i(483))}var co=null,uo=0;function po(e){var t=uo;return uo+=1,null===co&&(co=[]),io(co,e,t)}function fo(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function ho(e,t){if(t.$$typeof===p)throw Error(i(525));throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function go(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function o(e,t){return(e=$r(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function l(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Vr(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function c(e,t,n,r){var i=n.type;return i===g?u(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"==typeof i&&null!==i&&i.$$typeof===C&&oo(i)===t.type)?(fo(t=o(t,n.props),n),t.return=e,t):(fo(t=qr(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function d(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Qr(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function u(e,t,n,r,i){return null===t||7!==t.tag?((t=Ur(n,e.mode,r,i)).return=e,t):((t=o(t,n)).return=e,t)}function p(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t||"bigint"==typeof t)return(t=Vr(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case f:return fo(n=qr(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case h:return(t=Qr(t,e.mode,n)).return=e,t;case C:return p(e,t=oo(t),n)}if(T(t)||z(t))return(t=Ur(t,e.mode,n,null)).return=e,t;if("function"==typeof t.then)return p(e,po(t),n);if(t.$$typeof===b)return p(e,Pi(e,t),n);ho(e,t)}return null}function m(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n||"bigint"==typeof n)return null!==i?null:s(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case f:return n.key===i?c(e,t,n,r):null;case h:return n.key===i?d(e,t,n,r):null;case C:return m(e,t,n=oo(n),r)}if(T(n)||z(n))return null!==i?null:u(e,t,n,r,null);if("function"==typeof n.then)return m(e,t,po(n),r);if(n.$$typeof===b)return m(e,t,Pi(e,n),r);ho(e,n)}return null}function x(e,t,n,r,i){if("string"==typeof r&&""!==r||"number"==typeof r||"bigint"==typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case f:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case h:return d(t,e=e.get(null===r.key?n:r.key)||null,r,i);case C:return x(e,t,n,r=oo(r),i)}if(T(r)||z(r))return u(t,e=e.get(n)||null,r,i,null);if("function"==typeof r.then)return x(e,t,n,po(r),i);if(r.$$typeof===b)return x(e,t,n,Pi(t,r),i);ho(t,r)}return null}function y(s,c,d,u){if("object"==typeof d&&null!==d&&d.type===g&&null===d.key&&(d=d.props.children),"object"==typeof d&&null!==d){switch(d.$$typeof){case f:e:{for(var v=d.key;null!==c;){if(c.key===v){if((v=d.type)===g){if(7===c.tag){n(s,c.sibling),(u=o(c,d.props.children)).return=s,s=u;break e}}else if(c.elementType===v||"object"==typeof v&&null!==v&&v.$$typeof===C&&oo(v)===c.type){n(s,c.sibling),fo(u=o(c,d.props),d),u.return=s,s=u;break e}n(s,c);break}t(s,c),c=c.sibling}d.type===g?((u=Ur(d.props.children,s.mode,u,d.key)).return=s,s=u):(fo(u=qr(d.type,d.key,d.props,null,s.mode,u),d),u.return=s,s=u)}return l(s);case h:e:{for(v=d.key;null!==c;){if(c.key===v){if(4===c.tag&&c.stateNode.containerInfo===d.containerInfo&&c.stateNode.implementation===d.implementation){n(s,c.sibling),(u=o(c,d.children||[])).return=s,s=u;break e}n(s,c);break}t(s,c),c=c.sibling}(u=Qr(d,s.mode,u)).return=s,s=u}return l(s);case C:return y(s,c,d=oo(d),u)}if(T(d))return function(i,o,l,s){for(var c=null,d=null,u=o,f=o=0,h=null;null!==u&&f<l.length;f++){u.index>f?(h=u,u=null):h=u.sibling;var g=m(i,u,l[f],s);if(null===g){null===u&&(u=h);break}e&&u&&null===g.alternate&&t(i,u),o=a(g,o,f),null===d?c=g:d.sibling=g,d=g,u=h}if(f===l.length)return n(i,u),fi&&ai(i,f),c;if(null===u){for(;f<l.length;f++)null!==(u=p(i,l[f],s))&&(o=a(u,o,f),null===d?c=u:d.sibling=u,d=u);return fi&&ai(i,f),c}for(u=r(u);f<l.length;f++)null!==(h=x(u,i,f,l[f],s))&&(e&&null!==h.alternate&&u.delete(null===h.key?f:h.key),o=a(h,o,f),null===d?c=h:d.sibling=h,d=h);return e&&u.forEach(function(e){return t(i,e)}),fi&&ai(i,f),c}(s,c,d,u);if(z(d)){if("function"!=typeof(v=z(d)))throw Error(i(150));return function(o,l,s,c){if(null==s)throw Error(i(151));for(var d=null,u=null,f=l,h=l=0,g=null,y=s.next();null!==f&&!y.done;h++,y=s.next()){f.index>h?(g=f,f=null):g=f.sibling;var b=m(o,f,y.value,c);if(null===b){null===f&&(f=g);break}e&&f&&null===b.alternate&&t(o,f),l=a(b,l,h),null===u?d=b:u.sibling=b,u=b,f=g}if(y.done)return n(o,f),fi&&ai(o,h),d;if(null===f){for(;!y.done;h++,y=s.next())null!==(y=p(o,y.value,c))&&(l=a(y,l,h),null===u?d=y:u.sibling=y,u=y);return fi&&ai(o,h),d}for(f=r(f);!y.done;h++,y=s.next())null!==(y=x(f,o,h,y.value,c))&&(e&&null!==y.alternate&&f.delete(null===y.key?h:y.key),l=a(y,l,h),null===u?d=y:u.sibling=y,u=y);return e&&f.forEach(function(e){return t(o,e)}),fi&&ai(o,h),d}(s,c,d=v.call(d),u)}if("function"==typeof d.then)return y(s,c,po(d),u);if(d.$$typeof===b)return y(s,c,Pi(s,d),u);ho(s,d)}return"string"==typeof d&&""!==d||"number"==typeof d||"bigint"==typeof d?(d=""+d,null!==c&&6===c.tag?(n(s,c.sibling),(u=o(c,d)).return=s,s=u):(n(s,c),(u=Vr(d,s.mode,u)).return=s,s=u),l(s)):n(s,c)}return function(e,t,n,r){try{uo=0;var i=y(e,t,n,r);return co=null,i}catch(a){if(a===Zi||a===to)throw a;var o=_r(29,a,null,e.mode);return o.lanes=r,o.return=e,o}}}var mo=go(!0),xo=go(!1),yo=!1;function bo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function wo(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ko(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&gc){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=Lr(e),Nr(e,null,n),t}return Dr(e,r,t,n),Lr(e)}function So(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Be(e,n)}}function Co(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var jo=!1;function Fo(){if(jo){if(null!==Vi)throw Vi}}function Eo(e,t,n,r){jo=!1;var i=e.updateQueue;yo=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,l=i.shared.pending;if(null!==l){i.shared.pending=null;var s=l,c=s.next;s.next=null,null===a?o=c:a.next=c,a=s;var d=e.alternate;null!==d&&((l=(d=d.updateQueue).lastBaseUpdate)!==a&&(null===l?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=s))}if(null!==o){var p=i.baseState;for(a=0,d=c=s=null,l=o;;){var f=-536870913&l.lane,h=f!==l.lane;if(h?(yc&f)===f:(r&f)===f){0!==f&&f===Ui&&(jo=!0),null!==d&&(d=d.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});e:{var g=e,m=l;f=t;var x=n;switch(m.tag){case 1:if("function"==typeof(g=m.payload)){p=g.call(x,p,f);break e}p=g;break e;case 3:g.flags=-65537&g.flags|128;case 0:if(null==(f="function"==typeof(g=m.payload)?g.call(x,p,f):g))break e;p=u({},p,f);break e;case 2:yo=!0}}null!==(f=l.callback)&&(e.flags|=64,h&&(e.flags|=8192),null===(h=i.callbacks)?i.callbacks=[f]:h.push(f))}else h={lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},null===d?(c=d=h,s=p):d=d.next=h,a|=f;if(null===(l=l.next)){if(null===(l=i.shared.pending))break;l=(h=l).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}null===d&&(s=p),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=d,null===o&&(i.shared.lanes=0),Fc|=a,e.lanes=a,e.memoizedState=p}}function zo(e,t){if("function"!=typeof e)throw Error(i(191,e));e.call(t)}function Ao(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)zo(n[e],t)}var Io=L(null),To=L(0);function Bo(e,t){O(To,e=Cc),O(Io,t),Cc=e|t.baseLanes}function Do(){O(To,Cc),O(Io,Io.current)}function Ro(){Cc=To.current,M(Io),M(To)}var Po=L(null),No=null;function Lo(e){var t=e.alternate;O($o,1&$o.current),O(Po,e),null===No&&(null===t||null!==Io.current||null!==t.memoizedState)&&(No=e)}function Mo(e){O($o,$o.current),O(Po,e),null===No&&(No=e)}function Oo(e){22===e.tag?(O($o,$o.current),O(Po,e),null===No&&(No=e)):_o()}function _o(){O($o,$o.current),O(Po,Po.current)}function Wo(e){M(Po),No===e&&(No=null),M($o)}var $o=L(0);function Ho(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||Du(n)||Ru(n)))return t}else if(19!==t.tag||"forwards"!==t.memoizedProps.revealOrder&&"backwards"!==t.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==t.memoizedProps.revealOrder&&"together"!==t.memoizedProps.revealOrder){if(null!==t.child){t.child.return=t,t=t.child;continue}}else if(128&t.flags)return t;if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var qo=0,Uo=null,Vo=null,Go=null,Qo=!1,Yo=!1,Jo=!1,Xo=0,Ko=0,Zo=null,ea=0;function ta(){throw Error(i(321))}function na(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!er(e[n],t[n]))return!1;return!0}function ra(e,t,n,r,i,o){return qo=o,Uo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,B.H=null===e||null===e.memoizedState?yl:bl,Jo=!1,o=n(r,i),Jo=!1,Yo&&(o=oa(t,n,r,i)),ia(e),o}function ia(e){B.H=xl;var t=null!==Vo&&null!==Vo.next;if(qo=0,Go=Vo=Uo=null,Qo=!1,Ko=0,Zo=null,t)throw Error(i(300));null===e||Pl||null!==(e=e.dependencies)&&Bi(e)&&(Pl=!0)}function oa(e,t,n,r){Uo=e;var o=0;do{if(Yo&&(Zo=null),Ko=0,Yo=!1,25<=o)throw Error(i(301));if(o+=1,Go=Vo=null,null!=e.updateQueue){var a=e.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,null!=a.memoCache&&(a.memoCache.index=0)}B.H=vl,a=t(n,r)}while(Yo);return a}function aa(){var e=B.H,t=e.useState()[0];return t="function"==typeof t.then?pa(t):t,e=e.useState()[0],(null!==Vo?Vo.memoizedState:null)!==e&&(Uo.flags|=1024),t}function la(){var e=0!==Xo;return Xo=0,e}function sa(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function ca(e){if(Qo){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Qo=!1}qo=0,Go=Vo=Uo=null,Yo=!1,Ko=Xo=0,Zo=null}function da(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Go?Uo.memoizedState=Go=e:Go=Go.next=e,Go}function ua(){if(null===Vo){var e=Uo.alternate;e=null!==e?e.memoizedState:null}else e=Vo.next;var t=null===Go?Uo.memoizedState:Go.next;if(null!==t)Go=t,Vo=e;else{if(null===e){if(null===Uo.alternate)throw Error(i(467));throw Error(i(310))}e={memoizedState:(Vo=e).memoizedState,baseState:Vo.baseState,baseQueue:Vo.baseQueue,queue:Vo.queue,next:null},null===Go?Uo.memoizedState=Go=e:Go=Go.next=e}return Go}function pa(e){var t=Ko;return Ko+=1,null===Zo&&(Zo=[]),e=io(Zo,e,t),t=Uo,null===(null===Go?t.memoizedState:Go.next)&&(t=t.alternate,B.H=null===t||null===t.memoizedState?yl:bl),e}function fa(e){if(null!==e&&"object"==typeof e){if("function"==typeof e.then)return pa(e);if(e.$$typeof===b)return Ri(e)}throw Error(i(438,String(e)))}function ha(e){var t=null,n=Uo.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=Uo.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},Uo.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=F;return t.index++,n}function ga(e,t){return"function"==typeof t?t(e):t}function ma(e){return xa(ua(),Vo,e)}function xa(e,t,n){var r=e.queue;if(null===r)throw Error(i(311));r.lastRenderedReducer=n;var o=e.baseQueue,a=r.pending;if(null!==a){if(null!==o){var l=o.next;o.next=a.next,a.next=l}t.baseQueue=o=a,r.pending=null}if(a=e.baseState,null===o)e.memoizedState=a;else{var s=l=null,c=null,d=t=o.next,u=!1;do{var p=-536870913&d.lane;if(p!==d.lane?(yc&p)===p:(qo&p)===p){var f=d.revertLane;if(0===f)null!==c&&(c=c.next={lane:0,revertLane:0,gesture:null,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),p===Ui&&(u=!0);else{if((qo&f)===f){d=d.next,f===Ui&&(u=!0);continue}p={lane:0,revertLane:d.revertLane,gesture:null,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},null===c?(s=c=p,l=a):c=c.next=p,Uo.lanes|=f,Fc|=f}p=d.action,Jo&&n(a,p),a=d.hasEagerState?d.eagerState:n(a,p)}else f={lane:p,revertLane:d.revertLane,gesture:d.gesture,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},null===c?(s=c=f,l=a):c=c.next=f,Uo.lanes|=p,Fc|=p;d=d.next}while(null!==d&&d!==t);if(null===c?l=a:c.next=s,!er(a,e.memoizedState)&&(Pl=!0,u&&null!==(n=Vi)))throw n;e.memoizedState=a,e.baseState=l,e.baseQueue=c,r.lastRenderedState=a}return null===o&&(r.lanes=0),[e.memoizedState,r.dispatch]}function ya(e){var t=ua(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,a=t.memoizedState;if(null!==o){n.pending=null;var l=o=o.next;do{a=e(a,l.action),l=l.next}while(l!==o);er(a,t.memoizedState)||(Pl=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ba(e,t,n){var r=Uo,o=ua(),a=fi;if(a){if(void 0===n)throw Error(i(407));n=n()}else n=t();var l=!er((Vo||o).memoizedState,n);if(l&&(o.memoizedState=n,Pl=!0),o=o.queue,qa(ka.bind(null,r,o,e),[e]),o.getSnapshot!==t||l||null!==Go&&1&Go.memoizedState.tag){if(r.flags|=2048,Oa(9,{destroy:void 0},wa.bind(null,r,o,n,t),null),null===mc)throw Error(i(349));a||127&qo||va(r,t,n)}return n}function va(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Uo.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},Uo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function wa(e,t,n,r){t.value=n,t.getSnapshot=r,Sa(t)&&Ca(e)}function ka(e,t,n){return n(function(){Sa(t)&&Ca(e)})}function Sa(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!er(e,n)}catch(r){return!0}}function Ca(e){var t=Pr(e,2);null!==t&&Jc(t,e,2)}function ja(e){var t=da();if("function"==typeof e){var n=e;if(e=n(),Jo){xe(!0);try{n()}finally{xe(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ga,lastRenderedState:e},t}function Fa(e,t,n,r){return e.baseState=n,xa(e,Vo,"function"==typeof r?r:ga)}function Ea(e,t,n,r,o){if(hl(e))throw Error(i(485));if(null!==(e=t.action)){var a={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){a.listeners.push(e)}};null!==B.T?n(!0):a.isTransition=!1,r(a),null===(n=t.pending)?(a.next=t.pending=a,za(t,a)):(a.next=n.next,t.pending=n.next=a)}}function za(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var o=B.T,a={};B.T=a;try{var l=n(i,r),s=B.S;null!==s&&s(a,l),Aa(e,t,l)}catch(c){Ta(e,t,c)}finally{null!==o&&null!==a.types&&(o.types=a.types),B.T=o}}else try{Aa(e,t,o=n(i,r))}catch(d){Ta(e,t,d)}}function Aa(e,t,n){null!==n&&"object"==typeof n&&"function"==typeof n.then?n.then(function(n){Ia(e,t,n)},function(n){return Ta(e,t,n)}):Ia(e,t,n)}function Ia(e,t,n){t.status="fulfilled",t.value=n,Ba(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,za(e,n)))}function Ta(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,Ba(t),t=t.next}while(t!==r)}e.action=null}function Ba(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Da(e,t){return t}function Ra(e,t){if(fi){var n=mc.formState;if(null!==n){e:{var r=Uo;if(fi){if(pi){t:{for(var i=pi,o=gi;8!==i.nodeType;){if(!o){i=null;break t}if(null===(i=Pu(i.nextSibling))){i=null;break t}}i="F!"===(o=i.data)||"F"===o?i:null}if(i){pi=Pu(i.nextSibling),r="F!"===i.data;break e}}xi(r)}r=!1}r&&(t=n[0])}}return(n=da()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Da,lastRenderedState:t},n.queue=r,n=ul.bind(null,Uo,r),r.dispatch=n,r=ja(!1),o=fl.bind(null,Uo,!1,r.queue),i={state:t,dispatch:null,action:e,pending:null},(r=da()).queue=i,n=Ea.bind(null,Uo,i,o,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function Pa(e){return Na(ua(),Vo,e)}function Na(e,t,n){if(t=xa(e,t,Da)[0],e=ma(ga)[0],"object"==typeof t&&null!==t&&"function"==typeof t.then)try{var r=pa(t)}catch(a){if(a===Zi)throw to;throw a}else r=t;var i=(t=ua()).queue,o=i.dispatch;return n!==t.memoizedState&&(Uo.flags|=2048,Oa(9,{destroy:void 0},La.bind(null,i,n),null)),[r,o,e]}function La(e,t){e.action=t}function Ma(e){var t=ua(),n=Vo;if(null!==n)return Na(t,n,e);ua(),t=t.memoizedState;var r=(n=ua()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function Oa(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=Uo.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},Uo.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function _a(){return ua().memoizedState}function Wa(e,t,n,r){var i=da();Uo.flags|=e,i.memoizedState=Oa(1|t,{destroy:void 0},n,void 0===r?null:r)}function $a(e,t,n,r){var i=ua();r=void 0===r?null:r;var o=i.memoizedState.inst;null!==Vo&&null!==r&&na(r,Vo.memoizedState.deps)?i.memoizedState=Oa(t,o,n,r):(Uo.flags|=e,i.memoizedState=Oa(1|t,o,n,r))}function Ha(e,t){Wa(8390656,8,e,t)}function qa(e,t){$a(2048,8,e,t)}function Ua(e){var t=ua().memoizedState;return function(e){Uo.flags|=4;var t=Uo.updateQueue;if(null===t)t={lastEffect:null,events:null,stores:null,memoCache:null},Uo.updateQueue=t,t.events=[e];else{var n=t.events;null===n?t.events=[e]:n.push(e)}}({ref:t,nextImpl:e}),function(){if(2&gc)throw Error(i(440));return t.impl.apply(void 0,arguments)}}function Va(e,t){return $a(4,2,e,t)}function Ga(e,t){return $a(4,4,e,t)}function Qa(e,t){if("function"==typeof t){e=e();var n=t(e);return function(){"function"==typeof n?n():t(null)}}if(null!=t)return e=e(),t.current=e,function(){t.current=null}}function Ya(e,t,n){n=null!=n?n.concat([e]):null,$a(4,4,Qa.bind(null,t,e),n)}function Ja(){}function Xa(e,t){var n=ua();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&na(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ka(e,t){var n=ua();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&na(t,r[1]))return r[0];if(r=e(),Jo){xe(!0);try{e()}finally{xe(!1)}}return n.memoizedState=[r,t],r}function Za(e,t,n){return void 0===n||1073741824&qo&&!(261930&yc)?e.memoizedState=t:(e.memoizedState=n,e=Yc(),Uo.lanes|=e,Fc|=e,n)}function el(e,t,n,r){return er(n,t)?n:null!==Io.current?(e=Za(e,n,r),er(e,t)||(Pl=!0),e):42&qo&&(!(1073741824&qo)||261930&yc)?(e=Yc(),Uo.lanes|=e,Fc|=e,t):(Pl=!0,e.memoizedState=n)}function tl(e,t,n,r,i){var o=D.p;D.p=0!==o&&8>o?o:8;var a,l,s,c=B.T,d={};B.T=d,fl(e,!1,t,n);try{var u=i(),p=B.S;if(null!==p&&p(d,u),null!==u&&"object"==typeof u&&"function"==typeof u.then)pl(e,t,(a=r,l=[],s={status:"pending",value:null,reason:null,then:function(e){l.push(e)}},u.then(function(){s.status="fulfilled",s.value=a;for(var e=0;e<l.length;e++)(0,l[e])(a)},function(e){for(s.status="rejected",s.reason=e,e=0;e<l.length;e++)(0,l[e])(void 0)}),s),Qc());else pl(e,t,r,Qc())}catch(f){pl(e,t,{then:function(){},status:"rejected",reason:f},Qc())}finally{D.p=o,null!==c&&null!==d.types&&(c.types=d.types),B.T=c}}function nl(){}function rl(e,t,n,r){if(5!==e.tag)throw Error(i(476));var o=il(e).queue;tl(e,o,t,R,null===n?nl:function(){return ol(e),n(r)})}function il(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:R,baseState:R,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ga,lastRenderedState:R},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ga,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function ol(e){var t=il(e);null===t.next&&(t=e.alternate.memoizedState),pl(e,t.next.queue,{},Qc())}function al(){return Ri(pp)}function ll(){return ua().memoizedState}function sl(){return ua().memoizedState}function cl(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Qc(),r=ko(t,e=wo(n),n);return null!==r&&(Jc(r,t,n),So(r,t,n)),t={cache:Wi()},void(e.payload=t)}t=t.return}}function dl(e,t,n){var r=Qc();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},hl(e)?gl(t,n):null!==(n=Rr(e,t,n,r))&&(Jc(n,e,r),ml(n,t,r))}function ul(e,t,n){pl(e,t,n,Qc())}function pl(e,t,n,r){var i={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(hl(e))gl(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,l=o(a,n);if(i.hasEagerState=!0,i.eagerState=l,er(l,a))return Dr(e,t,i,0),null===mc&&Br(),!1}catch(s){}if(null!==(n=Rr(e,t,i,r)))return Jc(n,e,r),ml(n,t,r),!0}return!1}function fl(e,t,n,r){if(r={lane:2,revertLane:qd(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},hl(e)){if(t)throw Error(i(479))}else null!==(t=Rr(e,n,r,2))&&Jc(t,e,2)}function hl(e){var t=e.alternate;return e===Uo||null!==t&&t===Uo}function gl(e,t){Yo=Qo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ml(e,t,n){if(4194048&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Be(e,n)}}var xl={readContext:Ri,use:fa,useCallback:ta,useContext:ta,useEffect:ta,useImperativeHandle:ta,useLayoutEffect:ta,useInsertionEffect:ta,useMemo:ta,useReducer:ta,useRef:ta,useState:ta,useDebugValue:ta,useDeferredValue:ta,useTransition:ta,useSyncExternalStore:ta,useId:ta,useHostTransitionStatus:ta,useFormState:ta,useActionState:ta,useOptimistic:ta,useMemoCache:ta,useCacheRefresh:ta};xl.useEffectEvent=ta;var yl={readContext:Ri,use:fa,useCallback:function(e,t){return da().memoizedState=[e,void 0===t?null:t],e},useContext:Ri,useEffect:Ha,useImperativeHandle:function(e,t,n){n=null!=n?n.concat([e]):null,Wa(4194308,4,Qa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Wa(4194308,4,e,t)},useInsertionEffect:function(e,t){Wa(4,2,e,t)},useMemo:function(e,t){var n=da();t=void 0===t?null:t;var r=e();if(Jo){xe(!0);try{e()}finally{xe(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=da();if(void 0!==n){var i=n(t);if(Jo){xe(!0);try{n(t)}finally{xe(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=dl.bind(null,Uo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},da().memoizedState=e},useState:function(e){var t=(e=ja(e)).queue,n=ul.bind(null,Uo,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Ja,useDeferredValue:function(e,t){return Za(da(),e,t)},useTransition:function(){var e=ja(!1);return e=tl.bind(null,Uo,e.queue,!0,!1),da().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=Uo,o=da();if(fi){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===mc)throw Error(i(349));127&yc||va(r,t,n)}o.memoizedState=n;var a={value:n,getSnapshot:t};return o.queue=a,Ha(ka.bind(null,r,a,e),[e]),r.flags|=2048,Oa(9,{destroy:void 0},wa.bind(null,r,a,n,t),null),n},useId:function(){var e=da(),t=mc.identifierPrefix;if(fi){var n=oi;t="_"+t+"R_"+(n=(ii&~(1<<32-ye(ii)-1)).toString(32)+n),0<(n=Xo++)&&(t+="H"+n.toString(32)),t+="_"}else t="_"+t+"r_"+(n=ea++).toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:al,useFormState:Ra,useActionState:Ra,useOptimistic:function(e){var t=da();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=fl.bind(null,Uo,!0,n),n.dispatch=t,[e,t]},useMemoCache:ha,useCacheRefresh:function(){return da().memoizedState=cl.bind(null,Uo)},useEffectEvent:function(e){var t=da(),n={impl:e};return t.memoizedState=n,function(){if(2&gc)throw Error(i(440));return n.impl.apply(void 0,arguments)}}},bl={readContext:Ri,use:fa,useCallback:Xa,useContext:Ri,useEffect:qa,useImperativeHandle:Ya,useInsertionEffect:Va,useLayoutEffect:Ga,useMemo:Ka,useReducer:ma,useRef:_a,useState:function(){return ma(ga)},useDebugValue:Ja,useDeferredValue:function(e,t){return el(ua(),Vo.memoizedState,e,t)},useTransition:function(){var e=ma(ga)[0],t=ua().memoizedState;return["boolean"==typeof e?e:pa(e),t]},useSyncExternalStore:ba,useId:ll,useHostTransitionStatus:al,useFormState:Pa,useActionState:Pa,useOptimistic:function(e,t){return Fa(ua(),0,e,t)},useMemoCache:ha,useCacheRefresh:sl};bl.useEffectEvent=Ua;var vl={readContext:Ri,use:fa,useCallback:Xa,useContext:Ri,useEffect:qa,useImperativeHandle:Ya,useInsertionEffect:Va,useLayoutEffect:Ga,useMemo:Ka,useReducer:ya,useRef:_a,useState:function(){return ya(ga)},useDebugValue:Ja,useDeferredValue:function(e,t){var n=ua();return null===Vo?Za(n,e,t):el(n,Vo.memoizedState,e,t)},useTransition:function(){var e=ya(ga)[0],t=ua().memoizedState;return["boolean"==typeof e?e:pa(e),t]},useSyncExternalStore:ba,useId:ll,useHostTransitionStatus:al,useFormState:Ma,useActionState:Ma,useOptimistic:function(e,t){var n=ua();return null!==Vo?Fa(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:ha,useCacheRefresh:sl};function wl(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:u({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}vl.useEffectEvent=Ua;var kl={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Qc(),i=wo(r);i.payload=t,null!=n&&(i.callback=n),null!==(t=ko(e,i,r))&&(Jc(t,e,r),So(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Qc(),i=wo(r);i.tag=1,i.payload=t,null!=n&&(i.callback=n),null!==(t=ko(e,i,r))&&(Jc(t,e,r),So(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Qc(),r=wo(n);r.tag=2,null!=t&&(r.callback=t),null!==(t=ko(e,r,n))&&(Jc(t,e,n),So(t,e,n))}};function Sl(e,t,n,r,i,o,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!tr(n,r)||!tr(i,o))}function Cl(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&kl.enqueueReplaceState(t,t.state,null)}function jl(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=u({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}function Fl(e){zr(e)}function El(e){console.error(e)}function zl(e){zr(e)}function Al(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Il(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Tl(e,t,n){return(n=wo(n)).tag=3,n.payload={element:null},n.callback=function(){Al(e,t)},n}function Bl(e){return(e=wo(e)).tag=3,e}function Dl(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"==typeof i){var o=r.value;e.payload=function(){return i(o)},e.callback=function(){Il(t,n,r)}}var a=n.stateNode;null!==a&&"function"==typeof a.componentDidCatch&&(e.callback=function(){Il(t,n,r),"function"!=typeof i&&(null===Mc?Mc=new Set([this]):Mc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Rl=Error(i(461)),Pl=!1;function Nl(e,t,n,r){t.child=null===e?xo(t,null,n,r):mo(t,e.child,n,r)}function Ll(e,t,n,r,i){n=n.render;var o=t.ref;if("ref"in r){var a={};for(var l in r)"ref"!==l&&(a[l]=r[l])}else a=r;return Di(t),r=ra(e,t,n,a,o,i),l=la(),null===e||Pl?(fi&&l&&si(t),t.flags|=1,Nl(e,t,r,i),t.child):(sa(e,t,i),as(e,t,i))}function Ml(e,t,n,r,i){if(null===e){var o=n.type;return"function"!=typeof o||Wr(o)||void 0!==o.defaultProps||null!==n.compare?((e=qr(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Ol(e,t,o,r,i))}if(o=e.child,!ls(e,i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:tr)(a,r)&&e.ref===t.ref)return as(e,t,i)}return t.flags|=1,(e=$r(o,r)).ref=t.ref,e.return=t,t.child=e}function Ol(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(tr(o,r)&&e.ref===t.ref){if(Pl=!1,t.pendingProps=r=o,!ls(e,i))return t.lanes=e.lanes,as(e,t,i);131072&e.flags&&(Pl=!0)}}return Vl(e,t,n,r,i)}function _l(e,t,n,r){var i=r.children,o=null!==e?e.memoizedState:null;if(null===e&&null===t.stateNode&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===r.mode){if(128&t.flags){if(o=null!==o?o.baseLanes|n:n,null!==e){for(r=t.child=e.child,i=0;null!==r;)i=i|r.lanes|r.childLanes,r=r.sibling;r=i&~o}else r=0,t.child=null;return $l(e,t,o,n,r)}if(!(536870912&n))return r=t.lanes=536870912,$l(e,t,null!==o?o.baseLanes|n:n,n,r);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Xi(0,null!==o?o.cachePool:null),null!==o?Bo(t,o):Do(),Oo(t)}else null!==o?(Xi(0,o.cachePool),Bo(t,o),_o(),t.memoizedState=null):(null!==e&&Xi(0,null),Do(),_o());return Nl(e,t,i,n),t.child}function Wl(e,t){return null!==e&&22===e.tag||null!==t.stateNode||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function $l(e,t,n,r,i){var o=Ji();return o=null===o?null:{parent:_i._currentValue,pool:o},t.memoizedState={baseLanes:n,cachePool:o},null!==e&&Xi(0,null),Do(),Oo(t),null!==e&&Ti(e,t,r,!0),t.childLanes=i,null}function Hl(e,t){return(t=ts({mode:t.mode,children:t.children},e.mode)).ref=e.ref,e.child=t,t.return=e,t}function ql(e,t,n){return mo(t,e.child,null,n),(e=Hl(t,t.pendingProps)).flags|=2,Wo(t),t.memoizedState=null,e}function Ul(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!=typeof n&&"object"!=typeof n)throw Error(i(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Vl(e,t,n,r,i){return Di(t),n=ra(e,t,n,r,void 0,i),r=la(),null===e||Pl?(fi&&r&&si(t),t.flags|=1,Nl(e,t,n,i),t.child):(sa(e,t,i),as(e,t,i))}function Gl(e,t,n,r,i,o){return Di(t),t.updateQueue=null,n=oa(t,r,n,i),ia(e),r=la(),null===e||Pl?(fi&&r&&si(t),t.flags|=1,Nl(e,t,n,o),t.child):(sa(e,t,o),as(e,t,o))}function Ql(e,t,n,r,i){if(Di(t),null===t.stateNode){var o=Mr,a=n.contextType;"object"==typeof a&&null!==a&&(o=Ri(a)),o=new n(r,o),t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,o.updater=kl,t.stateNode=o,o._reactInternals=t,(o=t.stateNode).props=r,o.state=t.memoizedState,o.refs={},bo(t),a=n.contextType,o.context="object"==typeof a&&null!==a?Ri(a):Mr,o.state=t.memoizedState,"function"==typeof(a=n.getDerivedStateFromProps)&&(wl(t,n,a,r),o.state=t.memoizedState),"function"==typeof n.getDerivedStateFromProps||"function"==typeof o.getSnapshotBeforeUpdate||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||(a=o.state,"function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),a!==o.state&&kl.enqueueReplaceState(o,o.state,null),Eo(t,r,o,i),Fo(),o.state=t.memoizedState),"function"==typeof o.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){o=t.stateNode;var l=t.memoizedProps,s=jl(n,l);o.props=s;var c=o.context,d=n.contextType;a=Mr,"object"==typeof d&&null!==d&&(a=Ri(d));var u=n.getDerivedStateFromProps;d="function"==typeof u||"function"==typeof o.getSnapshotBeforeUpdate,l=t.pendingProps!==l,d||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(l||c!==a)&&Cl(t,o,r,a),yo=!1;var p=t.memoizedState;o.state=p,Eo(t,r,o,i),Fo(),c=t.memoizedState,l||p!==c||yo?("function"==typeof u&&(wl(t,n,u,r),c=t.memoizedState),(s=yo||Sl(t,n,s,r,p,c,a))?(d||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||("function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"==typeof o.componentDidMount&&(t.flags|=4194308)):("function"==typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=a,r=s):("function"==typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,vo(e,t),d=jl(n,a=t.memoizedProps),o.props=d,u=t.pendingProps,p=o.context,c=n.contextType,s=Mr,"object"==typeof c&&null!==c&&(s=Ri(c)),(c="function"==typeof(l=n.getDerivedStateFromProps)||"function"==typeof o.getSnapshotBeforeUpdate)||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(a!==u||p!==s)&&Cl(t,o,r,s),yo=!1,p=t.memoizedState,o.state=p,Eo(t,r,o,i),Fo();var f=t.memoizedState;a!==u||p!==f||yo||null!==e&&null!==e.dependencies&&Bi(e.dependencies)?("function"==typeof l&&(wl(t,n,l,r),f=t.memoizedState),(d=yo||Sl(t,n,d,r,p,f,s)||null!==e&&null!==e.dependencies&&Bi(e.dependencies))?(c||"function"!=typeof o.UNSAFE_componentWillUpdate&&"function"!=typeof o.componentWillUpdate||("function"==typeof o.componentWillUpdate&&o.componentWillUpdate(r,f,s),"function"==typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,f,s)),"function"==typeof o.componentDidUpdate&&(t.flags|=4),"function"==typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof o.componentDidUpdate||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),o.props=r,o.state=f,o.context=s,r=d):("function"!=typeof o.componentDidUpdate||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return o=r,Ul(e,t),r=!!(128&t.flags),o||r?(o=t.stateNode,n=r&&"function"!=typeof n.getDerivedStateFromError?null:o.render(),t.flags|=1,null!==e&&r?(t.child=mo(t,e.child,null,i),t.child=mo(t,null,n,i)):Nl(e,t,n,i),t.memoizedState=o.state,e=t.child):e=as(e,t,i),e}function Yl(e,t,n,r){return wi(),t.flags|=256,Nl(e,t,n,r),t.child}var Jl={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Xl(e){return{baseLanes:e,cachePool:Ki()}}function Kl(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=Ac),e}function Zl(e,t,n){var r,o=t.pendingProps,a=!1,l=!!(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&!!(2&$o.current)),r&&(a=!0,t.flags&=-129),r=!!(32&t.flags),t.flags&=-33,null===e){if(fi){if(a?Lo(t):_o(),(e=pi)?null!==(e=null!==(e=Bu(e,gi))&&"&"!==e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ri?{id:ii,overflow:oi}:null,retryLane:536870912,hydrationErrors:null},(n=Gr(e)).return=t,t.child=n,ui=t,pi=null):e=null,null===e)throw xi(t);return Ru(e)?t.lanes=32:t.lanes=536870912,null}var s=o.children;return o=o.fallback,a?(_o(),s=ts({mode:"hidden",children:s},a=t.mode),o=Ur(o,a,n,null),s.return=t,o.return=t,s.sibling=o,t.child=s,(o=t.child).memoizedState=Xl(n),o.childLanes=Kl(e,r,n),t.memoizedState=Jl,Wl(null,o)):(Lo(t),es(t,s))}var c=e.memoizedState;if(null!==c&&null!==(s=c.dehydrated)){if(l)256&t.flags?(Lo(t),t.flags&=-257,t=ns(e,t,n)):null!==t.memoizedState?(_o(),t.child=e.child,t.flags|=128,t=null):(_o(),s=o.fallback,a=t.mode,o=ts({mode:"visible",children:o.children},a),(s=Ur(s,a,n,null)).flags|=2,o.return=t,s.return=t,o.sibling=s,t.child=o,mo(t,e.child,null,n),(o=t.child).memoizedState=Xl(n),o.childLanes=Kl(e,r,n),t.memoizedState=Jl,t=Wl(null,o));else if(Lo(t),Ru(s)){if(r=s.nextSibling&&s.nextSibling.dataset)var d=r.dgst;r=d,(o=Error(i(419))).stack="",o.digest=r,Si({value:o,source:null,stack:null}),t=ns(e,t,n)}else if(Pl||Ti(e,t,n,!1),r=0!==(n&e.childLanes),Pl||r){if(null!==(r=mc)&&(0!==(o=De(r,n))&&o!==c.retryLane))throw c.retryLane=o,Pr(e,o),Jc(r,e,o),Rl;Du(s)||sd(),t=ns(e,t,n)}else Du(s)?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,pi=Pu(s.nextSibling),ui=t,fi=!0,hi=null,gi=!1,null!==e&&di(t,e),(t=es(t,o.children)).flags|=4096);return t}return a?(_o(),s=o.fallback,a=t.mode,d=(c=e.child).sibling,(o=$r(c,{mode:"hidden",children:o.children})).subtreeFlags=65011712&c.subtreeFlags,null!==d?s=$r(d,s):(s=Ur(s,a,n,null)).flags|=2,s.return=t,o.return=t,o.sibling=s,t.child=o,Wl(null,o),o=t.child,null===(s=e.child.memoizedState)?s=Xl(n):(null!==(a=s.cachePool)?(c=_i._currentValue,a=a.parent!==c?{parent:c,pool:c}:a):a=Ki(),s={baseLanes:s.baseLanes|n,cachePool:a}),o.memoizedState=s,o.childLanes=Kl(e,r,n),t.memoizedState=Jl,Wl(e.child,o)):(Lo(t),e=(n=e.child).sibling,(n=$r(n,{mode:"visible",children:o.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function es(e,t){return(t=ts({mode:"visible",children:t},e.mode)).return=e,e.child=t}function ts(e,t){return(e=_r(22,e,null,t)).lanes=0,e}function ns(e,t,n){return mo(t,e.child,null,n),(e=es(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function rs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ai(e.return,t,n)}function is(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,treeForkCount:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.treeForkCount=o)}function os(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;r=r.children;var a=$o.current,l=!!(2&a);if(l?(a=1&a|2,t.flags|=128):a&=1,O($o,a),Nl(e,t,r,n),r=fi?ei:0,!l&&null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&rs(e,n,t);else if(19===e.tag)rs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Ho(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),is(t,!1,i,n,o,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Ho(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}is(t,!0,n,null,o,r);break;case"together":is(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function as(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Ti(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=$r(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=$r(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function ls(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Bi(e))}function ss(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Pl=!0;else{if(!(ls(e,n)||128&t.flags))return Pl=!1,function(e,t,n){switch(t.tag){case 3:V(t,t.stateNode.containerInfo),Ei(0,_i,e.memoizedState.cache),wi();break;case 27:case 5:Q(t);break;case 4:V(t,t.stateNode.containerInfo);break;case 10:Ei(0,t.type,t.memoizedProps.value);break;case 31:if(null!==t.memoizedState)return t.flags|=128,Mo(t),null;break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(Lo(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Zl(e,t,n):(Lo(t),null!==(e=as(e,t,n))?e.sibling:null);Lo(t);break;case 19:var i=!!(128&e.flags);if((r=0!==(n&t.childLanes))||(Ti(e,t,n,!1),r=0!==(n&t.childLanes)),i){if(r)return os(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),O($o,$o.current),r)break;return null;case 22:return t.lanes=0,_l(e,t,n,t.pendingProps);case 24:Ei(0,_i,e.memoizedState.cache)}return as(e,t,n)}(e,t,n);Pl=!!(131072&e.flags)}else Pl=!1,fi&&1048576&t.flags&&li(t,ei,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=oo(t.elementType),t.type=e,"function"!=typeof e){if(null!=e){var o=e.$$typeof;if(o===v){t.tag=11,t=Ll(null,t,e,r,n);break e}if(o===S){t.tag=14,t=Ml(null,t,e,r,n);break e}}throw t=I(e)||e,Error(i(306,t,""))}Wr(e)?(r=jl(e,r),t.tag=1,t=Ql(null,t,e,r,n)):(t.tag=0,t=Vl(null,t,e,r,n))}return t;case 0:return Vl(e,t,t.type,t.pendingProps,n);case 1:return Ql(e,t,r=t.type,o=jl(r,t.pendingProps),n);case 3:e:{if(V(t,t.stateNode.containerInfo),null===e)throw Error(i(387));r=t.pendingProps;var a=t.memoizedState;o=a.element,vo(e,t),Eo(t,r,null,n);var l=t.memoizedState;if(r=l.cache,Ei(0,_i,r),r!==a.cache&&Ii(t,[_i],n,!0),Fo(),r=l.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:l.cache},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Yl(e,t,r,n);break e}if(r!==o){Si(o=Jr(Error(i(424)),t)),t=Yl(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(pi=Pu(e.firstChild),ui=t,fi=!0,hi=null,gi=!0,n=xo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(wi(),r===o){t=as(e,t,n);break e}Nl(e,t,r,n)}t=t.child}return t;case 26:return Ul(e,t),null===e?(n=Gu(t.type,null,t.pendingProps,null))?t.memoizedState=n:fi||(n=t.type,e=t.pendingProps,(r=yu(q.current).createElement(n))[Oe]=t,r[We]=e,hu(r,n,e),Ze(r),t.stateNode=r):t.memoizedState=Gu(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Q(t),null===e&&fi&&(r=t.stateNode=Ou(t.type,t.pendingProps,q.current),ui=t,gi=!0,o=pi,zu(t.type)?(Nu=o,pi=Pu(r.firstChild)):pi=o),Nl(e,t,t.pendingProps.children,n),Ul(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&fi&&((o=r=pi)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Ge])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(o=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(o!==i.rel||e.getAttribute("href")!==(null==i.href||""===i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((o=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var o=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===o)return e}if(null===(e=Pu(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,gi))?(t.stateNode=r,ui=t,pi=Pu(r.firstChild),gi=!1,o=!0):o=!1),o||xi(t)),Q(t),o=t.type,a=t.pendingProps,l=null!==e?e.memoizedProps:null,r=a.children,wu(o,a)?r=null:null!==l&&wu(o,l)&&(t.flags|=32),null!==t.memoizedState&&(o=ra(e,t,aa,null,null,n),pp._currentValue=o),Ul(e,t),Nl(e,t,r,n),t.child;case 6:return null===e&&fi&&((e=n=pi)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=Pu(e.nextSibling)))return null}return e}(n,t.pendingProps,gi))?(t.stateNode=n,ui=t,pi=null,e=!0):e=!1),e||xi(t)),null;case 13:return Zl(e,t,n);case 4:return V(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=mo(t,null,r,n):Nl(e,t,r,n),t.child;case 11:return Ll(e,t,t.type,t.pendingProps,n);case 7:return Nl(e,t,t.pendingProps,n),t.child;case 8:case 12:return Nl(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,Ei(0,t.type,r.value),Nl(e,t,r.children,n),t.child;case 9:return o=t.type._context,r=t.pendingProps.children,Di(t),r=r(o=Ri(o)),t.flags|=1,Nl(e,t,r,n),t.child;case 14:return Ml(e,t,t.type,t.pendingProps,n);case 15:return Ol(e,t,t.type,t.pendingProps,n);case 19:return os(e,t,n);case 31:return function(e,t,n){var r=t.pendingProps,o=!!(128&t.flags);if(t.flags&=-129,null===e){if(fi){if("hidden"===r.mode)return e=Hl(t,r),t.lanes=536870912,Wl(null,e);if(Mo(t),(e=pi)?null!==(e=null!==(e=Bu(e,gi))&&"&"===e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ri?{id:ii,overflow:oi}:null,retryLane:536870912,hydrationErrors:null},(n=Gr(e)).return=t,t.child=n,ui=t,pi=null):e=null,null===e)throw xi(t);return t.lanes=536870912,null}return Hl(t,r)}var a=e.memoizedState;if(null!==a){var l=a.dehydrated;if(Mo(t),o)if(256&t.flags)t.flags&=-257,t=ql(e,t,n);else{if(null===t.memoizedState)throw Error(i(558));t.child=e.child,t.flags|=128,t=null}else if(Pl||Ti(e,t,n,!1),o=0!==(n&e.childLanes),Pl||o){if(null!==(r=mc)&&0!==(l=De(r,n))&&l!==a.retryLane)throw a.retryLane=l,Pr(e,l),Jc(r,e,l),Rl;sd(),t=ql(e,t,n)}else e=a.treeContext,pi=Pu(l.nextSibling),ui=t,fi=!0,hi=null,gi=!1,null!==e&&di(t,e),(t=Hl(t,r)).flags|=4096;return t}return(e=$r(e.child,{mode:r.mode,children:r.children})).ref=t.ref,t.child=e,e.return=t,e}(e,t,n);case 22:return _l(e,t,n,t.pendingProps);case 24:return Di(t),r=Ri(_i),null===e?(null===(o=Ji())&&(o=mc,a=Wi(),o.pooledCache=a,a.refCount++,null!==a&&(o.pooledCacheLanes|=n),o=a),t.memoizedState={parent:r,cache:o},bo(t),Ei(0,_i,o)):(0!==(e.lanes&n)&&(vo(e,t),Eo(t,null,null,n),Fo()),o=e.memoizedState,a=t.memoizedState,o.parent!==r?(o={parent:r,cache:r},t.memoizedState=o,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=o),Ei(0,_i,r)):(r=a.cache,Ei(0,_i,r),r!==o.cache&&Ii(t,[_i],n,!0))),Nl(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function cs(e){e.flags|=4}function ds(e,t,n,r,i){if((t=!!(32&e.mode))&&(t=!1),t){if(e.flags|=16777216,(335544128&i)===i)if(e.stateNode.complete)e.flags|=8192;else{if(!od())throw ao=no,eo;e.flags|=8192}}else e.flags&=-16777217}function us(e,t){if("stylesheet"!==t.type||4&t.state.loading)e.flags&=-16777217;else if(e.flags|=16777216,!ap(t)){if(!od())throw ao=no,eo;e.flags|=8192}}function ps(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?ze():536870912,e.lanes|=t,Ic|=t)}function fs(e,t){if(!fi)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function hs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=65011712&i.subtreeFlags,r|=65011712&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function gs(e,t,n){var r=t.pendingProps;switch(ci(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return hs(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),zi(_i),G(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(vi(t)?cs(t):null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,ki())),hs(t),null;case 26:var o=t.type,a=t.memoizedState;return null===e?(cs(t),null!==a?(hs(t),us(t,a)):(hs(t),ds(t,o,0,0,n))):a?a!==e.memoizedState?(cs(t),hs(t),us(t,a)):(hs(t),t.flags&=-16777217):((e=e.memoizedProps)!==r&&cs(t),hs(t),ds(t,o,0,0,n)),null;case 27:if(Y(t),n=q.current,o=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&cs(t);else{if(!r){if(null===t.stateNode)throw Error(i(166));return hs(t),null}e=$.current,vi(t)?yi(t):(e=Ou(o,r,n),t.stateNode=e,cs(t))}return hs(t),null;case 5:if(Y(t),o=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&cs(t);else{if(!r){if(null===t.stateNode)throw Error(i(166));return hs(t),null}if(a=$.current,vi(t))yi(t);else{var l=yu(q.current);switch(a){case 1:a=l.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:a=l.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":a=l.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":a=l.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":(a=l.createElement("div")).innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a="string"==typeof r.is?l.createElement("select",{is:r.is}):l.createElement("select"),r.multiple?a.multiple=!0:r.size&&(a.size=r.size);break;default:a="string"==typeof r.is?l.createElement(o,{is:r.is}):l.createElement(o)}}a[Oe]=t,a[We]=r;e:for(l=t.child;null!==l;){if(5===l.tag||6===l.tag)a.appendChild(l.stateNode);else if(4!==l.tag&&27!==l.tag&&null!==l.child){l.child.return=l,l=l.child;continue}if(l===t)break e;for(;null===l.sibling;){if(null===l.return||l.return===t)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}t.stateNode=a;e:switch(hu(a,o,r),o){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&cs(t)}}return hs(t),ds(t,t.type,null===e||e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&cs(t);else{if("string"!=typeof r&&null===t.stateNode)throw Error(i(166));if(e=q.current,vi(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(o=ui))switch(o.tag){case 27:case 5:r=o.memoizedProps}e[Oe]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||uu(e.nodeValue,n)))||xi(t,!0)}else(e=yu(e).createTextNode(r))[Oe]=t,t.stateNode=e}return hs(t),null;case 31:if(n=t.memoizedState,null===e||null!==e.memoizedState){if(r=vi(t),null!==n){if(null===e){if(!r)throw Error(i(318));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(i(557));e[Oe]=t}else wi(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;hs(t),e=!1}else n=ki(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return 256&t.flags?(Wo(t),t):(Wo(t),null);if(128&t.flags)throw Error(i(558))}return hs(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(o=vi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(i(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(i(317));o[Oe]=t}else wi(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;hs(t),o=!1}else o=ki(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return 256&t.flags?(Wo(t),t):(Wo(t),null)}return Wo(t),128&t.flags?(t.lanes=n,t):(n=null!==r,e=null!==e&&null!==e.memoizedState,n&&(o=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(o=r.alternate.memoizedState.cachePool.pool),a=null,null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(a=r.memoizedState.cachePool.pool),a!==o&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),ps(t,t.updateQueue),hs(t),null);case 4:return G(),null===e&&tu(t.stateNode.containerInfo),hs(t),null;case 10:return zi(t.type),hs(t),null;case 19:if(M($o),null===(r=t.memoizedState))return hs(t),null;if(o=!!(128&t.flags),null===(a=r.rendering))if(o)fs(r,!1);else{if(0!==jc||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(a=Ho(e))){for(t.flags|=128,fs(r,!1),e=a.updateQueue,t.updateQueue=e,ps(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Hr(n,e),n=n.sibling;return O($o,1&$o.current|2),fi&&ai(t,r.treeForkCount),t.child}e=e.sibling}null!==r.tail&&ae()>Nc&&(t.flags|=128,o=!0,fs(r,!1),t.lanes=4194304)}else{if(!o)if(null!==(e=Ho(a))){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,ps(t,e),fs(r,!0),null===r.tail&&"hidden"===r.tailMode&&!a.alternate&&!fi)return hs(t),null}else 2*ae()-r.renderingStartTime>Nc&&536870912!==n&&(t.flags|=128,o=!0,fs(r,!1),t.lanes=4194304);r.isBackwards?(a.sibling=t.child,t.child=a):(null!==(e=r.last)?e.sibling=a:t.child=a,r.last=a)}return null!==r.tail?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=ae(),e.sibling=null,n=$o.current,O($o,o?1&n|2:1&n),fi&&ai(t,r.treeForkCount),e):(hs(t),null);case 22:case 23:return Wo(t),Ro(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?!!(536870912&n)&&!(128&t.flags)&&(hs(t),6&t.subtreeFlags&&(t.flags|=8192)):hs(t),null!==(n=t.updateQueue)&&ps(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&M(Yi),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),zi(_i),hs(t),null;case 25:case 30:return null}throw Error(i(156,t.tag))}function ms(e,t){switch(ci(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return zi(_i),G(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Y(t),null;case 31:if(null!==t.memoizedState){if(Wo(t),null===t.alternate)throw Error(i(340));wi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 13:if(Wo(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));wi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return M($o),null;case 4:return G(),null;case 10:return zi(t.type),null;case 22:case 23:return Wo(t),Ro(),null!==e&&M(Yi),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return zi(_i),null;default:return null}}function xs(e,t){switch(ci(t),t.tag){case 3:zi(_i),G();break;case 26:case 27:case 5:Y(t);break;case 4:G();break;case 31:null!==t.memoizedState&&Wo(t);break;case 13:Wo(t);break;case 19:M($o);break;case 10:zi(t.type);break;case 22:case 23:Wo(t),Ro(),null!==e&&M(Yi);break;case 24:zi(_i)}}function ys(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var o=n.create,a=n.inst;r=o(),a.destroy=r}n=n.next}while(n!==i)}}catch(l){jd(t,t.return,l)}}function bs(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var o=i.next;r=o;do{if((r.tag&e)===e){var a=r.inst,l=a.destroy;if(void 0!==l){a.destroy=void 0,i=t;var s=n,c=l;try{c()}catch(d){jd(i,s,d)}}}r=r.next}while(r!==o)}}catch(d){jd(t,t.return,d)}}function vs(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{Ao(t,n)}catch(r){jd(e,e.return,r)}}}function ws(e,t,n){n.props=jl(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){jd(e,t,r)}}function ks(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"==typeof n?e.refCleanup=n(r):n.current=r}}catch(i){jd(e,t,i)}}function Ss(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"==typeof r)try{r()}catch(i){jd(e,t,i)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"==typeof n)try{n(null)}catch(o){jd(e,t,o)}else n.current=null}function Cs(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){jd(e,e.return,i)}}function js(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,a=null,l=null,s=null,c=null,d=null,u=null;for(h in n){var p=n[h];if(n.hasOwnProperty(h)&&null!=p)switch(h){case"checked":case"value":break;case"defaultValue":c=p;default:r.hasOwnProperty(h)||pu(e,t,h,null,r,p)}}for(var f in r){var h=r[f];if(p=n[f],r.hasOwnProperty(f)&&(null!=h||null!=p))switch(f){case"type":a=h;break;case"name":o=h;break;case"checked":d=h;break;case"defaultChecked":u=h;break;case"value":l=h;break;case"defaultValue":s=h;break;case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(i(137,t));break;default:h!==p&&pu(e,t,f,h,r,p)}}return void vt(e,l,s,c,d,u,a,o);case"select":for(a in h=l=s=f=null,n)if(c=n[a],n.hasOwnProperty(a)&&null!=c)switch(a){case"value":break;case"multiple":h=c;default:r.hasOwnProperty(a)||pu(e,t,a,null,r,c)}for(o in r)if(a=r[o],c=n[o],r.hasOwnProperty(o)&&(null!=a||null!=c))switch(o){case"value":f=a;break;case"defaultValue":s=a;break;case"multiple":l=a;default:a!==c&&pu(e,t,o,a,r,c)}return t=s,n=l,r=h,void(null!=f?St(e,!!n,f,!1):!!r!=!!n&&(null!=t?St(e,!!n,t,!0):St(e,!!n,n?[]:"",!1)));case"textarea":for(s in h=f=null,n)if(o=n[s],n.hasOwnProperty(s)&&null!=o&&!r.hasOwnProperty(s))switch(s){case"value":case"children":break;default:pu(e,t,s,null,r,o)}for(l in r)if(o=r[l],a=n[l],r.hasOwnProperty(l)&&(null!=o||null!=a))switch(l){case"value":f=o;break;case"defaultValue":h=o;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=o)throw Error(i(91));break;default:o!==a&&pu(e,t,l,o,r,a)}return void Ct(e,f,h);case"option":for(var g in n)if(f=n[g],n.hasOwnProperty(g)&&null!=f&&!r.hasOwnProperty(g))if("selected"===g)e.selected=!1;else pu(e,t,g,null,r,f);for(c in r)if(f=r[c],h=n[c],r.hasOwnProperty(c)&&f!==h&&(null!=f||null!=h))if("selected"===c)e.selected=f&&"function"!=typeof f&&"symbol"!=typeof f;else pu(e,t,c,f,r,h);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var m in n)f=n[m],n.hasOwnProperty(m)&&null!=f&&!r.hasOwnProperty(m)&&pu(e,t,m,null,r,f);for(d in r)if(f=r[d],h=n[d],r.hasOwnProperty(d)&&f!==h&&(null!=f||null!=h))switch(d){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(i(137,t));break;default:pu(e,t,d,f,r,h)}return;default:if(It(t)){for(var x in n)f=n[x],n.hasOwnProperty(x)&&void 0!==f&&!r.hasOwnProperty(x)&&fu(e,t,x,void 0,r,f);for(u in r)f=r[u],h=n[u],!r.hasOwnProperty(u)||f===h||void 0===f&&void 0===h||fu(e,t,u,f,r,h);return}}for(var y in n)f=n[y],n.hasOwnProperty(y)&&null!=f&&!r.hasOwnProperty(y)&&pu(e,t,y,null,r,f);for(p in r)f=r[p],h=n[p],!r.hasOwnProperty(p)||f===h||null==f&&null==h||pu(e,t,p,f,r,h)}(r,e.type,n,t),r[We]=t}catch(o){jd(e,e.return,o)}}function Fs(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&zu(e.type)||4===e.tag}function Es(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Fs(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&zu(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function zs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Rt));else if(4!==r&&(27===r&&zu(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(zs(e,t,n),e=e.sibling;null!==e;)zs(e,t,n),e=e.sibling}function As(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&zu(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(As(e,t,n),e=e.sibling;null!==e;)As(e,t,n),e=e.sibling}function Is(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);hu(t,r,n),t[Oe]=e,t[We]=n}catch(o){jd(e,e.return,o)}}var Ts=!1,Bs=!1,Ds=!1,Rs="function"==typeof WeakSet?WeakSet:Set,Ps=null;function Ns(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Js(e,n),4&r&&ys(5,n);break;case 1:if(Js(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(a){jd(n,n.return,a)}else{var i=jl(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(l){jd(n,n.return,l)}}64&r&&vs(n),512&r&&ks(n,n.return);break;case 3:if(Js(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{Ao(e,t)}catch(a){jd(n,n.return,a)}}break;case 27:null===t&&4&r&&Is(n);case 26:case 5:Js(e,n),null===t&&4&r&&Cs(n),512&r&&ks(n,n.return);break;case 12:Js(e,n);break;case 31:Js(e,n),4&r&&$s(e,n);break;case 13:Js(e,n),4&r&&Hs(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$~"===e.data)e._reactRetry=t;else if("$?"!==e.data||"loading"!==n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=Ad.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||Ts)){t=null!==t&&null!==t.memoizedState||Bs,i=Ts;var o=Bs;Ts=r,(Bs=t)&&!o?Ks(e,n,!!(8772&n.subtreeFlags)):Js(e,n),Ts=i,Bs=o}break;case 30:break;default:Js(e,n)}}function Ls(e){var t=e.alternate;null!==t&&(e.alternate=null,Ls(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Qe(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ms=null,Os=!1;function _s(e,t,n){for(n=n.child;null!==n;)Ws(e,t,n),n=n.sibling}function Ws(e,t,n){if(me&&"function"==typeof me.onCommitFiberUnmount)try{me.onCommitFiberUnmount(ge,n)}catch(o){}switch(n.tag){case 26:Bs||Ss(n,t),_s(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Bs||Ss(n,t);var r=Ms,i=Os;zu(n.type)&&(Ms=n.stateNode,Os=!1),_s(e,t,n),_u(n.stateNode),Ms=r,Os=i;break;case 5:Bs||Ss(n,t);case 6:if(r=Ms,i=Os,Ms=null,_s(e,t,n),Os=i,null!==(Ms=r))if(Os)try{(9===Ms.nodeType?Ms.body:"HTML"===Ms.nodeName?Ms.ownerDocument.body:Ms).removeChild(n.stateNode)}catch(a){jd(n,t,a)}else try{Ms.removeChild(n.stateNode)}catch(a){jd(n,t,a)}break;case 18:null!==Ms&&(Os?(Au(9===(e=Ms).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Vp(e)):Au(Ms,n.stateNode));break;case 4:r=Ms,i=Os,Ms=n.stateNode.containerInfo,Os=!0,_s(e,t,n),Ms=r,Os=i;break;case 0:case 11:case 14:case 15:bs(2,n,t),Bs||bs(4,n,t),_s(e,t,n);break;case 1:Bs||(Ss(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount&&ws(n,t,r)),_s(e,t,n);break;case 21:_s(e,t,n);break;case 22:Bs=(r=Bs)||null!==n.memoizedState,_s(e,t,n),Bs=r;break;default:_s(e,t,n)}}function $s(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&null!==(e=e.memoizedState))){e=e.dehydrated;try{Vp(e)}catch(n){jd(t,t.return,n)}}}function Hs(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Vp(e)}catch(n){jd(t,t.return,n)}}function qs(e,t){var n=function(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Rs),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Rs),t;default:throw Error(i(435,e.tag))}}(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var r=Id.bind(null,e,t);t.then(r,r)}})}function Us(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var o=n[r],a=e,l=t,s=l;e:for(;null!==s;){switch(s.tag){case 27:if(zu(s.type)){Ms=s.stateNode,Os=!1;break e}break;case 5:Ms=s.stateNode,Os=!1;break e;case 3:case 4:Ms=s.stateNode.containerInfo,Os=!0;break e}s=s.return}if(null===Ms)throw Error(i(160));Ws(a,l,o),Ms=null,Os=!1,null!==(a=o.alternate)&&(a.return=null),o.return=null}if(13886&t.subtreeFlags)for(t=t.child;null!==t;)Gs(t,e),t=t.sibling}var Vs=null;function Gs(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Us(t,e),Qs(e),4&r&&(bs(3,e,e.return),ys(3,e),bs(5,e,e.return));break;case 1:Us(t,e),Qs(e),512&r&&(Bs||null===n||Ss(n,n.return)),64&r&&Ts&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var o=Vs;if(Us(t,e),Qs(e),512&r&&(Bs||null===n||Ss(n,n.return)),4&r){var a=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,o=o.ownerDocument||o;t:switch(r){case"title":(!(a=o.getElementsByTagName("title")[0])||a[Ge]||a[Oe]||"http://www.w3.org/2000/svg"===a.namespaceURI||a.hasAttribute("itemprop"))&&(a=o.createElement(r),o.head.insertBefore(a,o.querySelector("head > title"))),hu(a,r,n),a[Oe]=e,Ze(a),r=a;break e;case"link":var l=ip("link","href",o).get(r+(n.href||""));if(l)for(var s=0;s<l.length;s++)if((a=l[s]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&a.getAttribute("rel")===(null==n.rel?null:n.rel)&&a.getAttribute("title")===(null==n.title?null:n.title)&&a.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){l.splice(s,1);break t}hu(a=o.createElement(r),r,n),o.head.appendChild(a);break;case"meta":if(l=ip("meta","content",o).get(r+(n.content||"")))for(s=0;s<l.length;s++)if((a=l[s]).getAttribute("content")===(null==n.content?null:""+n.content)&&a.getAttribute("name")===(null==n.name?null:n.name)&&a.getAttribute("property")===(null==n.property?null:n.property)&&a.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&a.getAttribute("charset")===(null==n.charSet?null:n.charSet)){l.splice(s,1);break t}hu(a=o.createElement(r),r,n),o.head.appendChild(a);break;default:throw Error(i(468,r))}a[Oe]=e,Ze(a),r=a}e.stateNode=r}else op(o,e.type,e.stateNode);else e.stateNode=Zu(o,r,e.memoizedProps);else a!==r?(null===a?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):a.count--,null===r?op(o,e.type,e.stateNode):Zu(o,r,e.memoizedProps)):null===r&&null!==e.stateNode&&js(e,e.memoizedProps,n.memoizedProps)}break;case 27:Us(t,e),Qs(e),512&r&&(Bs||null===n||Ss(n,n.return)),null!==n&&4&r&&js(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Us(t,e),Qs(e),512&r&&(Bs||null===n||Ss(n,n.return)),32&e.flags){o=e.stateNode;try{Ft(o,"")}catch(g){jd(e,e.return,g)}}4&r&&null!=e.stateNode&&js(e,o=e.memoizedProps,null!==n?n.memoizedProps:o),1024&r&&(Ds=!0);break;case 6:if(Us(t,e),Qs(e),4&r){if(null===e.stateNode)throw Error(i(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(g){jd(e,e.return,g)}}break;case 3:if(rp=null,o=Vs,Vs=Hu(t.containerInfo),Us(t,e),Vs=o,Qs(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Vp(t.containerInfo)}catch(g){jd(e,e.return,g)}Ds&&(Ds=!1,Ys(e));break;case 4:r=Vs,Vs=Hu(e.stateNode.containerInfo),Us(t,e),Qs(e),Vs=r;break;case 12:default:Us(t,e),Qs(e);break;case 31:case 19:Us(t,e),Qs(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,qs(e,r)));break;case 13:Us(t,e),Qs(e),8192&e.child.flags&&null!==e.memoizedState!=(null!==n&&null!==n.memoizedState)&&(Rc=ae()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,qs(e,r)));break;case 22:o=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,d=Ts,u=Bs;if(Ts=d||o,Bs=u||c,Us(t,e),Bs=u,Ts=d,Qs(e),8192&r)e:for(t=e.stateNode,t._visibility=o?-2&t._visibility:1|t._visibility,o&&(null===n||c||Ts||Bs||Xs(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(a=c.stateNode,o)"function"==typeof(l=a.style).setProperty?l.setProperty("display","none","important"):l.display="none";else{s=c.stateNode;var p=c.memoizedProps.style,f=null!=p&&p.hasOwnProperty("display")?p.display:null;s.style.display=null==f||"boolean"==typeof f?"":(""+f).trim()}}catch(g){jd(c,c.return,g)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=o?"":c.memoizedProps}catch(g){jd(c,c.return,g)}}}else if(18===t.tag){if(null===n){c=t;try{var h=c.stateNode;o?Iu(h,!0):Iu(c.stateNode,!1)}catch(g){jd(c,c.return,g)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,qs(e,n))));case 30:case 21:}}function Qs(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(Fs(r)){n=r;break}r=r.return}if(null==n)throw Error(i(160));switch(n.tag){case 27:var o=n.stateNode;As(e,Es(e),o);break;case 5:var a=n.stateNode;32&n.flags&&(Ft(a,""),n.flags&=-33),As(e,Es(e),a);break;case 3:case 4:var l=n.stateNode.containerInfo;zs(e,Es(e),l);break;default:throw Error(i(161))}}catch(s){jd(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Ys(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Ys(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Js(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Ns(e,t.alternate,t),t=t.sibling}function Xs(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:bs(4,t,t.return),Xs(t);break;case 1:Ss(t,t.return);var n=t.stateNode;"function"==typeof n.componentWillUnmount&&ws(t,t.return,n),Xs(t);break;case 27:_u(t.stateNode);case 26:case 5:Ss(t,t.return),Xs(t);break;case 22:null===t.memoizedState&&Xs(t);break;default:Xs(t)}e=e.sibling}}function Ks(e,t,n){for(n=n&&!!(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,i=e,o=t,a=o.flags;switch(o.tag){case 0:case 11:case 15:Ks(i,o,n),ys(4,o);break;case 1:if(Ks(i,o,n),"function"==typeof(i=(r=o).stateNode).componentDidMount)try{i.componentDidMount()}catch(c){jd(r,r.return,c)}if(null!==(i=(r=o).updateQueue)){var l=r.stateNode;try{var s=i.shared.hiddenCallbacks;if(null!==s)for(i.shared.hiddenCallbacks=null,i=0;i<s.length;i++)zo(s[i],l)}catch(c){jd(r,r.return,c)}}n&&64&a&&vs(o),ks(o,o.return);break;case 27:Is(o);case 26:case 5:Ks(i,o,n),n&&null===r&&4&a&&Cs(o),ks(o,o.return);break;case 12:Ks(i,o,n);break;case 31:Ks(i,o,n),n&&4&a&&$s(i,o);break;case 13:Ks(i,o,n),n&&4&a&&Hs(i,o);break;case 22:null===o.memoizedState&&Ks(i,o,n),ks(o,o.return);break;case 30:break;default:Ks(i,o,n)}t=t.sibling}}function Zs(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&$i(n))}function ec(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&$i(e))}function tc(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)nc(e,t,n,r),t=t.sibling}function nc(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:tc(e,t,n,r),2048&i&&ys(9,t);break;case 1:case 31:case 13:default:tc(e,t,n,r);break;case 3:tc(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&$i(e)));break;case 12:if(2048&i){tc(e,t,n,r),e=t.stateNode;try{var o=t.memoizedProps,a=o.id,l=o.onPostCommit;"function"==typeof l&&l(a,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(s){jd(t,t.return,s)}}else tc(e,t,n,r);break;case 23:break;case 22:o=t.stateNode,a=t.alternate,null!==t.memoizedState?2&o._visibility?tc(e,t,n,r):ic(e,t):2&o._visibility?tc(e,t,n,r):(o._visibility|=2,rc(e,t,n,r,!!(10256&t.subtreeFlags)||!1)),2048&i&&Zs(a,t);break;case 24:tc(e,t,n,r),2048&i&&ec(t.alternate,t)}}function rc(e,t,n,r,i){for(i=i&&(!!(10256&t.subtreeFlags)||!1),t=t.child;null!==t;){var o=e,a=t,l=n,s=r,c=a.flags;switch(a.tag){case 0:case 11:case 15:rc(o,a,l,s,i),ys(8,a);break;case 23:break;case 22:var d=a.stateNode;null!==a.memoizedState?2&d._visibility?rc(o,a,l,s,i):ic(o,a):(d._visibility|=2,rc(o,a,l,s,i)),i&&2048&c&&Zs(a.alternate,a);break;case 24:rc(o,a,l,s,i),i&&2048&c&&ec(a.alternate,a);break;default:rc(o,a,l,s,i)}t=t.sibling}}function ic(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:ic(n,r),2048&i&&Zs(r.alternate,r);break;case 24:ic(n,r),2048&i&&ec(r.alternate,r);break;default:ic(n,r)}t=t.sibling}}var oc=8192;function ac(e,t,n){if(e.subtreeFlags&oc)for(e=e.child;null!==e;)lc(e,t,n),e=e.sibling}function lc(e,t,n){switch(e.tag){case 26:ac(e,t,n),e.flags&oc&&null!==e.memoizedState&&function(e,t,n,r){if(!("stylesheet"!==n.type||"string"==typeof r.media&&!1===matchMedia(r.media).matches||4&n.state.loading)){if(null===n.instance){var i=Qu(r.href),o=t.querySelector(Yu(i));if(o)return null!==(t=o._p)&&"object"==typeof t&&"function"==typeof t.then&&(e.count++,e=sp.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=o,void Ze(o);o=t.ownerDocument||t,r=Ju(r),(i=Wu.get(i))&&tp(r,i),Ze(o=o.createElement("link"));var a=o;a._p=new Promise(function(e,t){a.onload=e,a.onerror=t}),hu(o,"link",r),n.instance=o}null===e.stylesheets&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(3&n.state.loading)&&(e.count++,n=sp.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}(n,Vs,e.memoizedState,e.memoizedProps);break;case 5:default:ac(e,t,n);break;case 3:case 4:var r=Vs;Vs=Hu(e.stateNode.containerInfo),ac(e,t,n),Vs=r;break;case 22:null===e.memoizedState&&(null!==(r=e.alternate)&&null!==r.memoizedState?(r=oc,oc=16777216,ac(e,t,n),oc=r):ac(e,t,n))}}function sc(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function cc(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Ps=r,pc(r,e)}sc(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)dc(e),e=e.sibling}function dc(e){switch(e.tag){case 0:case 11:case 15:cc(e),2048&e.flags&&bs(9,e,e.return);break;case 3:case 12:default:cc(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,uc(e)):cc(e)}}function uc(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Ps=r,pc(r,e)}sc(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:bs(8,t,t.return),uc(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,uc(t));break;default:uc(t)}e=e.sibling}}function pc(e,t){for(;null!==Ps;){var n=Ps;switch(n.tag){case 0:case 11:case 15:bs(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:$i(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,Ps=r;else e:for(n=e;null!==Ps;){var i=(r=Ps).sibling,o=r.return;if(Ls(r),r===n){Ps=null;break e}if(null!==i){i.return=o,Ps=i;break e}Ps=o}}}var fc={getCacheForType:function(e){var t=Ri(_i),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Ri(_i).controller.signal}},hc="function"==typeof WeakMap?WeakMap:Map,gc=0,mc=null,xc=null,yc=0,bc=0,vc=null,wc=!1,kc=!1,Sc=!1,Cc=0,jc=0,Fc=0,Ec=0,zc=0,Ac=0,Ic=0,Tc=null,Bc=null,Dc=!1,Rc=0,Pc=0,Nc=1/0,Lc=null,Mc=null,Oc=0,_c=null,Wc=null,$c=0,Hc=0,qc=null,Uc=null,Vc=0,Gc=null;function Qc(){return 2&gc&&0!==yc?yc&-yc:null!==B.T?qd():Ne()}function Yc(){if(0===Ac)if(536870912&yc&&!fi)Ac=536870912;else{var e=ke;!(3932160&(ke<<=1))&&(ke=262144),Ac=e}return null!==(e=Po.current)&&(e.flags|=32),Ac}function Jc(e,t,n){(e!==mc||2!==bc&&9!==bc)&&null===e.cancelPendingCommit||(rd(e,0),ed(e,yc,Ac,!1)),Ie(e,n),2&gc&&e===mc||(e===mc&&(!(2&gc)&&(Ec|=n),4===jc&&ed(e,yc,Ac,!1)),Ld(e))}function Xc(e,t,n){if(6&gc)throw Error(i(327));for(var r=!n&&!(127&t)&&0===(t&e.expiredLanes)||Fe(e,t),o=r?function(e,t){var n=gc;gc|=2;var r=ad(),o=ld();mc!==e||yc!==t?(Lc=null,Nc=ae()+500,rd(e,t)):kc=Fe(e,t);e:for(;;)try{if(0!==bc&&null!==xc){t=xc;var a=vc;t:switch(bc){case 1:bc=0,vc=null,hd(e,t,a,1);break;case 2:case 9:if(ro(a)){bc=0,vc=null,fd(t);break}t=function(){2!==bc&&9!==bc||mc!==e||(bc=7),Ld(e)},a.then(t,t);break e;case 3:bc=7;break e;case 4:bc=5;break e;case 7:ro(a)?(bc=0,vc=null,fd(t)):(bc=0,vc=null,hd(e,t,a,7));break;case 5:var l=null;switch(xc.tag){case 26:l=xc.memoizedState;case 5:case 27:var s=xc;if(l?ap(l):s.stateNode.complete){bc=0,vc=null;var c=s.sibling;if(null!==c)xc=c;else{var d=s.return;null!==d?(xc=d,gd(d)):xc=null}break t}}bc=0,vc=null,hd(e,t,a,5);break;case 6:bc=0,vc=null,hd(e,t,a,6);break;case 8:nd(),jc=6;break e;default:throw Error(i(462))}}ud();break}catch(u){id(e,u)}return Fi=ji=null,B.H=r,B.A=o,gc=n,null!==xc?0:(mc=null,yc=0,Br(),jc)}(e,t):cd(e,t,!0),a=r;;){if(0===o){kc&&!r&&ed(e,t,0,!1);break}if(n=e.current.alternate,!a||Zc(n)){if(2===o){if(a=t,e.errorRecoveryDisabledLanes&a)var l=0;else l=0!==(l=-536870913&e.pendingLanes)?l:536870912&l?536870912:0;if(0!==l){t=l;e:{var s=e;o=Tc;var c=s.current.memoizedState.isDehydrated;if(c&&(rd(s,l).flags|=256),2!==(l=cd(s,l,!1))){if(Sc&&!c){s.errorRecoveryDisabledLanes|=a,Ec|=a,o=4;break e}a=Bc,Bc=o,null!==a&&(null===Bc?Bc=a:Bc.push.apply(Bc,a))}o=l}if(a=!1,2!==o)continue}}if(1===o){rd(e,0),ed(e,t,0,!0);break}e:{switch(r=e,a=o){case 0:case 1:throw Error(i(345));case 4:if((4194048&t)!==t)break;case 6:ed(r,t,Ac,!wc);break e;case 2:Bc=null;break;case 3:case 5:break;default:throw Error(i(329))}if((62914560&t)===t&&10<(o=Rc+300-ae())){if(ed(r,t,Ac,!wc),0!==je(r,0,!0))break e;$c=t,r.timeoutHandle=Su(Kc.bind(null,r,n,Bc,Lc,Dc,t,Ac,Ec,Ic,wc,a,"Throttled",-0,0),o)}else Kc(r,n,Bc,Lc,Dc,t,Ac,Ec,Ic,wc,a,null,-0,0)}break}o=cd(e,t,!1),a=!1}Ld(e)}function Kc(e,t,n,r,i,o,a,l,s,c,d,u,p,f){if(e.timeoutHandle=-1,8192&(u=t.subtreeFlags)||!(16785408&~u)){lc(t,o,u={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Rt});var h=(62914560&o)===o?Rc-ae():(4194048&o)===o?Pc-ae():0;if(null!==(h=function(e,t){return e.stylesheets&&0===e.count&&dp(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&dp(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&0===lp&&(lp=62500*function(){if("function"==typeof performance.getEntriesByType){for(var e=0,t=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var i=n[r],o=i.transferSize,a=i.initiatorType,l=i.duration;if(o&&l&&gu(a)){for(a=0,l=i.responseEnd,r+=1;r<n.length;r++){var s=n[r],c=s.startTime;if(c>l)break;var d=s.transferSize,u=s.initiatorType;d&&gu(u)&&(a+=d*((s=s.responseEnd)<l?1:(l-c)/(s-c)))}if(--r,t+=8*(o+a)/(i.duration/1e3),10<++e)break}}if(0<e)return t/e/1e6}return navigator.connection&&"number"==typeof(e=navigator.connection.downlink)?e:5}());var i=setTimeout(function(){if(e.waitingForImages=!1,0===e.count&&(e.stylesheets&&dp(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>lp?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(i)}}:null}(u,h)))return $c=o,e.cancelPendingCommit=h(xd.bind(null,e,t,o,n,r,i,a,l,s,d,u,null,p,f)),void ed(e,o,a,!c)}xd(e,t,o,n,r,i,a,l,s)}function Zc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!er(o(),i))return!1}catch(a){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ed(e,t,n,r){t&=~zc,t&=~Ec,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var o=31-ye(i),a=1<<o;r[o]=-1,i&=~a}0!==n&&Te(e,n,t)}function td(){return!!(6&gc)||(Md(0),!1)}function nd(){if(null!==xc){if(0===bc)var e=xc.return;else Fi=ji=null,ca(e=xc),co=null,uo=0,e=xc;for(;null!==e;)xs(e.alternate,e),e=e.return;xc=null}}function rd(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,Cu(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),$c=0,nd(),mc=e,xc=n=$r(e.current,null),yc=t,bc=0,vc=null,wc=!1,kc=Fe(e,t),Sc=!1,Ic=Ac=zc=Ec=Fc=jc=0,Bc=Tc=null,Dc=!1,8&t&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-ye(r),o=1<<i;t|=e[i],r&=~o}return Cc=t,Br(),n}function id(e,t){Uo=null,B.H=xl,t===Zi||t===to?(t=lo(),bc=3):t===eo?(t=lo(),bc=4):bc=t===Rl?8:null!==t&&"object"==typeof t&&"function"==typeof t.then?6:1,vc=t,null===xc&&(jc=1,Al(e,Jr(t,e.current)))}function od(){var e=Po.current;return null===e||((4194048&yc)===yc?null===No:!!((62914560&yc)===yc||536870912&yc)&&e===No)}function ad(){var e=B.H;return B.H=xl,null===e?xl:e}function ld(){var e=B.A;return B.A=fc,e}function sd(){jc=4,wc||(4194048&yc)!==yc&&null!==Po.current||(kc=!0),!(134217727&Fc)&&!(134217727&Ec)||null===mc||ed(mc,yc,Ac,!1)}function cd(e,t,n){var r=gc;gc|=2;var i=ad(),o=ld();mc===e&&yc===t||(Lc=null,rd(e,t)),t=!1;var a=jc;e:for(;;)try{if(0!==bc&&null!==xc){var l=xc,s=vc;switch(bc){case 8:nd(),a=6;break e;case 3:case 2:case 9:case 6:null===Po.current&&(t=!0);var c=bc;if(bc=0,vc=null,hd(e,l,s,c),n&&kc){a=0;break e}break;default:c=bc,bc=0,vc=null,hd(e,l,s,c)}}dd(),a=jc;break}catch(d){id(e,d)}return t&&e.shellSuspendCounter++,Fi=ji=null,gc=r,B.H=i,B.A=o,null===xc&&(mc=null,yc=0,Br()),a}function dd(){for(;null!==xc;)pd(xc)}function ud(){for(;null!==xc&&!ie();)pd(xc)}function pd(e){var t=ss(e.alternate,e,Cc);e.memoizedProps=e.pendingProps,null===t?gd(e):xc=t}function fd(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Gl(n,t,t.pendingProps,t.type,void 0,yc);break;case 11:t=Gl(n,t,t.pendingProps,t.type.render,t.ref,yc);break;case 5:ca(t);default:xs(n,t),t=ss(n,t=xc=Hr(t,Cc),Cc)}e.memoizedProps=e.pendingProps,null===t?gd(e):xc=t}function hd(e,t,n,r){Fi=ji=null,ca(t),co=null,uo=0;var o=t.return;try{if(function(e,t,n,r,o){if(n.flags|=32768,null!==r&&"object"==typeof r&&"function"==typeof r.then){if(null!==(t=n.alternate)&&Ti(t,n,o,!0),null!==(n=Po.current)){switch(n.tag){case 31:case 13:return null===No?sd():null===n.alternate&&0===jc&&(jc=3),n.flags&=-257,n.flags|=65536,n.lanes=o,r===no?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),Fd(e,r,o)),!1;case 22:return n.flags|=65536,r===no?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),Fd(e,r,o)),!1}throw Error(i(435,n.tag))}return Fd(e,r,o),sd(),!1}if(fi)return null!==(t=Po.current)?(!(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=o,r!==mi&&Si(Jr(e=Error(i(422),{cause:r}),n))):(r!==mi&&Si(Jr(t=Error(i(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,o&=-o,e.lanes|=o,r=Jr(r,n),Co(e,o=Tl(e.stateNode,r,o)),4!==jc&&(jc=2)),!1;var a=Error(i(520),{cause:r});if(a=Jr(a,n),null===Tc?Tc=[a]:Tc.push(a),4!==jc&&(jc=2),null===t)return!0;r=Jr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=o&-o,n.lanes|=e,Co(n,e=Tl(n.stateNode,r,e)),!1;case 1:if(t=n.type,a=n.stateNode,!(128&n.flags||"function"!=typeof t.getDerivedStateFromError&&(null===a||"function"!=typeof a.componentDidCatch||null!==Mc&&Mc.has(a))))return n.flags|=65536,o&=-o,n.lanes|=o,Dl(o=Bl(o),e,n,r),Co(n,o),!1}n=n.return}while(null!==n);return!1}(e,o,t,n,yc))return jc=1,Al(e,Jr(n,e.current)),void(xc=null)}catch(a){if(null!==o)throw xc=o,a;return jc=1,Al(e,Jr(n,e.current)),void(xc=null)}32768&t.flags?(fi||1===r?e=!0:kc||536870912&yc?e=!1:(wc=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=Po.current)&&13===r.tag&&(r.flags|=16384))),md(t,e)):gd(t)}function gd(e){var t=e;do{if(32768&t.flags)return void md(t,wc);e=t.return;var n=gs(t.alternate,t,Cc);if(null!==n)return void(xc=n);if(null!==(t=t.sibling))return void(xc=t);xc=t=e}while(null!==t);0===jc&&(jc=5)}function md(e,t){do{var n=ms(e.alternate,e);if(null!==n)return n.flags&=32767,void(xc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(xc=e);xc=e=n}while(null!==e);jc=6,xc=null}function xd(e,t,n,r,o,a,l,s,c){e.cancelPendingCommit=null;do{kd()}while(0!==Oc);if(6&gc)throw Error(i(327));if(null!==t){if(t===e.current)throw Error(i(177));if(a=t.lanes|t.childLanes,function(e,t,n,r,i,o){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var l=e.entanglements,s=e.expirationTimes,c=e.hiddenUpdates;for(n=a&~n;0<n;){var d=31-ye(n),u=1<<d;l[d]=0,s[d]=-1;var p=c[d];if(null!==p)for(c[d]=null,d=0;d<p.length;d++){var f=p[d];null!==f&&(f.lane&=-536870913)}n&=~u}0!==r&&Te(e,r,0),0!==o&&0===i&&0!==e.tag&&(e.suspendedLanes|=o&~(a&~t))}(e,n,a|=Tr,l,s,c),e===mc&&(xc=mc=null,yc=0),Wc=t,_c=e,$c=n,Hc=a,qc=o,Uc=r,10256&t.subtreeFlags||10256&t.flags?(e.callbackNode=null,e.callbackPriority=0,ne(de,function(){return Sd(),null})):(e.callbackNode=null,e.callbackPriority=0),r=!!(13878&t.flags),13878&t.subtreeFlags||r){r=B.T,B.T=null,o=D.p,D.p=2,l=gc,gc|=4;try{!function(e,t){if(e=e.containerInfo,mu=wp,ar(e=or(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var o=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(m){n=null;break e}var l=0,s=-1,c=-1,d=0,u=0,p=e,f=null;t:for(;;){for(var h;p!==n||0!==o&&3!==p.nodeType||(s=l+o),p!==a||0!==r&&3!==p.nodeType||(c=l+r),3===p.nodeType&&(l+=p.nodeValue.length),null!==(h=p.firstChild);)f=p,p=h;for(;;){if(p===e)break t;if(f===n&&++d===o&&(s=l),f===a&&++u===r&&(c=l),null!==(h=p.nextSibling))break;f=(p=f).parentNode}p=h}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(xu={focusedElem:e,selectionRange:n},wp=!1,Ps=t;null!==Ps;)if(e=(t=Ps).child,1028&t.subtreeFlags&&null!==e)e.return=t,Ps=e;else for(;null!==Ps;){switch(a=(t=Ps).alternate,e=t.flags,t.tag){case 0:if(4&e&&null!==(e=null!==(e=t.updateQueue)?e.events:null))for(n=0;n<e.length;n++)(o=e[n]).ref.impl=o.nextImpl;break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(1024&e&&null!==a){e=void 0,n=t,o=a.memoizedProps,a=a.memoizedState,r=n.stateNode;try{var g=jl(n.type,o);e=r.getSnapshotBeforeUpdate(g,a),r.__reactInternalSnapshotBeforeUpdate=e}catch(x){jd(n,n.return,x)}}break;case 3:if(1024&e)if(9===(n=(e=t.stateNode.containerInfo).nodeType))Tu(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Tu(e);break;default:e.textContent=""}break;default:if(1024&e)throw Error(i(163))}if(null!==(e=t.sibling)){e.return=t.return,Ps=e;break}Ps=t.return}}(e,t)}finally{gc=l,D.p=o,B.T=r}}Oc=1,yd(),bd(),vd()}}function yd(){if(1===Oc){Oc=0;var e=_c,t=Wc,n=!!(13878&t.flags);if(13878&t.subtreeFlags||n){n=B.T,B.T=null;var r=D.p;D.p=2;var i=gc;gc|=4;try{Gs(t,e);var o=xu,a=or(e.containerInfo),l=o.focusedElem,s=o.selectionRange;if(a!==l&&l&&l.ownerDocument&&ir(l.ownerDocument.documentElement,l)){if(null!==s&&ar(l)){var c=s.start,d=s.end;if(void 0===d&&(d=c),"selectionStart"in l)l.selectionStart=c,l.selectionEnd=Math.min(d,l.value.length);else{var u=l.ownerDocument||document,p=u&&u.defaultView||window;if(p.getSelection){var f=p.getSelection(),h=l.textContent.length,g=Math.min(s.start,h),m=void 0===s.end?g:Math.min(s.end,h);!f.extend&&g>m&&(a=m,m=g,g=a);var x=rr(l,g),y=rr(l,m);if(x&&y&&(1!==f.rangeCount||f.anchorNode!==x.node||f.anchorOffset!==x.offset||f.focusNode!==y.node||f.focusOffset!==y.offset)){var b=u.createRange();b.setStart(x.node,x.offset),f.removeAllRanges(),g>m?(f.addRange(b),f.extend(y.node,y.offset)):(b.setEnd(y.node,y.offset),f.addRange(b))}}}}for(u=[],f=l;f=f.parentNode;)1===f.nodeType&&u.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"==typeof l.focus&&l.focus(),l=0;l<u.length;l++){var v=u[l];v.element.scrollLeft=v.left,v.element.scrollTop=v.top}}wp=!!mu,xu=mu=null}finally{gc=i,D.p=r,B.T=n}}e.current=t,Oc=2}}function bd(){if(2===Oc){Oc=0;var e=_c,t=Wc,n=!!(8772&t.flags);if(8772&t.subtreeFlags||n){n=B.T,B.T=null;var r=D.p;D.p=2;var i=gc;gc|=4;try{Ns(e,t.alternate,t)}finally{gc=i,D.p=r,B.T=n}}Oc=3}}function vd(){if(4===Oc||3===Oc){Oc=0,oe();var e=_c,t=Wc,n=$c,r=Uc;10256&t.subtreeFlags||10256&t.flags?Oc=5:(Oc=0,Wc=_c=null,wd(e,e.pendingLanes));var i=e.pendingLanes;if(0===i&&(Mc=null),Pe(n),t=t.stateNode,me&&"function"==typeof me.onCommitFiberRoot)try{me.onCommitFiberRoot(ge,t,void 0,!(128&~t.current.flags))}catch(s){}if(null!==r){t=B.T,i=D.p,D.p=2,B.T=null;try{for(var o=e.onRecoverableError,a=0;a<r.length;a++){var l=r[a];o(l.value,{componentStack:l.stack})}}finally{B.T=t,D.p=i}}3&$c&&kd(),Ld(e),i=e.pendingLanes,261930&n&&42&i?e===Gc?Vc++:(Vc=0,Gc=e):Vc=0,Md(0)}}function wd(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,$i(t)))}function kd(){return yd(),bd(),vd(),Sd()}function Sd(){if(5!==Oc)return!1;var e=_c,t=Hc;Hc=0;var n=Pe($c),r=B.T,o=D.p;try{D.p=32>n?32:n,B.T=null,n=qc,qc=null;var a=_c,l=$c;if(Oc=0,Wc=_c=null,$c=0,6&gc)throw Error(i(331));var s=gc;if(gc|=4,dc(a.current),nc(a,a.current,l,n),gc=s,Md(0,!1),me&&"function"==typeof me.onPostCommitFiberRoot)try{me.onPostCommitFiberRoot(ge,a)}catch(c){}return!0}finally{D.p=o,B.T=r,wd(e,t)}}function Cd(e,t,n){t=Jr(n,t),null!==(e=ko(e,t=Tl(e.stateNode,t,2),2))&&(Ie(e,2),Ld(e))}function jd(e,t,n){if(3===e.tag)Cd(e,e,n);else for(;null!==t;){if(3===t.tag){Cd(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Mc||!Mc.has(r))){e=Jr(n,e),null!==(r=ko(t,n=Bl(2),2))&&(Dl(n,r,t,e),Ie(r,2),Ld(r));break}}t=t.return}}function Fd(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hc;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(Sc=!0,i.add(n),e=Ed.bind(null,e,t,n),t.then(e,e))}function Ed(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,mc===e&&(yc&n)===n&&(4===jc||3===jc&&(62914560&yc)===yc&&300>ae()-Rc?!(2&gc)&&rd(e,0):zc|=n,Ic===yc&&(Ic=0)),Ld(e)}function zd(e,t){0===t&&(t=ze()),null!==(e=Pr(e,t))&&(Ie(e,t),Ld(e))}function Ad(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),zd(e,n)}function Id(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,o=e.memoizedState;null!==o&&(n=o.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(i(314))}null!==r&&r.delete(t),zd(e,n)}var Td=null,Bd=null,Dd=!1,Rd=!1,Pd=!1,Nd=0;function Ld(e){e!==Bd&&null===e.next&&(null===Bd?Td=Bd=e:Bd=Bd.next=e),Rd=!0,Dd||(Dd=!0,Fu(function(){6&gc?ne(se,Od):_d()}))}function Md(e,t){if(!Pd&&Rd){Pd=!0;do{for(var n=!1,r=Td;null!==r;){if(0!==e){var i=r.pendingLanes;if(0===i)var o=0;else{var a=r.suspendedLanes,l=r.pingedLanes;o=(1<<31-ye(42|e)+1)-1,o=201326741&(o&=i&~(a&~l))?201326741&o|1:o?2|o:0}0!==o&&(n=!0,Hd(r,o))}else o=yc,!(3&(o=je(r,r===mc?o:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||Fe(r,o)||(n=!0,Hd(r,o));r=r.next}}while(n);Pd=!1}}function Od(){_d()}function _d(){Rd=Dd=!1;var e=0;0!==Nd&&function(){var e=window.event;if(e&&"popstate"===e.type)return e!==ku&&(ku=e,!0);return ku=null,!1}()&&(e=Nd);for(var t=ae(),n=null,r=Td;null!==r;){var i=r.next,o=Wd(r,t);0===o?(r.next=null,null===n?Td=i:n.next=i,null===i&&(Bd=n)):(n=r,(0!==e||3&o)&&(Rd=!0)),r=i}0!==Oc&&5!==Oc||Md(e),0!==Nd&&(Nd=0)}function Wd(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=-62914561&e.pendingLanes;0<o;){var a=31-ye(o),l=1<<a,s=i[a];-1===s?0!==(l&n)&&0===(l&r)||(i[a]=Ee(l,t)):s<=t&&(e.expiredLanes|=l),o&=~l}if(n=yc,n=je(e,e===(t=mc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===bc||9===bc)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&re(r),e.callbackNode=null,e.callbackPriority=0;if(!(3&n)||Fe(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&re(r),Pe(n)){case 2:case 8:n=ce;break;case 32:default:n=de;break;case 268435456:n=pe}return r=$d.bind(null,e),n=ne(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&re(r),e.callbackPriority=2,e.callbackNode=null,2}function $d(e,t){if(0!==Oc&&5!==Oc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(kd()&&e.callbackNode!==n)return null;var r=yc;return 0===(r=je(e,e===mc?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Xc(e,r,t),Wd(e,ae()),null!=e.callbackNode&&e.callbackNode===n?$d.bind(null,e):null)}function Hd(e,t){if(kd())return null;Xc(e,t,!0)}function qd(){if(0===Nd){var e=Ui;0===e&&(e=we,!(261888&(we<<=1))&&(we=256)),Nd=e}return Nd}function Ud(e){return null==e||"symbol"==typeof e||"boolean"==typeof e?null:"function"==typeof e?e:Dt(""+e)}function Vd(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Gd=0;Gd<Fr.length;Gd++){var Qd=Fr[Gd];Er(Qd.toLowerCase(),"on"+(Qd[0].toUpperCase()+Qd.slice(1)))}Er(yr,"onAnimationEnd"),Er(br,"onAnimationIteration"),Er(vr,"onAnimationStart"),Er("dblclick","onDoubleClick"),Er("focusin","onFocus"),Er("focusout","onBlur"),Er(wr,"onTransitionRun"),Er(kr,"onTransitionStart"),Er(Sr,"onTransitionCancel"),Er(Cr,"onTransitionEnd"),ot("onMouseEnter",["mouseout","mouseover"]),ot("onMouseLeave",["mouseout","mouseover"]),ot("onPointerEnter",["pointerout","pointerover"]),ot("onPointerLeave",["pointerout","pointerover"]),rt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rt("onBeforeInput",["compositionend","keypress","textInput","paste"]),rt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Jd=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Yd));function Xd(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var l=r[a],s=l.instance,c=l.currentTarget;if(l=l.listener,s!==o&&i.isPropagationStopped())break e;o=l,i.currentTarget=c;try{o(i)}catch(d){zr(d)}i.currentTarget=null,o=s}else for(a=0;a<r.length;a++){if(s=(l=r[a]).instance,c=l.currentTarget,l=l.listener,s!==o&&i.isPropagationStopped())break e;o=l,i.currentTarget=c;try{o(i)}catch(d){zr(d)}i.currentTarget=null,o=s}}}}function Kd(e,t){var n=t[He];void 0===n&&(n=t[He]=new Set);var r=e+"__bubble";n.has(r)||(nu(t,e,2,!1),n.add(r))}function Zd(e,t,n){var r=0;t&&(r|=4),nu(n,e,r,t)}var eu="_reactListening"+Math.random().toString(36).slice(2);function tu(e){if(!e[eu]){e[eu]=!0,et.forEach(function(t){"selectionchange"!==t&&(Jd.has(t)||Zd(t,!1,e),Zd(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[eu]||(t[eu]=!0,Zd("selectionchange",!1,t))}}function nu(e,t,n,r){switch(zp(t)){case 2:var i=kp;break;case 8:i=Sp;break;default:i=Cp}n=i.bind(null,t,n,e),i=void 0,!qt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function ru(e,t,n,r,i){var o=r;if(!(1&t||2&t||null===r))e:for(;;){if(null===r)return;var l=r.tag;if(3===l||4===l){var s=r.stateNode.containerInfo;if(s===i)break;if(4===l)for(l=r.return;null!==l;){var c=l.tag;if((3===c||4===c)&&l.stateNode.containerInfo===i)return;l=l.return}for(;null!==s;){if(null===(l=Ye(s)))return;if(5===(c=l.tag)||6===c||26===c||27===c){r=o=l;continue e}s=s.parentNode}}r=r.return}Wt(function(){var r=o,i=Nt(n),l=[];e:{var s=jr.get(e);if(void 0!==s){var c=on,d=e;switch(e){case"keypress":if(0===Jt(n))break e;case"keydown":case"keyup":c=vn;break;case"focusin":d="focus",c=un;break;case"focusout":d="blur",c=un;break;case"beforeblur":case"afterblur":c=un;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=cn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=dn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=kn;break;case yr:case br:case vr:c=pn;break;case Cr:c=Sn;break;case"scroll":case"scrollend":c=ln;break;case"wheel":c=Cn;break;case"copy":case"cut":case"paste":c=fn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=wn;break;case"toggle":case"beforetoggle":c=jn}var u=!!(4&t),p=!u&&("scroll"===e||"scrollend"===e),f=u?null!==s?s+"Capture":null:s;u=[];for(var h,g=r;null!==g;){var m=g;if(h=m.stateNode,5!==(m=m.tag)&&26!==m&&27!==m||null===h||null===f||null!=(m=$t(g,f))&&u.push(iu(g,m,h)),p)break;g=g.return}0<u.length&&(s=new c(s,d,null,n,i),l.push({event:s,listeners:u}))}}if(!(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===Pt||!(d=n.relatedTarget||n.fromElement)||!Ye(d)&&!d[$e])&&(c||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,c?(c=r,null!==(d=(d=n.relatedTarget||n.toElement)?Ye(d):null)&&(p=a(d),u=d.tag,d!==p||5!==u&&27!==u&&6!==u)&&(d=null)):(c=null,d=r),c!==d)){if(u=cn,m="onMouseLeave",f="onMouseEnter",g="mouse","pointerout"!==e&&"pointerover"!==e||(u=wn,m="onPointerLeave",f="onPointerEnter",g="pointer"),p=null==c?s:Xe(c),h=null==d?s:Xe(d),(s=new u(m,g+"leave",c,n,i)).target=p,s.relatedTarget=h,m=null,Ye(i)===r&&((u=new u(f,g+"enter",d,n,i)).target=h,u.relatedTarget=p,m=u),p=m,c&&d)e:{for(u=au,g=d,h=0,m=f=c;m;m=u(m))h++;m=0;for(var x=g;x;x=u(x))m++;for(;0<h-m;)f=u(f),h--;for(;0<m-h;)g=u(g),m--;for(;h--;){if(f===g||null!==g&&f===g.alternate){u=f;break e}f=u(f),g=u(g)}u=null}else u=null;null!==c&&lu(l,s,c,u,!1),null!==d&&null!==p&&lu(l,p,d,u,!0)}if("select"===(c=(s=r?Xe(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===c&&"file"===s.type)var y=Hn;else if(Ln(s))if(qn)y=Zn;else{y=Xn;var b=Jn}else!(c=s.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==s.type&&"radio"!==s.type?r&&It(r.elementType)&&(y=Hn):y=Kn;switch(y&&(y=y(e,r))?Mn(l,y,n,i):(b&&b(e,s,r),"focusout"===e&&r&&"number"===s.type&&null!=r.memoizedProps.value&&kt(s,"number",s.value)),b=r?Xe(r):window,e){case"focusin":(Ln(b)||"true"===b.contentEditable)&&(sr=b,cr=r,dr=null);break;case"focusout":dr=cr=sr=null;break;case"mousedown":ur=!0;break;case"contextmenu":case"mouseup":case"dragend":ur=!1,pr(l,n,i);break;case"selectionchange":if(lr)break;case"keydown":case"keyup":pr(l,n,i)}var v;if(En)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Pn?Dn(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(In&&"ko"!==n.locale&&(Pn||"onCompositionStart"!==w?"onCompositionEnd"===w&&Pn&&(v=Yt()):(Gt="value"in(Vt=i)?Vt.value:Vt.textContent,Pn=!0)),0<(b=ou(r,w)).length&&(w=new hn(w,e,null,n,i),l.push({event:w,listeners:b}),v?w.data=v:null!==(v=Rn(n))&&(w.data=v))),(v=An?function(e,t){switch(e){case"compositionend":return Rn(t);case"keypress":return 32!==t.which?null:(Bn=!0,Tn);case"textInput":return(e=t.data)===Tn&&Bn?null:e;default:return null}}(e,n):function(e,t){if(Pn)return"compositionend"===e||!En&&Dn(e,t)?(e=Yt(),Qt=Gt=Vt=null,Pn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return In&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(w=ou(r,"onBeforeInput")).length&&(b=new hn("onBeforeInput","beforeinput",null,n,i),l.push({event:b,listeners:w}),b.data=v)),function(e,t,n,r,i){if("submit"===t&&n&&n.stateNode===i){var o=Ud((i[We]||null).action),a=r.submitter;a&&null!==(t=(t=a[We]||null)?Ud(t.formAction):a.getAttribute("formAction"))&&(o=t,a=null);var l=new on("action","action",null,r,i);e.push({event:l,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==Nd){var e=a?Vd(i,a):new FormData(i);rl(n,{pending:!0,data:e,method:i.method,action:o},null,e)}}else"function"==typeof o&&(l.preventDefault(),e=a?Vd(i,a):new FormData(i),rl(n,{pending:!0,data:e,method:i.method,action:o},o,e))},currentTarget:i}]})}}(l,e,r,n,i)}Xd(l,t)})}function iu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ou(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;if(5!==(i=i.tag)&&26!==i&&27!==i||null===o||(null!=(i=$t(e,n))&&r.unshift(iu(e,i,o)),null!=(i=$t(e,t))&&r.push(iu(e,i,o))),3===e.tag)return r;e=e.return}return[]}function au(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function lu(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var l=n,s=l.alternate,c=l.stateNode;if(l=l.tag,null!==s&&s===r)break;5!==l&&26!==l&&27!==l||null===c||(s=c,i?null!=(c=$t(n,o))&&a.unshift(iu(n,c,s)):i||null!=(c=$t(n,o))&&a.push(iu(n,c,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var su=/\r\n?/g,cu=/\u0000|\uFFFD/g;function du(e){return("string"==typeof e?e:""+e).replace(su,"\n").replace(cu,"")}function uu(e,t){return t=du(t),du(e)===t}function pu(e,t,n,r,o,a){switch(n){case"children":"string"==typeof r?"body"===t||"textarea"===t&&""===r||Ft(e,r):("number"==typeof r||"bigint"==typeof r)&&"body"!==t&&Ft(e,""+r);break;case"className":ut(e,"class",r);break;case"tabIndex":ut(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":ut(e,n,r);break;case"style":At(e,r,a);break;case"data":if("object"!==t){ut(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"==typeof r||"symbol"==typeof r||"boolean"==typeof r){e.removeAttribute(n);break}r=Dt(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"==typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"==typeof a&&("formAction"===n?("input"!==t&&pu(e,t,"name",o.name,o,null),pu(e,t,"formEncType",o.formEncType,o,null),pu(e,t,"formMethod",o.formMethod,o,null),pu(e,t,"formTarget",o.formTarget,o,null)):(pu(e,t,"encType",o.encType,o,null),pu(e,t,"method",o.method,o,null),pu(e,t,"target",o.target,o,null))),null==r||"symbol"==typeof r||"boolean"==typeof r){e.removeAttribute(n);break}r=Dt(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Rt);break;case"onScroll":null!=r&&Kd("scroll",e);break;case"onScrollEnd":null!=r&&Kd("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!=typeof r||!("__html"in r))throw Error(i(61));if(null!=(n=r.__html)){if(null!=o.children)throw Error(i(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!=typeof r&&"symbol"!=typeof r;break;case"muted":e.muted=r&&"function"!=typeof r&&"symbol"!=typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"==typeof r||"boolean"==typeof r||"symbol"==typeof r){e.removeAttribute("xlink:href");break}n=Dt(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!=typeof r&&"symbol"!=typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!=typeof r&&"symbol"!=typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!=typeof r&&"symbol"!=typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!=typeof r&&"symbol"!=typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"==typeof r||"symbol"==typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Kd("beforetoggle",e),Kd("toggle",e),dt(e,"popover",r);break;case"xlinkActuate":pt(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":pt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":pt(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":pt(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":pt(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":pt(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":pt(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":pt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":pt(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":dt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&dt(e,n=Tt.get(n)||n,r)}}function fu(e,t,n,r,o,a){switch(n){case"style":At(e,r,a);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!=typeof r||!("__html"in r))throw Error(i(61));if(null!=(n=r.__html)){if(null!=o.children)throw Error(i(60));e.innerHTML=n}}break;case"children":"string"==typeof r?Ft(e,r):("number"==typeof r||"bigint"==typeof r)&&Ft(e,""+r);break;case"onScroll":null!=r&&Kd("scroll",e);break;case"onScrollEnd":null!=r&&Kd("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Rt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:nt.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(o=n.endsWith("Capture"),t=n.slice(2,o?n.length-7:void 0),"function"==typeof(a=null!=(a=e[We]||null)?a[n]:null)&&e.removeEventListener(t,a,o),"function"!=typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):dt(e,n,r):("function"!=typeof a&&null!==a&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,o)))}}function hu(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Kd("error",e),Kd("load",e);var r,o=!1,a=!1;for(r in n)if(n.hasOwnProperty(r)){var l=n[r];if(null!=l)switch(r){case"src":o=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:pu(e,t,r,l,n,null)}}return a&&pu(e,t,"srcSet",n.srcSet,n,null),void(o&&pu(e,t,"src",n.src,n,null));case"input":Kd("invalid",e);var s=r=l=a=null,c=null,d=null;for(o in n)if(n.hasOwnProperty(o)){var u=n[o];if(null!=u)switch(o){case"name":a=u;break;case"type":l=u;break;case"checked":c=u;break;case"defaultChecked":d=u;break;case"value":r=u;break;case"defaultValue":s=u;break;case"children":case"dangerouslySetInnerHTML":if(null!=u)throw Error(i(137,t));break;default:pu(e,t,o,u,n,null)}}return void wt(e,r,s,c,d,l,a,!1);case"select":for(a in Kd("invalid",e),o=l=r=null,n)if(n.hasOwnProperty(a)&&null!=(s=n[a]))switch(a){case"value":r=s;break;case"defaultValue":l=s;break;case"multiple":o=s;default:pu(e,t,a,s,n,null)}return t=r,n=l,e.multiple=!!o,void(null!=t?St(e,!!o,t,!1):null!=n&&St(e,!!o,n,!0));case"textarea":for(l in Kd("invalid",e),r=a=o=null,n)if(n.hasOwnProperty(l)&&null!=(s=n[l]))switch(l){case"value":o=s;break;case"defaultValue":a=s;break;case"children":r=s;break;case"dangerouslySetInnerHTML":if(null!=s)throw Error(i(91));break;default:pu(e,t,l,s,n,null)}return void jt(e,o,a,r);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(o=n[c]))if("selected"===c)e.selected=o&&"function"!=typeof o&&"symbol"!=typeof o;else pu(e,t,c,o,n,null);return;case"dialog":Kd("beforetoggle",e),Kd("toggle",e),Kd("cancel",e),Kd("close",e);break;case"iframe":case"object":Kd("load",e);break;case"video":case"audio":for(o=0;o<Yd.length;o++)Kd(Yd[o],e);break;case"image":Kd("error",e),Kd("load",e);break;case"details":Kd("toggle",e);break;case"embed":case"source":case"link":Kd("error",e),Kd("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(d in n)if(n.hasOwnProperty(d)&&null!=(o=n[d]))switch(d){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:pu(e,t,d,o,n,null)}return;default:if(It(t)){for(u in n)n.hasOwnProperty(u)&&(void 0!==(o=n[u])&&fu(e,t,u,o,n,void 0));return}}for(s in n)n.hasOwnProperty(s)&&(null!=(o=n[s])&&pu(e,t,s,o,n,null))}function gu(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}var mu=null,xu=null;function yu(e){return 9===e.nodeType?e:e.ownerDocument}function bu(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function vu(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function wu(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"bigint"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ku=null;var Su="function"==typeof setTimeout?setTimeout:void 0,Cu="function"==typeof clearTimeout?clearTimeout:void 0,ju="function"==typeof Promise?Promise:void 0,Fu="function"==typeof queueMicrotask?queueMicrotask:void 0!==ju?function(e){return ju.resolve(null).then(e).catch(Eu)}:Su;function Eu(e){setTimeout(function(){throw e})}function zu(e){return"head"===e}function Au(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)||"/&"===n){if(0===r)return e.removeChild(i),void Vp(t);r--}else if("$"===n||"$?"===n||"$~"===n||"$!"===n||"&"===n)r++;else if("html"===n)_u(e.ownerDocument.documentElement);else if("head"===n){_u(n=e.ownerDocument.head);for(var o=n.firstChild;o;){var a=o.nextSibling,l=o.nodeName;o[Ge]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===o.rel.toLowerCase()||n.removeChild(o),o=a}}else"body"===n&&_u(e.ownerDocument.body);n=i}while(n);Vp(t)}function Iu(e,t){var n=e;e=0;do{var r=n.nextSibling;if(1===n.nodeType?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",""===n.getAttribute("style")&&n.removeAttribute("style")):3===n.nodeType&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===e)break;e--}else"$"!==n&&"$?"!==n&&"$~"!==n&&"$!"!==n||e++;n=r}while(n)}function Tu(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Tu(n),Qe(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function Bu(e,t){for(;8!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!t)return null;if(null===(e=Pu(e.nextSibling)))return null}return e}function Du(e){return"$?"===e.data||"$~"===e.data}function Ru(e){return"$!"===e.data||"$?"===e.data&&"loading"!==e.ownerDocument.readyState}function Pu(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"$~"===t||"&"===t||"F!"===t||"F"===t)break;if("/$"===t||"/&"===t)return null}}return e}var Nu=null;function Lu(e){e=e.nextSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n||"/&"===n){if(0===t)return Pu(e.nextSibling);t--}else"$"!==n&&"$!"!==n&&"$?"!==n&&"$~"!==n&&"&"!==n||t++}e=e.nextSibling}return null}function Mu(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n||"$~"===n||"&"===n){if(0===t)return e;t--}else"/$"!==n&&"/&"!==n||t++}e=e.previousSibling}return null}function Ou(e,t,n){switch(t=yu(n),e){case"html":if(!(e=t.documentElement))throw Error(i(452));return e;case"head":if(!(e=t.head))throw Error(i(453));return e;case"body":if(!(e=t.body))throw Error(i(454));return e;default:throw Error(i(451))}}function _u(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Qe(e)}var Wu=new Map,$u=new Set;function Hu(e){return"function"==typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var qu=D.d;D.d={f:function(){var e=qu.f(),t=td();return e||t},r:function(e){var t=Je(e);null!==t&&5===t.tag&&"form"===t.type?ol(t):qu.r(e)},D:function(e){qu.D(e),Vu("dns-prefetch",e,null)},C:function(e,t){qu.C(e,t),Vu("preconnect",e,t)},L:function(e,t,n){qu.L(e,t,n);var r=Uu;if(r&&e&&t){var i='link[rel="preload"][as="'+bt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+bt(n.imageSrcSet)+'"]',"string"==typeof n.imageSizes&&(i+='[imagesizes="'+bt(n.imageSizes)+'"]')):i+='[href="'+bt(e)+'"]';var o=i;switch(t){case"style":o=Qu(e);break;case"script":o=Xu(e)}Wu.has(o)||(e=u({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Wu.set(o,e),null!==r.querySelector(i)||"style"===t&&r.querySelector(Yu(o))||"script"===t&&r.querySelector(Ku(o))||(hu(t=r.createElement("link"),"link",e),Ze(t),r.head.appendChild(t)))}},m:function(e,t){qu.m(e,t);var n=Uu;if(n&&e){var r=t&&"string"==typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+bt(r)+'"][href="'+bt(e)+'"]',o=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=Xu(e)}if(!Wu.has(o)&&(e=u({rel:"modulepreload",href:e},t),Wu.set(o,e),null===n.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Ku(o)))return}hu(r=n.createElement("link"),"link",e),Ze(r),n.head.appendChild(r)}}},X:function(e,t){qu.X(e,t);var n=Uu;if(n&&e){var r=Ke(n).hoistableScripts,i=Xu(e),o=r.get(i);o||((o=n.querySelector(Ku(i)))||(e=u({src:e,async:!0},t),(t=Wu.get(i))&&np(e,t),Ze(o=n.createElement("script")),hu(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(i,o))}},S:function(e,t,n){qu.S(e,t,n);var r=Uu;if(r&&e){var i=Ke(r).hoistableStyles,o=Qu(e);t=t||"default";var a=i.get(o);if(!a){var l={loading:0,preload:null};if(a=r.querySelector(Yu(o)))l.loading=5;else{e=u({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Wu.get(o))&&tp(e,n);var s=a=r.createElement("link");Ze(s),hu(s,"link",e),s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),s.addEventListener("load",function(){l.loading|=1}),s.addEventListener("error",function(){l.loading|=2}),l.loading|=4,ep(a,t,r)}a={type:"stylesheet",instance:a,count:1,state:l},i.set(o,a)}}},M:function(e,t){qu.M(e,t);var n=Uu;if(n&&e){var r=Ke(n).hoistableScripts,i=Xu(e),o=r.get(i);o||((o=n.querySelector(Ku(i)))||(e=u({src:e,async:!0,type:"module"},t),(t=Wu.get(i))&&np(e,t),Ze(o=n.createElement("script")),hu(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(i,o))}}};var Uu="undefined"==typeof document?null:document;function Vu(e,t,n){var r=Uu;if(r&&"string"==typeof t&&t){var i=bt(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"==typeof n&&(i+='[crossorigin="'+n+'"]'),$u.has(i)||($u.add(i),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(i)&&(hu(t=r.createElement("link"),"link",e),Ze(t),r.head.appendChild(t)))}}function Gu(e,t,n,r){var o,a,l,s,c=(c=q.current)?Hu(c):null;if(!c)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return"string"==typeof n.precedence&&"string"==typeof n.href?(t=Qu(n.href),(r=(n=Ke(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"==typeof n.href&&"string"==typeof n.precedence){e=Qu(n.href);var d=Ke(c).hoistableStyles,u=d.get(e);if(u||(c=c.ownerDocument||c,u={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,u),(d=c.querySelector(Yu(e)))&&!d._p&&(u.instance=d,u.state.loading=5),Wu.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Wu.set(e,n),d||(o=c,a=e,l=n,s=u.state,o.querySelector('link[rel="preload"][as="style"]['+a+"]")?s.loading=1:(a=o.createElement("link"),s.preload=a,a.addEventListener("load",function(){return s.loading|=1}),a.addEventListener("error",function(){return s.loading|=2}),hu(a,"link",l),Ze(a),o.head.appendChild(a))))),t&&null===r)throw Error(i(528,""));return u}if(t&&null!==r)throw Error(i(529,""));return null;case"script":return t=n.async,"string"==typeof(n=n.src)&&t&&"function"!=typeof t&&"symbol"!=typeof t?(t=Xu(n),(r=(n=Ke(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function Qu(e){return'href="'+bt(e)+'"'}function Yu(e){return'link[rel="stylesheet"]['+e+"]"}function Ju(e){return u({},e,{"data-precedence":e.precedence,precedence:null})}function Xu(e){return'[src="'+bt(e)+'"]'}function Ku(e){return"script[async]"+e}function Zu(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+bt(n.href)+'"]');if(r)return t.instance=r,Ze(r),r;var o=u({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return Ze(r=(e.ownerDocument||e).createElement("style")),hu(r,"style",o),ep(r,n.precedence,e),t.instance=r;case"stylesheet":o=Qu(n.href);var a=e.querySelector(Yu(o));if(a)return t.state.loading|=4,t.instance=a,Ze(a),a;r=Ju(n),(o=Wu.get(o))&&tp(r,o),Ze(a=(e.ownerDocument||e).createElement("link"));var l=a;return l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),hu(a,"link",r),t.state.loading|=4,ep(a,n.precedence,e),t.instance=a;case"script":return a=Xu(n.src),(o=e.querySelector(Ku(a)))?(t.instance=o,Ze(o),o):(r=n,(o=Wu.get(a))&&np(r=u({},n),o),Ze(o=(e=e.ownerDocument||e).createElement("script")),hu(o,"link",r),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(i(443,t.type))}else"stylesheet"===t.type&&!(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,ep(r,n.precedence,e));return t.instance}function ep(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,o=i,a=0;a<r.length;a++){var l=r[a];if(l.dataset.precedence===t)o=l;else if(o!==i)break}o?o.parentNode.insertBefore(e,o.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function tp(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function np(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var rp=null;function ip(e,t,n){if(null===rp){var r=new Map,i=rp=new Map;i.set(n,r)}else(r=(i=rp).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var o=n[i];if(!(o[Ge]||o[Oe]||"link"===e&&"stylesheet"===o.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==o.namespaceURI){var a=o.getAttribute(t)||"";a=e+a;var l=r.get(a);l?l.push(o):r.set(a,[o])}}return r}function op(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function ap(e){return!!("stylesheet"!==e.type||3&e.state.loading)}var lp=0;function sp(){if(this.count--,0===this.count&&(0===this.imgCount||!this.waitingForImages))if(this.stylesheets)dp(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var cp=null;function dp(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,cp=new Map,t.forEach(up,e),cp=null,sp.call(e))}function up(e,t){if(!(4&t.state.loading)){var n=cp.get(e);if(n)var r=n.get(null);else{n=new Map,cp.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<i.length;o++){var a=i[o];"LINK"!==a.nodeName&&"not all"===a.getAttribute("media")||(n.set(a.dataset.precedence,a),r=a)}r&&n.set(null,r)}a=(i=t.instance).getAttribute("data-precedence"),(o=n.get(a)||r)===r&&n.set(null,i),n.set(a,i),this.count++,r=sp.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),o?o.parentNode.insertBefore(i,o.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var pp={$$typeof:b,Provider:null,Consumer:null,_currentValue:R,_currentValue2:R,_threadCount:0};function fp(e,t,n,r,i,o,a,l,s){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ae(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ae(0),this.hiddenUpdates=Ae(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=o,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=s,this.incompleteTransitions=new Map}function hp(e,t,n,r,i,o,a,l,s,c,d,u){return e=new fp(e,t,n,a,s,c,d,u,l),t=1,!0===o&&(t|=24),o=_r(3,null,null,t),e.current=o,o.stateNode=e,(t=Wi()).refCount++,e.pooledCache=t,t.refCount++,o.memoizedState={element:r,isDehydrated:n,cache:t},bo(o),e}function gp(e){return e?e=Mr:Mr}function mp(e,t,n,r,i,o){i=gp(i),null===r.context?r.context=i:r.pendingContext=i,(r=wo(t)).payload={element:n},null!==(o=void 0===o?null:o)&&(r.callback=o),null!==(n=ko(e,r,t))&&(Jc(n,0,t),So(n,e,t))}function xp(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function yp(e,t){xp(e,t),(e=e.alternate)&&xp(e,t)}function bp(e){if(13===e.tag||31===e.tag){var t=Pr(e,67108864);null!==t&&Jc(t,0,67108864),yp(e,67108864)}}function vp(e){if(13===e.tag||31===e.tag){var t=Qc(),n=Pr(e,t=Re(t));null!==n&&Jc(n,0,t),yp(e,t)}}var wp=!0;function kp(e,t,n,r){var i=B.T;B.T=null;var o=D.p;try{D.p=2,Cp(e,t,n,r)}finally{D.p=o,B.T=i}}function Sp(e,t,n,r){var i=B.T;B.T=null;var o=D.p;try{D.p=8,Cp(e,t,n,r)}finally{D.p=o,B.T=i}}function Cp(e,t,n,r){if(wp){var i=jp(r);if(null===i)ru(e,t,r,Fp,n),Lp(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ip=Mp(Ip,e,t,n,r,i),!0;case"dragenter":return Tp=Mp(Tp,e,t,n,r,i),!0;case"mouseover":return Bp=Mp(Bp,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Dp.set(o,Mp(Dp.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Rp.set(o,Mp(Rp.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lp(e,r),4&t&&-1<Np.indexOf(e)){for(;null!==i;){var o=Je(i);if(null!==o)switch(o.tag){case 3:if((o=o.stateNode).current.memoizedState.isDehydrated){var a=Ce(o.pendingLanes);if(0!==a){var l=o;for(l.pendingLanes|=2,l.entangledLanes|=2;a;){var s=1<<31-ye(a);l.entanglements[1]|=s,a&=~s}Ld(o),!(6&gc)&&(Nc=ae()+500,Md(0))}}break;case 31:case 13:null!==(l=Pr(o,2))&&Jc(l,0,2),td(),yp(o,2)}if(null===(o=jp(r))&&ru(e,t,r,Fp,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else ru(e,t,r,null,n)}}function jp(e){return Ep(e=Nt(e))}var Fp=null;function Ep(e){if(Fp=null,null!==(e=Ye(e))){var t=a(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=l(t)))return e;e=null}else if(31===n){if(null!==(e=s(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Fp=e,null}function zp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(le()){case se:return 2;case ce:return 8;case de:case ue:return 32;case pe:return 268435456;default:return 32}default:return 32}}var Ap=!1,Ip=null,Tp=null,Bp=null,Dp=new Map,Rp=new Map,Pp=[],Np="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Lp(e,t){switch(e){case"focusin":case"focusout":Ip=null;break;case"dragenter":case"dragleave":Tp=null;break;case"mouseover":case"mouseout":Bp=null;break;case"pointerover":case"pointerout":Dp.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rp.delete(t.pointerId)}}function Mp(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=Je(t))&&bp(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Op(e){var t=Ye(e.target);if(null!==t){var n=a(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=l(n)))return e.blockedOn=t,void Le(e.priority,function(){vp(n)})}else if(31===t){if(null!==(t=s(n)))return e.blockedOn=t,void Le(e.priority,function(){vp(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function _p(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=jp(e.nativeEvent);if(null!==n)return null!==(t=Je(n))&&bp(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Pt=r,n.target.dispatchEvent(r),Pt=null,t.shift()}return!0}function Wp(e,t,n){_p(e)&&n.delete(t)}function $p(){Ap=!1,null!==Ip&&_p(Ip)&&(Ip=null),null!==Tp&&_p(Tp)&&(Tp=null),null!==Bp&&_p(Bp)&&(Bp=null),Dp.forEach(Wp),Rp.forEach(Wp)}function Hp(e,n){e.blockedOn===n&&(e.blockedOn=null,Ap||(Ap=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,$p)))}var qp=null;function Up(e){qp!==e&&(qp=e,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){qp===e&&(qp=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if("function"!=typeof r){if(null===Ep(r||n))continue;break}var o=Je(n);null!==o&&(e.splice(t,3),t-=3,rl(o,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Vp(e){function t(t){return Hp(t,e)}null!==Ip&&Hp(Ip,e),null!==Tp&&Hp(Tp,e),null!==Bp&&Hp(Bp,e),Dp.forEach(t),Rp.forEach(t);for(var n=0;n<Pp.length;n++){var r=Pp[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Pp.length&&null===(n=Pp[0]).blockedOn;)Op(n),null===n.blockedOn&&Pp.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],o=n[r+1],a=i[We]||null;if("function"==typeof o)a||Up(n);else if(a){var l=null;if(o&&o.hasAttribute("formAction")){if(i=o,a=o[We]||null)l=a.formAction;else if(null!==Ep(i))continue}else l=a.action;"function"==typeof l?n[r+1]=l:(n.splice(r,3),r-=3),Up(n)}}}function Gp(){function e(e){e.canIntercept&&"react-transition"===e.info&&e.intercept({handler:function(){return new Promise(function(e){return i=e})},focusReset:"manual",scroll:"manual"})}function t(){null!==i&&(i(),i=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var e=navigation.currentEntry;e&&null!=e.url&&navigation.navigate(e.url,{state:e.getState(),info:"react-transition",history:"replace"})}}if("object"==typeof navigation){var r=!1,i=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),null!==i&&(i(),i=null)}}}function Qp(e){this._internalRoot=e}function Yp(e){this._internalRoot=e}Yp.prototype.render=Qp.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));mp(t.current,Qc(),e,t,null,null)},Yp.prototype.unmount=Qp.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;mp(e.current,2,null,e,null,null),td(),t[$e]=null}},Yp.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ne();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pp.length&&0!==t&&t<Pp[n].priority;n++);Pp.splice(n,0,e),0===n&&Op(e)}};var Jp=n.version;if("19.2.4"!==Jp)throw Error(i(527,Jp,"19.2.4"));D.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=a(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var l=o.alternate;if(null===l){if(null!==(r=o.return)){n=r;continue}break}if(o.child===l.child){for(l=o.child;l;){if(l===n)return c(o),e;if(l===r)return c(o),t;l=l.sibling}throw Error(i(188))}if(n.return!==r.return)n=o,r=l;else{for(var s=!1,d=o.child;d;){if(d===n){s=!0,n=o,r=l;break}if(d===r){s=!0,r=o,n=l;break}d=d.sibling}if(!s){for(d=l.child;d;){if(d===n){s=!0,n=l,r=o;break}if(d===r){s=!0,r=l,n=o;break}d=d.sibling}if(!s)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?d(e):null)?null:e.stateNode};var Xp={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.4"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Kp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kp.isDisabled&&Kp.supportsFiber)try{ge=Kp.inject(Xp),me=Kp}catch(ef){}}return it.createRoot=function(e,t){if(!o(e))throw Error(i(299));var n=!1,r="",a=Fl,l=El,s=zl;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(a=t.onUncaughtError),void 0!==t.onCaughtError&&(l=t.onCaughtError),void 0!==t.onRecoverableError&&(s=t.onRecoverableError)),t=hp(e,1,!1,null,0,n,r,null,a,l,s,Gp),e[$e]=t.current,tu(e),new Qp(t)},it.hydrateRoot=function(e,t,n){if(!o(e))throw Error(i(299));var r=!1,a="",l=Fl,s=El,c=zl,d=null;return null!=n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onUncaughtError&&(l=n.onUncaughtError),void 0!==n.onCaughtError&&(s=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.formState&&(d=n.formState)),(t=hp(e,1,!0,t,0,r,a,d,l,s,c,Gp)).context=gp(null),n=t.current,(a=wo(r=Re(r=Qc()))).callback=null,ko(n,a,r),n=r,t.current.lanes=n,Ie(t,n),Ld(t),e[$e]=t.current,tu(e),new Yp(t)},it.version="19.2.4",it}var ct=(nt||(nt=1,function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),rt.exports=st()),rt.exports);const dt=(()=>"https://classabc.up.railway.app/api")();function ut(){return localStorage.getItem("classABC_pb_token")||null}const pt="_pb_users_auth_";async function ft(e,t={}){const n=e.startsWith("/api")?e.replace("/api",""):e,r=`${dt}${n}`,{silent:i=!1,...o}=t,a=o.headers||{},l=ut();l&&(a.Authorization=l),o.headers={"Content-Type":"application/json",...a};const s=await fetch(r,o),c=await s.json().catch(()=>({}));if(!s.ok){if(!i)try{console.error("[API] Request failed:",{url:r,status:s.status,requestBody:o.body,responseBody:c})}catch(d){}let e=c.message||`request-failed:${s.status}`;"Failed to authenticate."===e?e="Invalid email or password. Please try again.":"The request data is invalid."===e&&(e="Please check your email and password and try again.");const t=new Error(e);throw t.status=s.status,t.body=c,t}return c}const ht={pbRequest:ft,async ping(){try{return await ft("/health")}catch{return{ok:!1}}},async getStudentByParentCode(e){try{const t=(await ft("/collections/classes/records")).items||[];for(const n of t){const t="string"==typeof n.Access_Codes?JSON.parse(n.Access_Codes):n.Access_Codes;if(t){const r=Object.keys(t).find(n=>t[n].parentCode===e);if(r){const e=("string"==typeof n.students?JSON.parse(n.students):n.students).find(e=>e.id.toString()===r.toString());return{studentId:r,studentName:e?.name,classData:n}}}}return null}catch(t){return console.error("Search error",t),null}},async getStudentByCode(e,t){const n="parent"===t?"parentCode":"studentCode";try{const t=(await ft("/collections/classes/records?perPage=500")).items||[];for(const r of t){const t="string"==typeof r.Access_Codes?JSON.parse(r.Access_Codes||"{}"):r.Access_Codes||{},i=Object.keys(t).find(r=>t[r][n]===e);if(i){const e="string"==typeof r.students?JSON.parse(r.students||"[]"):r.students||[],n=e.find(e=>e.id.toString()===i.toString());return{studentId:i,studentName:n?.name||"Student",classData:{...r,students:e,tasks:"string"==typeof r.tasks?JSON.parse(r.tasks||"[]"):r.tasks||[],Access_Codes:t}}}}return null}catch(r){throw console.error("[API] Portal login error:",r),r}},async register({email:e,password:t,name:n}){const r=await ft(`/collections/${pt}/records`,{method:"POST",body:JSON.stringify({email:e,password:t,passwordConfirm:t,name:n||e})});try{await ft(`/collections/${pt}/request-verification`,{method:"POST",body:JSON.stringify({email:e})})}catch(i){}return{user:{email:r.email,name:r.name,id:r.id},message:"Account created! Please check your email to verify your account."}},async login({email:e,password:t}){const n=await ft(`/collections/${pt}/auth-with-password`,{method:"POST",body:JSON.stringify({identity:e,password:t})});if(!n.record?.verified){const e=new Error("Please verify your email before logging in. Check your inbox for the verification link.");throw e.status=403,e.body={message:"Email not verified"},e}return n.token&&localStorage.setItem("classABC_pb_token",n.token),{user:{email:n.record.email,name:n.record.name,id:n.record.id},token:n.token}},forgotPassword:async e=>await ft(`/collections/${pt}/request-password-reset`,{method:"POST",body:JSON.stringify({email:e})}),resetPassword:async(e,t,n)=>await ft(`/collections/${pt}/confirm-password-reset`,{method:"POST",body:JSON.stringify({token:e,password:t,passwordConfirm:n})}),verifyEmail:async e=>await ft(`/collections/${pt}/confirm-verification`,{method:"POST",body:JSON.stringify({token:e})}),async updateProfile({id:e,name:t,avatar:n,password:r,oldPassword:i}){if(!ut())throw new Error("not_authenticated");if(!e)throw new Error("user_id_missing");const o=new FormData;if(t&&t.trim()&&o.append("name",t.trim()),n&&n.startsWith("data:image"))try{const e=await fetch(n),t=await e.blob();if(t.size>5242880)throw new Error("Image is too large (max 5MB)");o.append("avatar",t,"avatar.png")}catch(a){console.warn("[API] Could not process avatar:",a.message)}if(r&&r.trim()&&i&&i.trim())o.append("password",r.trim()),o.append("passwordConfirm",r.trim()),o.append("oldPassword",i.trim());else if(r&&r.trim()&&!i)throw new Error("Current password required to change password");try{const t=`${dt.replace(/\/$/,"")}/collections/${pt}/records/${e}`,n=ut(),r={};n&&(r.Authorization=n);const i=await fetch(t,{method:"PATCH",headers:r,body:o}),a=await i.json().catch(()=>({}));if(!i.ok){const e=new Error(a.message||`request-failed:${i.status}`);throw e.status=i.status,e.body=a,e}let l=a.avatar;if(a.avatar&&!a.avatar.startsWith("http")&&!a.avatar.startsWith("data:")){l=`${dt.replace(/\/api$/,"")}/api/files/${pt}/${a.id}/${a.avatar}?t=${Date.now()}`}return console.log("[API] Profile update result:",{email:a.email,name:a.name,avatar:l,id:a.id}),{user:{email:a.email,name:a.name,avatar:l,id:a.id}}}catch(a){throw console.error("[API] Profile update failed:",a.message),console.error("[API] Error body:",a.body),a}},getBehaviors:async()=>((await ft("/collections/behaviors/records?perPage=500")).items||[]).map(e=>({...e,type:Array.isArray(e.type)?e.type:[e.type]})),async saveBehaviors(e){if(!Array.isArray(e))return console.warn("[BEHAVIORS] saveBehaviors called with non-array:",e),[];try{const n=await ft("/collections/behaviors/records?perPage=500"),r=new Map((n.items||[]).map(e=>[e.label,e])),i=[];for(const o of e){const e=Array.isArray(o.type)?o.type[0]||"wow":o.type||"wow",n={label:o.label,pts:Number(o.pts)||0,type:e,icon:o.icon},a=r.get(o.label);if(a)try{const e=await ft(`/collections/behaviors/records/${a.id}`,{method:"PATCH",body:JSON.stringify(n)});i.push(e)}catch(t){console.warn("[BEHAVIORS] Failed to update behavior:",o.label,t.body);const e=await ft("/collections/behaviors/records",{method:"POST",body:JSON.stringify(n)});i.push(e)}else{const e=await ft("/collections/behaviors/records",{method:"POST",body:JSON.stringify(n)});i.push(e)}}return i}catch(t){return console.error("[BEHAVIORS] saveBehaviors failed:",t.body||t.message),[]}},async getClasses(e){try{const t=await ft("/collections/classes/records?perPage=500");return(t.items||[]).filter(t=>t.teacher===e).map(e=>({...e,students:"string"==typeof e.students?JSON.parse(e.students||"[]"):e.students||[],tasks:"string"==typeof e.tasks?JSON.parse(e.tasks||"[]"):e.tasks||[],assignments:"string"==typeof e.assignments?JSON.parse(e.assignments||"[]"):e.assignments||[],submissions:"string"==typeof e.submissions?JSON.parse(e.submissions||"[]"):e.submissions||[],studentAssignments:"string"==typeof e.studentAssignments?JSON.parse(e.studentAssignments||"[]"):e.studentAssignments||[],student_submissions:"string"==typeof e.student_submissions?JSON.parse(e.student_submissions||"[]"):e.student_submissions||[],Access_Codes:"string"==typeof e.Access_Codes?JSON.parse(e.Access_Codes||"{}"):e.Access_Codes||{}}))}catch(t){throw console.error("[CLASSES] Load error:",t.message),t}},async saveClasses(e,t,n=[]){try{let o=function(e){try{return JSON.stringify(e).length>9e5}catch{return!1}};const a=((await ft("/collections/classes/records?perPage=500")).items||[]).filter(t=>t.teacher===e),l=new Map(a.map(e=>[e.id,e])),s=new Map(a.map(e=>[e.name,e])),c=new Set,d=new Map;for(const u of t){let t=Array.isArray(u.assignments)?[...u.assignments]:[],a=Array.isArray(u.students)?[...u.students]:[];o(t)&&(t=t.slice(0,100)),o(a)&&(a=a.slice(0,200));const p=JSON.stringify(t),f={name:u.name,teacher:e,avatar:u.avatar||null,students:JSON.stringify(a),tasks:JSON.stringify(n),assignments:p,submissions:JSON.stringify(u.submissions||[]),studentAssignments:JSON.stringify(u.studentAssignments||[]),student_submissions:JSON.stringify(u.student_submissions||[]),Access_Codes:u.Access_Codes||{}},h=JSON.stringify(f);let g=null,m=null;if(u.id&&l.has(u.id)?(g=l.get(u.id),m=u.id):s.has(u.name)&&(g=s.get(u.name),m=g.id),g&&m){c.add(m);try{await ft(`/collections/classes/records/${m}`,{method:"PATCH",body:h,silent:!0})}catch(r){if(404===r.status)try{const e=await ft("/collections/classes/records",{method:"POST",body:h});c.add(e.id),u.id&&u.id!==e.id&&d.set(u.id,e.id)}catch(i){console.error("[API] Create failed for class:",u.name,"Error:",i.message)}else console.error("[API] Update failed for class:",u.name,"Error:",r.message,r.body)}}else try{const e=await ft("/collections/classes/records",{method:"POST",body:h});c.add(e.id),u.id&&u.id!==e.id&&d.set(u.id,e.id)}catch(r){console.error("[API] Create failed for class:",u.name,"Error:",r.message)}}for(const[e]of l)if(!c.has(e))try{await ft(`/collections/classes/records/${e}`,{method:"DELETE"})}catch(r){console.error("[API] Delete failed for class ID:",e,"Error:",r.message)}return t.map(e=>{const t=e.id&&d.has(e.id)?d.get(e.id):e.id,n=l.get(t)||s.get(e.name)||{...e,id:t};return{...n,id:t,students:"string"==typeof n.students?JSON.parse(n.students||"[]"):n.students||[],tasks:"string"==typeof n.tasks?JSON.parse(n.tasks||"[]"):n.tasks||[],assignments:"string"==typeof n.assignments?JSON.parse(n.assignments||"[]"):n.assignments||[],submissions:"string"==typeof n.submissions?JSON.parse(n.submissions||"[]"):n.submissions||[],studentAssignments:"string"==typeof n.studentAssignments?JSON.parse(n.studentAssignments||"[]"):n.studentAssignments||[],student_submissions:"string"==typeof n.student_submissions?JSON.parse(n.student_submissions||"[]"):n.student_submissions||[],Access_Codes:"string"==typeof n.Access_Codes?JSON.parse(n.Access_Codes||"{}"):n.Access_Codes||{}}})}catch(o){throw console.error("[API] Save error:",o.message),o}},async getClassesSynced(e){try{const t=await ft("/collections/classes/records?perPage=500");return(t.items||[]).filter(t=>t.teacher===e).map(e=>({...e,students:"string"==typeof e.students?JSON.parse(e.students||"[]"):e.students||[],tasks:"string"==typeof e.tasks?JSON.parse(e.tasks||"[]"):e.tasks||[],assignments:"string"==typeof e.assignments?JSON.parse(e.assignments||"[]"):e.assignments||[],submissions:"string"==typeof e.submissions?JSON.parse(e.submissions||"[]"):e.submissions||[],studentAssignments:"string"==typeof e.studentAssignments?JSON.parse(e.studentAssignments||"[]"):e.studentAssignments||[],student_submissions:"string"==typeof e.student_submissions?JSON.parse(e.student_submissions||"[]"):e.student_submissions||[],Access_Codes:"string"==typeof e.Access_Codes?JSON.parse(e.Access_Codes||"{}"):e.Access_Codes||{}}))}catch(t){throw console.error("[CLASSES] Load error:",t.message),t}},async deleteNewCards(){try{let t=0,n=1;const r=500;for(;;){const i=(await ft(`/collections/behaviors/records?filter=label="New Card"&perPage=${r}&page=${n}`)).items||[];if(0===i.length)break;for(const n of i)try{await ft(`/collections/behaviors/records/${n.id}`,{method:"DELETE"}),t++}catch(e){console.warn("Failed to delete card:",n.id,e.message)}n++}return t}catch(t){throw console.error("deleteNewCards error:",t),t}},setToken(e){e?localStorage.setItem("classABC_pb_token",e):localStorage.removeItem("classABC_pb_token")}},gt=t.createContext({lang:"en",setLang:()=>{}}),mt={en:{"nav.help":"Help","nav.login":"Login","nav.signup":"Get Started Free","hero.title.line1":"Classroom management","hero.title.gradient":"made magical.","hero.subtext":"The all-in-one platform for behavior tracking, engaging goals, and instant parent communication.","help.label":"Help","search.placeholder":"Search features...","guide.badge":"Classroom Manual","hero.tag":"Trusted by Modern Teachers","cta.create_class":"Create My Class","features.title":"Everything you need to run your class.","modal.who":"Choose your role","role.teacher":"Teacher","role.teacher.desc":"Create classes, assign behaviors, and track progress.","role.parent":"Parent","role.parent.desc":"View your child's progress and receive updates.","role.student":"Student","role.student.desc":"Enter your class access code to see assignments.","student.instructions":"Enter your 5-digit class code to continue.","student.verifying":"Verifying...","student.enter":"Enter","auth.create_btn":"Create account","auth.login_btn":"Login","auth.fullname":"Full name","auth.email":"Email address","auth.password":"Password","auth.confirm":"Confirm password","auth.forgot":"Forgot password?","auth.already":"Already have an account?","auth.newhere":"New here?","auth.create_account":"Create account","auth.login":"Login","nav.back":"Back","cta.join_today":"Join today","cta.ready":"Ready to level up your classroom?","auth.account_created":"Account Created!","auth.verify_msg":"Please check your email and click the verification link to activate your account.","auth.verify_block":"You will not be able to log in until your email is verified.","auth.goto_login":"Go to Login","features.avatars.title":"Custom Avatars","features.avatars.desc":"Let students express themselves with unique, fun avatars.","features.reports.title":"Instant Reports","features.reports.desc":"Track progress and share beautiful reports with parents.","features.egg.title":"Progress Meter","features.egg.desc":"Motivate your class with a collaborative progress journey.","features.lucky.title":"Lucky Draw","features.lucky.desc":"Random rewards to keep every lesson exciting.","mockup.class_name":"Class 4-B","mockup.progress":"Progress","features.meter.title":"Progress Meter","features.meter.desc":"Track your class's journey together. Celebrate milestones and motivate students with a real-time progress meter.","features.lucky.title":"Lucky Draw","features.lucky.desc":"Gamify your lessons! Randomly reward students for participation and effort with a single click.","features.reports.title":"Reports & Analytics","features.reports.desc":"Instantly visualize class and student progress. Export beautiful, parent-friendly reports in any language.","features.avatars.title":"Custom Avatars","features.avatars.desc":"Let every student express themselves with unique, fun avatars. Build classroom identity and belonging.","features.studio.title":"Assignments Studio","features.studio.desc":"Create, assign, and grade digital worksheets in seconds. Support all question types and instant feedback.","features.codes.title":"Access Codes","features.codes.desc":"Secure, simple logins for every student and parent. No more forgotten passwords or lost accounts.","features.timer.title":"Focus Timer","features.timer.desc":"Boost productivity with built-in timers for activities and tests. Visual cues for the whole class.","features.buzzer.title":"Attention Buzzer","features.buzzer.desc":"Regain focus instantly. Use the buzzer to get everyone's attention in a fun, non-disruptive way.","features.whiteboard.title":"Whiteboard","features.whiteboard.desc":"Draw, type, and export. Use the digital whiteboard for group work and creative lessons.","features.grading.title":"Messages & Grading","features.grading.desc":"Review, grade, and send feedback on student submissions. Keep communication clear and actionable.","features.mgmt.title":"Class Management","features.mgmt.desc":"Add or edit students instantly. Update names, avatars, and access codes with automatic saving.","features.settings.title":"Customization","features.settings.desc":"Configure points, cards, and class options. Fine-tune the platform for your specific teaching style."},zh:{"nav.help":"","nav.login":"","nav.signup":"","hero.title.line1":"","hero.title.gradient":"","hero.subtext":"","help.label":"","search.placeholder":"...","guide.badge":"","hero.tag":"","cta.create_class":"","features.title":"","modal.who":"","role.teacher":"","role.teacher.desc":"","role.parent":"","role.parent.desc":"","role.student":"","role.student.desc":"","student.instructions":"5","student.verifying":"...","student.enter":"","auth.create_btn":"","auth.login_btn":"","auth.fullname":"","auth.email":"","auth.password":"","auth.confirm":"","auth.already":"","auth.newhere":"","auth.create_account":"","auth.login":"","nav.back":"","cta.join_today":"","cta.ready":"","auth.account_created":"","auth.verify_msg":"","auth.verify_block":"","auth.goto_login":"","features.title":"","features.meter.title":"","features.meter.desc":"","features.egg.title":"","features.egg.desc":"","features.lucky.title":"","features.lucky.desc":"","features.reports.title":"","features.reports.desc":"","features.avatars.title":"","features.avatars.desc":"","features.studio.title":"","features.studio.desc":"","features.codes.title":"","features.codes.desc":"","features.timer.title":"","features.timer.desc":"","features.buzzer.title":"","features.buzzer.desc":"","features.whiteboard.title":"","features.whiteboard.desc":"","features.grading.title":"","features.grading.desc":"","features.mgmt.title":"","features.mgmt.desc":"","features.settings.title":"","features.settings.desc":""}};function xt({children:e}){const[r,i]=t.useState(()=>{try{return localStorage.getItem("classABC_lang")||"en"}catch{return"en"}});return t.useEffect(()=>{try{localStorage.setItem("classABC_lang",r)}catch{}},[r]),n.createElement(gt.Provider,{value:{lang:r,setLang:i}},e)}function yt(){const e=t.useContext(gt)||{lang:"en",setLang:()=>{}};return{t:t=>(mt[e.lang]||mt.en)[t]||mt.en[t]||t,lang:e.lang,setLang:e.setLang}}function bt(e=768){const[n,r]=t.useState(()=>"undefined"!=typeof window&&window.innerWidth<=e);return t.useEffect(()=>{const t=()=>{r(window.innerWidth<=e)};return window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[e]),n}function vt(){const{lang:e,setLang:t}=yt(),i=bt(768),[o,a]=n.useState(!1);return i?r.jsxs("div",{style:{position:"relative"},children:[r.jsxs("button",{onClick:()=>a(!o),style:{padding:"9px 15px",borderRadius:"8px",border:"none",cursor:"pointer",background:"#F1F5F9",color:"#64748B",fontWeight:"600",fontSize:"12px",display:"flex",alignItems:"center",gap:"6px"},children:["en"===e?"EN":"",r.jsx("span",{style:{fontSize:"10px",opacity:.6},children:""})]}),o&&r.jsxs(r.Fragment,{children:[r.jsx("div",{style:{position:"fixed",inset:0,zIndex:99},onClick:()=>a(!1)}),r.jsxs("div",{style:{position:"absolute",top:"100%",right:0,marginTop:"8px",background:"#fff",borderRadius:"12px",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",zIndex:100,overflow:"hidden",minWidth:"140px"},children:[r.jsx("button",{onClick:()=>{t("en"),a(!1)},style:{width:"100%",padding:"16px 20px",border:"none",background:"en"===e?"#EEF2FF":"transparent",color:"en"===e?"#4F46E5":"#64748B",fontWeight:700,cursor:"pointer",fontSize:"20px",textAlign:"left"},children:"EN"}),r.jsx("button",{onClick:()=>{t("zh"),a(!1)},style:{width:"100%",padding:"16px 20px",border:"none",background:"zh"===e?"#FEF3F2":"transparent",color:"zh"===e?"#B91C1C":"#64748B",fontWeight:700,cursor:"pointer",fontSize:"20px",textAlign:"left"},children:""})]})]})]}):r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[r.jsx("button",{onClick:()=>t("en"),style:{padding:"3px 4px",borderRadius:4,border:"none",cursor:"pointer",background:"en"===e?"#EEF2FF":"transparent",color:"en"===e?"#4F46E5":"#64748B",fontWeight:700,fontSize:"11px"},title:"English",children:"EN"}),r.jsx("button",{onClick:()=>t("zh"),style:{padding:"3px 4px",borderRadius:4,border:"none",cursor:"pointer",background:"zh"===e?"#FEF3F2":"transparent",color:"zh"===e?"#B91C1C":"#64748B",fontWeight:700,fontSize:"11px"},title:"",children:""})]})}var wt=function(){return wt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},wt.apply(this,arguments)};function kt(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function St(e){if(e){var t=e.textContent;e.style.direction=t&&/[\u0591-\u07FF\uFB1D-\uFDFD\uFE70-\uFEFC]/.test(t[0])?"rtl":"ltr"}}function Ct(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.filter(Boolean).join(" ")}function jt(){if(document.selection)return document.selection.createRange().parentElement();var e=window.getSelection();return e&&e.rangeCount>0&&e.getRangeAt(0).startContainer.parentNode||void 0}function Ft(e){return"string"==typeof e?e.replace(/&nbsp;|\u202F|\u00A0/g," ").replace(/<br \/>/g,"<br>"):String(e)}function Et(e,t){"function"==typeof t?t(e):"object"==typeof t&&t&&(t.current=e)}"function"==typeof SuppressedError&&SuppressedError;var zt=n.memo(n.forwardRef(function(e,t){var r=e.className,i=e.disabled,o=e.tagName,a=e.value,l=void 0===a?"":a,s=e.placeholder,c=kt(e,["className","disabled","tagName","value","placeholder"]),d=n.useRef(null),u=n.useRef(l),p=n.useRef(c);return n.useEffect(function(){p.current=c;var e=d.current;e&&Ft(u.current)!==Ft(l)&&(u.current=l,e.innerHTML=l,function(e){var t=document.createTextNode("");e.appendChild(t);var n=document.activeElement===e;if(null!==t&&null!==t.nodeValue&&n){var r=window.getSelection();if(null!==r){var i=document.createRange();i.setStart(t,t.nodeValue.length),i.collapse(!0),r.removeAllRanges(),r.addRange(i)}e instanceof HTMLElement&&e.focus()}}(e))}),n.useMemo(function(){function e(e){var t,n,r=d.current;if(r){var i=r.innerHTML;i!==u.current&&(null===(n=(t=p.current).onChange)||void 0===n||n.call(t,wt(wt({},e),{target:{value:i,name:c.name}}))),St(r),u.current=i}}var a=Ct("rsw-ce",r);return n.createElement(o||"div",wt(wt({},c),{className:a,contentEditable:!i,dangerouslySetInnerHTML:{__html:l},onBlur:function(t){return(p.current.onBlur||e)(t)},onInput:e,onKeyDown:function(t){return(p.current.onKeyDown||e)(t)},onKeyUp:function(t){return(p.current.onKeyUp||e)(t)},placeholder:s,ref:function(e){d.current=e,St(e),Et(e,t)}}))},[r,i,s,o])})),At=n.createContext(void 0);function It(e){var t=e.children,r=n.useState({htmlMode:!1,update:function(e){o(function(t){return wt(wt({},t),e)})}}),i=r[0],o=r[1];return n.createElement(At.Provider,{value:i},t)}function Tt(){var e=n.useContext(At);if(!e)throw new Error("You should wrap your component by EditorProvider");return e}var Bt=[],Dt=[];!function(e,t){if(e&&"undefined"!=typeof document){var n,r=!0===t.prepend?"prepend":"append",i=!0===t.singleTag,o="string"==typeof t.container?document.querySelector(t.container):document.getElementsByTagName("head")[0];if(i){var a=Bt.indexOf(o);-1===a&&(a=Bt.push(o)-1,Dt[a]={}),n=Dt[a]&&Dt[a][r]?Dt[a][r]:Dt[a][r]=l()}else n=l();65279===e.charCodeAt(0)&&(e=e.substring(1)),n.styleSheet?n.styleSheet.cssText+=e:n.appendChild(document.createTextNode(e))}function l(){var e=document.createElement("style");if(e.setAttribute("type","text/css"),t.attributes)for(var n=Object.keys(t.attributes),i=0;i<n.length;i++)e.setAttribute(n[i],t.attributes[n[i]]);var a="prepend"===r?"afterbegin":"beforeend";return o.insertAdjacentElement(a,e),e}}(".rsw-editor{border:1px solid #ddd;border-radius:.375rem;display:flex;flex-direction:column;min-height:100px;overflow:hidden}.rsw-ce{flex:1 1 auto;overflow:auto;padding:.5rem}.rsw-ce:focus{outline:1px solid #668}.rsw-ce[contentEditable=true]:empty:not(:focus):before{color:grey;content:attr(placeholder);pointer-events:none}.rsw-html{background:transparent;border:none;font-family:monospace,Courier New}.rsw-separator{align-self:stretch;border-right:1px solid #ddd;display:flex;margin:0 3px}.rsw-dd{box-sizing:border-box;outline:none}.rsw-btn{background:transparent;border:0;color:#222;cursor:pointer;font-size:1em;height:2em;outline:none;padding:0;width:2em}.rsw-btn:hover{background:#eaeaea}.rsw-btn[data-active=true]{background:#e0e0e0}.rsw-toolbar{align-items:center;background-color:#f5f5f5;border-bottom:1px solid #ddd;display:flex}",{});var Rt=n.forwardRef(function(e,t){var r=e.autoFocus,i=e.children,o=e.containerProps,a=e.onSelect,l=kt(e,["autoFocus","children","containerProps","onSelect"]),s=Tt();function c(e){var t;e.target!==s.$el&&((null===(t=s.$el)||void 0===t?void 0:t.contains(e.target))||s.update({$selection:void 0}))}n.useEffect(function(){return document.addEventListener("click",c),function(){return document.removeEventListener("click",c)}});var d=Ct("rsw-editor",null==o?void 0:o.className);return s.htmlMode?n.createElement("div",wt({},o,{className:d}),i,n.createElement("textarea",wt({},l,{className:"rsw-ce rsw-html"}))):n.createElement("div",wt({},o,{className:d}),i,n.createElement(zt,wt({},l,{ref:function(e){s.update({$el:e}),Et(e,t),r&&e&&void 0===s.$el&&e.focus()},onSelect:function(e){null==a||a(e),s.update({$selection:jt()})}})))});var Pt=Ut("Bold","","bold"),Nt=Ut("Bullet list",n.createElement(function(){return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",style:{verticalAlign:"text-top"}},n.createElement("path",{fill:"currentColor",d:"M7 5h14v2H7V5zm0 8v-2h14v2H7zM4 4.50001c.83 0 1.5.66992 1.5 1.5 0 .83007-.67 1.5-1.5 1.5s-1.5-.66993-1.5-1.5c0-.83008.67-1.5 1.5-1.5zM4 10.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5-1.5-.67-1.5-1.5.67-1.5 1.5-1.5zM7 19v-2h14v2H7zm-3-2.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5-1.5-.67-1.5-1.5.67-1.5 1.5-1.5z"}))},null),"insertUnorderedList"),Lt=Ut("Clear formatting","T","removeFormat"),Mt=Ut("Italic","","italic"),Ot=Ut("Strike through",n.createElement("s",null,"ab"),"strikeThrough"),_t=Ut("Link","",function(e){var t=e.$selection;"A"===(null==t?void 0:t.nodeName)?document.execCommand("unlink"):document.execCommand("createLink",!1,prompt("URL","")||void 0)}),Wt=Ut("Numbered list",n.createElement(function(){return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",style:{verticalAlign:"text-top"}},n.createElement("path",{fill:"currentColor",d:"M6.99938 12.998v-2H20.9994v2H6.99938zm0 6.0001v-2H20.9994v2H6.99938zm0-12.00001v-2H20.9994v2H6.99938zm-4 1v-3h-1v-1h2v4h-1zm-1 9.00001v-1h3v4h-3v-1h2v-.5h-1v-1h1v-.5h-2zM4.25 10c.41421 0 .75.3358.75.75 0 .2024-.08017.3861-.2105.521L3.11983 13H5v1H2v-.9218L4 11H2v-1h2.25z"}))},null),"insertOrderedList"),$t=Ut("Redo","","redo"),Ht=Ut("Underline",n.createElement("span",{style:{textDecoration:"underline"}},""),"underline"),qt=Ut("Undo","","undo");function Ut(e,t,r){return i.displayName=e.replace(/\s/g,""),i;function i(i){var o=Tt(),a=o.$el,l=function(){return Boolean(null==a?void 0:a.contains(document.activeElement))},s=!1;return"string"==typeof r&&(s=l()&&document.queryCommandState(r)),o.htmlMode?null:n.createElement("button",wt({className:"rsw-btn","data-active":s,onMouseDown:function(e){e.preventDefault(),l()||null==a||a.focus(),"function"==typeof r?r(o):document.execCommand(r)},tabIndex:-1,title:e,type:"button"},i),t)}}var Vt=function(e,t){return r.displayName=e,r;function r(r){var i=Tt(),o=i.$el,a=i.$selection;if(i.htmlMode)return null;var l=t.findIndex(function(e){return"formatBlock"===e[1]&&(null==a?void 0:a.nodeName)===e[2]});return n.createElement(Gt,wt({},r,{items:t,onChange:function(e){var n=e.target,r=n.value,a=parseInt(r,10),l=t[a]||[],s=l[1],c=l[2];e.preventDefault(),document.activeElement!==o&&(null==o||o.focus());"function"==typeof s?s(i):s&&document.execCommand(s,!1,c);setTimeout(function(){return n.value=r},10)},selected:l,tabIndex:-1,title:e}))}}("Styles",[["Normal","formatBlock","DIV"],[" ","formatBlock","H1"],["Header 2","formatBlock","H2"],["","formatBlock","PRE"]]);function Gt(e){var t=e.items,r=e.selected,i=kt(e,["items","selected"]);return n.createElement("select",wt({className:"rsw-dd"},i,{value:r}),n.createElement("option",{hidden:!0},i.title),t.map(function(e,t){return n.createElement("option",{key:e[2],value:t},e[0])}))}function Qt(e){var t=kt(e,[]),r=Tt();return n.createElement("button",wt({className:"rsw-btn","data-active":r.htmlMode,onClick:function(){r.update({htmlMode:!r.htmlMode})},tabIndex:-1,title:"HTML mode",type:"button"},t),"</>")}function Yt(e){return Tt().htmlMode?null:n.createElement("div",wt({className:"rsw-separator"},e))}function Jt(e){return n.createElement("div",wt({className:"rsw-toolbar"},e))}var Xt=n.forwardRef(function(e,t){return n.createElement(It,null,n.createElement(Rt,wt({},e,{ref:t}),e.children||n.createElement(Jt,null,n.createElement(qt,null),n.createElement($t,null),n.createElement(Yt,null),n.createElement(Pt,null),n.createElement(Mt,null),n.createElement(Ht,null),n.createElement(Ot,null),n.createElement(Yt,null),n.createElement(Wt,null),n.createElement(Nt,null),n.createElement(Yt,null),n.createElement(_t,null),n.createElement(Lt,null),n.createElement(Qt,null),n.createElement(Yt,null),n.createElement(Vt,null))))});const Kt=[{name:"bunny",label:"Bunny ",color:"#FF69B4",accentColor:"#FFB6D9"},{name:"cat",label:"Cat ",color:"#FFA500",accentColor:"#FFD700"},{name:"dog",label:"Dog ",color:"#8B4513",accentColor:"#D2691E"},{name:"fox",label:"Fox ",color:"#FF6347",accentColor:"#FFB347"},{name:"lion",label:"Lion ",color:"#FFD700",accentColor:"#FFA500"},{name:"penguin",label:"Penguin ",color:"#000000",accentColor:"#FFFFFF"},{name:"panda",label:"Panda ",color:"#000000",accentColor:"#FFFFFF"},{name:"dinosaur",label:"Dinosaur ",color:"#7CFC00",accentColor:"#ADFF2F"},{name:"whale",label:"Whale ",color:"#1E90FF",accentColor:"#87CEEB"},{name:"monkey",label:"Monkey ",color:"#CD853F",accentColor:"#DEB887"},{name:"bear",label:"Bear ",color:"#8B6F47",accentColor:"#A0826D"},{name:"tiger",label:"Tiger ",color:"#FF8C00",accentColor:"#FFD700"},{name:"owl",label:"Owl ",color:"#8B4513",accentColor:"#D4A574"},{name:"unicorn",label:"Unicorn ",color:"#FF69B4",accentColor:"#FFB6D9"},{name:"dragon",label:"Dragon ",color:"#DC143C",accentColor:"#FFD700"},{name:"koala",label:"Koala ",color:"#A9A9A9",accentColor:"#D3D3D3"},{name:"giraffe",label:"Giraffe ",color:"#FFD700",accentColor:"#8B7355"},{name:"dolphin",label:"Dolphin ",color:"#1E90FF",accentColor:"#87CEEB"},{name:"parrot",label:"Parrot ",color:"#32CD32",accentColor:"#FFD700"},{name:"butterfly",label:"Butterfly ",color:"#FF1493",accentColor:"#FFD700"}],Zt=Kt;function en(e="user"){const t=(e||"").charCodeAt(0)||0;return Kt[t%Kt.length]}function tn(e,t){return`<svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">\n    \x3c!-- Head --\x3e\n    <circle cx="100" cy="110" r="60" fill="${e}"/>\n    \x3c!-- Left Ear --\x3e\n    <ellipse cx="70" cy="40" rx="18" ry="45" fill="${e}" transform="rotate(-25 70 40)"/>\n    <ellipse cx="70" cy="45" rx="12" ry="38" fill="${t}" transform="rotate(-25 70 45)"/>\n    \x3c!-- Right Ear --\x3e\n    <ellipse cx="130" cy="40" rx="18" ry="45" fill="${e}" transform="rotate(25 130 40)"/>\n    <ellipse cx="130" cy="45" rx="12" ry="38" fill="${t}" transform="rotate(25 130 45)"/>\n    \x3c!-- Snout --\x3e\n    <circle cx="100" cy="120" r="25" fill="${t}"/>\n    \x3c!-- Eyes --\x3e\n    <circle cx="85" cy="100" r="8" fill="#000"/>\n    <circle cx="115" cy="100" r="8" fill="#000"/>\n    <circle cx="87" cy="98" r="3" fill="#FFF"/>\n    <circle cx="117" cy="98" r="3" fill="#FFF"/>\n    \x3c!-- Nose --\x3e\n    <circle cx="100" cy="115" r="5" fill="#FF1493"/>\n    \x3c!-- Mouth --\x3e\n    <path d="M 100 120 Q 95 128 85 125" stroke="#000" stroke-width="2" fill="none" stroke-linecap="round"/>\n    <path d="M 100 120 Q 105 128 115 125" stroke="#000" stroke-width="2" fill="none" stroke-linecap="round"/>\n  </svg>`}function nn(e="user",t="boy"){try{const t=en(e),n=on(t.name,t.color,t.accentColor);return`data:image/svg+xml;utf8,${encodeURIComponent(n)}`}catch(n){return console.warn("Avatar generation failed:",n),an(e)}}function rn(e="bunny"){try{const t=function(e){return Kt.find(t=>t.name===e)||Kt[0]}(e),n=on(t.name,t.color,t.accentColor);return`data:image/svg+xml;utf8,${encodeURIComponent(n)}`}catch(t){return console.warn("Avatar generation failed:",t),nn("user")}}function on(e,t,n){switch(e){case"bunny":default:return tn(t,n);case"cat":return function(e,t){return`<svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">\n    \x3c!-- Head --\x3e\n    <circle cx="100" cy="110" r="55" fill="${e}"/>\n    \x3c!-- Left Ear --\x3e\n    <polygon points="65,60 50,20 70,55" fill="${e}"/>\n    <polygon points="63,58 57,35 68,53" fill="${t}"/>\n    \x3c!-- Right Ear --\x3e\n    <polygon points="135,60 150,20 130,55" fill="${e}"/>\n    <polygon points="137,58 143,35 132,53" fill="${t}"/>\n    \x3c!-- Eyes --\x3e\n    <ellipse cx="82" cy="100" rx="10" ry="16" fill="#00FF00"/>\n    <ellipse cx="118" cy="100" rx="10" ry="16" fill="#00FF00"/>\n    <ellipse cx="82" cy="104" rx="5" ry="12" fill="#000"/>\n    <ellipse cx="118" cy="104" rx="5" ry="12" fill="#000"/>\n    \x3c!-- Nose --\x3e\n    <polygon points="100,115 95,122 105,122" fill="${t}"/>\n    \x3c!-- Mouth --\x3e\n    <path d="M 100 122 Q 90 135 75 130" stroke="#000" stroke-width="2" fill="none" stroke-linecap="round"/>\n    <path d="M 100 122 Q 110 135 125 130" stroke="#000" stroke-width="2" fill="none" stroke-linecap="round"/>\n    \x3c!-- Whiskers --\x3e\n    <line x1="60" y1="105" x2="40" y2="100" stroke="#000" stroke-width="1.5" stroke-linecap="round"/>\n    <line x1="60" y1="115" x2="40" y2="120" stroke="#000" stroke-width="1.5" stroke-linecap="round"/>\n    <line x1="140" y1="105" x2="160" y2="100" stroke="#000" stroke-width="1.5" stroke-linecap="round"/>\n    <line x1="140" y1="115" x2="160" y2="120" stroke="#000" stroke-width="1.5" stroke-linecap="round"/>\n  </svg>`}(t,n);case"dog":return function(e,t){return`<svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">\n    \x3c!-- Head --\x3e\n    <circle cx="100" cy="110" r="55" fill="${e}"/>\n    \x3c!-- Left Ear --\x3e\n    <ellipse cx="65" cy="65" rx="22" ry="35" fill="${e}"/>\n    \x3c!-- Right Ear --\x3e\n    <ellipse cx="135" cy="65" rx="22" ry="35" fill="${e}"/>\n    \x3c!-- Snout --\x3e\n    <ellipse cx="100" cy="125" rx="30" ry="25" fill="${t}"/>\n    \x3c!-- Eyes --\x3e\n    <circle cx="85" cy="100" r="8" fill="#000"/>\n    <circle cx="115" cy="100" r="8" fill="#000"/>\n    <circle cx="87" cy="98" r="3" fill="#FFF"/>\n    <circle cx="117" cy="98" r="3" fill="#FFF"/>\n    \x3c!-- Nose --\x3e\n    <circle cx="100" cy="122" r="6" fill="#000"/>\n    \x3c!-- Tongue --\x3e\n    <ellipse cx="100" cy="140" rx="8" ry="10" fill="#FF69B4"/>\n    \x3c!-- Mouth --\x3e\n    <path d="M 100 128 Q 95 135 85 133" stroke="#000" stroke-width="1.5" fill="none" stroke-linecap="round"/>\n    <path d="M 100 128 Q 105 135 115 133" stroke="#000" stroke-width="1.5" fill="none" stroke-linecap="round"/>\n  </svg>`}(t,n);case"fox":return function(e,t){return`<svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">\n    \x3c!-- Head --\x3e\n    <circle cx="100" cy="110" r="55" fill="${e}"/>\n    \x3c!-- Left Ear --\x3e\n    <polygon points="60,60 45,15 75,65" fill="${e}"/>\n    <polygon points="62,58 52,30 72,62" fill="${t}"/>\n    \x3c!-- Right Ear --\x3e\n    <polygon points="140,60 155,15 125,65" fill="${e}"/>\n    <polygon points="138,58 148,30 128,62" fill="${t}"/>\n    \x3c!-- Snout --\x3e\n    <ellipse cx="100" cy="120" rx="35" ry="30" fill="${t}"/>\n    \x3c!-- Eyes --\x3e\n    <circle cx="82" cy="100" r="7" fill="#000"/>\n    <circle cx="118" cy="100" r="7" fill="#000"/>\n    <circle cx="84" cy="98" r="2" fill="#FFF"/>\n    <circle cx="120" cy="98" r="2" fill="#FFF"/>\n    \x3c!-- Nose --\x3e\n    <circle cx="100" cy="118" r="5" fill="#000"/>\n    \x3c!-- Smile --\x3e\n    <path d="M 100 123 Q 95 132 80 130" stroke="#000" stroke-width="2" fill="none" stroke-linecap="round"/>\n    <path d="M 100 123 Q 105 132 120 130" stroke="#000" stroke-width="2" fill="none" stroke-linecap="round"/>\n  </svg>`}(t,n);case"lion":return function(e,t){return`<svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">\n    \x3c!-- Head --\x3e\n    <circle cx="100" cy="90" r="35" fill="${e}"/>\n    \x3c!-- Mane --\x3e\n    <circle cx="100" cy="90" r="55" fill="${e}" opacity="0.7"/>\n    <circle cx="70" cy="60" r="20" fill="${e}"/>\n    <circle cx="130" cy="60" r="20" fill="${e}"/>\n    <circle cx="55" cy="90" r="18" fill="${e}"/>\n    <circle cx="145" cy="90" r="18" fill="${e}"/>\n    \x3c!-- Face --\x3e\n    <circle cx="100" cy="95" r="25" fill="${t}"/>\n    \x3c!-- Eyes --\x3e\n    <circle cx="88" cy="85" r="6" fill="#000"/>\n    <circle cx="112" cy="85" r="6" fill="#000"/>\n    <circle cx="89" cy="84" r="2" fill="#FFF"/>\n    <circle cx="113" cy="84" r="2" fill="#FFF"/>\n    \x3c!-- Nose --\x3e\n    <circle cx="100" cy="98" r="4" fill="#000"/>\n    \x3c!-- Mouth --\x3e\n    <path d="M 100 103 Q 95 110 82 107" stroke="#000" stroke-width="1.5" fill="none" stroke-linecap="round"/>\n    <path d="M 100 103 Q 105 110 118 107" stroke="#000" stroke-width="1.5" fill="none" stroke-linecap="round"/>\n  </svg>`}(t,n);case"penguin":return function(e,t){return`<svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">\n    \x3c!-- Body --\x3e\n    <ellipse cx="100" cy="120" rx="40" ry="60" fill="${e}"/>\n    \x3c!-- Belly --\x3e\n    <ellipse cx="100" cy="120" rx="25" ry="55" fill="${t}"/>\n    \x3c!-- Head --\x3e\n    <circle cx="100" cy="60" r="35" fill="${e}"/>\n    \x3c!-- Face white --\x3e\n    <circle cx="100" cy="65" r="22" fill="${t}"/>\n    \x3c!-- Eyes --\x3e\n    <circle cx="88" cy="55" r="7" fill="${t}"/>\n    <circle cx="112" cy="55" r="7" fill="${t}"/>\n    <circle cx="88" cy="55" r="4" fill="#000"/>\n    <circle cx="112" cy="55" r="4" fill="#000"/>\n    <circle cx="89" cy="54" r="1.5" fill="#FFF"/>\n    <circle cx="113" cy="54" r="1.5" fill="#FFF"/>\n    \x3c!-- Beak --\x3e\n    <polygon points="100,65 95,75 105,75" fill="#FFD700"/>\n    \x3c!-- Feet --\x3e\n    <ellipse cx="88" cy="175" rx="12" ry="8" fill="#FFD700"/>\n    <ellipse cx="112" cy="175" rx="12" ry="8" fill="#FFD700"/>\n  </svg>`}(t,n);case"panda":return function(e,t){return`<svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">\n    \x3c!-- Body --\x3e\n    <circle cx="100" cy="130" r="45" fill="${t}"/>\n    \x3c!-- Head --\x3e\n    <circle cx="100" cy="70" r="40" fill="${t}"/>\n    \x3c!-- Ears --\x3e\n    <circle cx="70" cy="35" r="15" fill="${e}"/>\n    <circle cx="130" cy="35" r="15" fill="${e}"/>\n    \x3c!-- Eye patches --\x3e\n    <ellipse cx="82" cy="65" rx="15" ry="18" fill="${e}"/>\n    <ellipse cx="118" cy="65" rx="15" ry="18" fill="${e}"/>\n    \x3c!-- Eyes --\x3e\n    <circle cx="82" cy="65" r="6" fill="#FFF"/>\n    <circle cx="118" cy="65" r="6" fill="#FFF"/>\n    <circle cx="82" cy="65" r="3" fill="#000"/>\n    <circle cx="118" cy="65" r="3" fill="#000"/>\n    \x3c!-- Nose --\x3e\n    <circle cx="100" cy="80" r="4" fill="${e}"/>\n    \x3c!-- Mouth --\x3e\n    <path d="M 100 85 Q 95 92 85 90" stroke="${e}" stroke-width="2" fill="none" stroke-linecap="round"/>\n    <path d="M 100 85 Q 105 92 115 90" stroke="${e}" stroke-width="2" fill="none" stroke-linecap="round"/>\n    \x3c!-- Front paws --\x3e\n    <ellipse cx="80" cy="165" rx="15" ry="20" fill="${e}"/>\n    <ellipse cx="120" cy="165" rx="15" ry="20" fill="${e}"/>\n  </svg>`}(t,n);case"dinosaur":return function(e,t){return`<svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">\n    \x3c!-- Body --\x3e\n    <ellipse cx="100" cy="130" rx="50" ry="45" fill="${e}"/>\n    \x3c!-- Head --\x3e\n    <ellipse cx="70" cy="85" rx="35" ry="40" fill="${e}"/>\n    \x3c!-- Spikes down back --\x3e\n    <polygon points="80,90 75,70 85,85" fill="${t}"/>\n    <polygon points="95,85 90,65 100,80" fill="${t}"/>\n    <polygon points="110,90 105,70 115,85" fill="${t}"/>\n    <polygon points="125,100 120,80 130,95" fill="${t}"/>\n    \x3c!-- Eyes --\x3e\n    <circle cx="60" cy="80" r="6" fill="#000"/>\n    <circle cx="62" cy="78" r="2" fill="#FFF"/>\n    \x3c!-- Nostrils --\x3e\n    <circle cx="52" cy="95" r="2" fill="#000"/>\n    \x3c!-- Teeth --\x3e\n    <line x1="45" y1="105" x2="40" y2="115" stroke="#FFF" stroke-width="2" stroke-linecap="round"/>\n    <line x1="50" y1="108" x2="47" y2="118" stroke="#FFF" stroke-width="2" stroke-linecap="round"/>\n    \x3c!-- Tail --\x3e\n    <path d="M 150 120 Q 170 115 180 100" stroke="${e}" stroke-width="18" fill="none" stroke-linecap="round"/>\n  </svg>`}(t,n);case"whale":return function(e,t){return`<svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">\n    \x3c!-- Body --\x3e\n    <ellipse cx="100" cy="120" rx="55" ry="45" fill="${e}"/>\n    \x3c!-- Head --\x3e\n    <circle cx="65" cy="95" r="30" fill="${e}"/>\n    \x3c!-- Blowhole --\x3e\n    <path d="M 75 75 L 73 60 L 77 60 L 75 75" fill="${t}"/>\n    \x3c!-- Eyes --\x3e\n    <circle cx="60" cy="90" r="5" fill="#000"/>\n    <circle cx="61" cy="89" r="1.5" fill="#FFF"/>\n    \x3c!-- Fin on back --\x3e\n    <polygon points="100,75 95,45 105,75" fill="${t}"/>\n    \x3c!-- Tail --\x3e\n    <path d="M 155 125 Q 175 115 180 95 Q 175 135 155 140" fill="${t}"/>\n    \x3c!-- Belly accent --\x3e\n    <ellipse cx="100" cy="130" rx="35" ry="20" fill="${t}" opacity="0.6"/>\n    \x3c!-- Smile --\x3e\n    <path d="M 45 105 Q 50 115 60 118" stroke="#000" stroke-width="1" fill="none" stroke-linecap="round"/>\n  </svg>`}(t,n);case"monkey":return function(e,t){return`<svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">\n    \x3c!-- Body --\x3e\n    <ellipse cx="100" cy="130" rx="40" ry="50" fill="${e}"/>\n    \x3c!-- Head --\x3e\n    <circle cx="100" cy="70" r="40" fill="${e}"/>\n    \x3c!-- Face --\x3e\n    <circle cx="100" cy="75" r="28" fill="${t}"/>\n    \x3c!-- Left Ear --\x3e\n    <circle cx="65" cy="45" r="15" fill="${e}"/>\n    <circle cx="65" cy="48" r="8" fill="${t}"/>\n    \x3c!-- Right Ear --\x3e\n    <circle cx="135" cy="45" r="15" fill="${e}"/>\n    <circle cx="135" cy="48" r="8" fill="${t}"/>\n    \x3c!-- Eyes --\x3e\n    <circle cx="85" cy="65" r="6" fill="#000"/>\n    <circle cx="115" cy="65" r="6" fill="#000"/>\n    <circle cx="86" cy="64" r="2" fill="#FFF"/>\n    <circle cx="116" cy="64" r="2" fill="#FFF"/>\n    \x3c!-- Nose --\x3e\n    <ellipse cx="100" cy="80" rx="5" ry="6" fill="#8B4513"/>\n    \x3c!-- Mouth --\x3e\n    <path d="M 100 85 Q 95 95 85 93" stroke="#000" stroke-width="1.5" fill="none" stroke-linecap="round"/>\n    <path d="M 100 85 Q 105 95 115 93" stroke="#000" stroke-width="1.5" fill="none" stroke-linecap="round"/>\n    \x3c!-- Belly --\x3e\n    <ellipse cx="100" cy="140" rx="25" ry="30" fill="${t}"/>\n  </svg>`}(t,n);case"bear":return function(e){return`<svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">\n    \x3c!-- Body --\x3e\n    <ellipse cx="100" cy="130" rx="45" ry="55" fill="${e}"/>\n    \x3c!-- Head --\x3e\n    <circle cx="100" cy="75" r="45" fill="${e}"/>\n    \x3c!-- Left Ear --\x3e\n    <circle cx="65" cy="35" r="18" fill="${e}"/>\n    \x3c!-- Right Ear --\x3e\n    <circle cx="135" cy="35" r="18" fill="${e}"/>\n    \x3c!-- Eyes --\x3e\n    <circle cx="85" cy="65" r="8" fill="#000"/>\n    <circle cx="115" cy="65" r="8" fill="#000"/>\n    <circle cx="87" cy="63" r="2" fill="#FFF"/>\n    <circle cx="117" cy="63" r="2" fill="#FFF"/>\n    \x3c!-- Nose --\x3e\n    <circle cx="100" cy="85" r="6" fill="#000"/>\n    \x3c!-- Mouth --\x3e\n    <path d="M 100 92 Q 95 100 80 98" stroke="#000" stroke-width="2" fill="none" stroke-linecap="round"/>\n    <path d="M 100 92 Q 105 100 120 98" stroke="#000" stroke-width="2" fill="none" stroke-linecap="round"/>\n  </svg>`}(t);case"tiger":return function(e,t){return`<svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">\n    \x3c!-- Head --\x3e\n    <circle cx="100" cy="85" r="45" fill="${e}"/>\n    \x3c!-- Stripes --\x3e\n    <path d="M 70 60 Q 65 70 70 85" stroke="#000" stroke-width="3" fill="none" stroke-linecap="round"/>\n    <path d="M 130 60 Q 135 70 130 85" stroke="#000" stroke-width="3" fill="none" stroke-linecap="round"/>\n    \x3c!-- Face --\x3e\n    <circle cx="100" cy="90" r="28" fill="${t}"/>\n    \x3c!-- Eyes --\x3e\n    <circle cx="85" cy="75" r="7" fill="#FFD700"/>\n    <circle cx="115" cy="75" r="7" fill="#FFD700"/>\n    <circle cx="85" cy="75" r="4" fill="#000"/>\n    <circle cx="115" cy="75" r="4" fill="#000"/>\n    \x3c!-- Nose --\x3e\n    <polygon points="100,90 95,98 105,98" fill="#000"/>\n    \x3c!-- Mouth --\x3e\n    <path d="M 100 100 Q 90 108 75 105" stroke="#000" stroke-width="2" fill="none" stroke-linecap="round"/>\n    <path d="M 100 100 Q 110 108 125 105" stroke="#000" stroke-width="2" fill="none" stroke-linecap="round"/>\n  </svg>`}(t,n);case"owl":return function(e,t){return`<svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">\n    \x3c!-- Body --\x3e\n    <ellipse cx="100" cy="120" rx="38" ry="50" fill="${e}"/>\n    \x3c!-- Head --\x3e\n    <circle cx="100" cy="70" r="40" fill="${e}"/>\n    \x3c!-- Left Ear tuft --\x3e\n    <polygon points="65,35 55,20 70,40" fill="${e}"/>\n    \x3c!-- Right Ear tuft --\x3e\n    <polygon points="135,35 145,20 130,40" fill="${e}"/>\n    \x3c!-- Face --\x3e\n    <circle cx="100" cy="75" r="30" fill="${t}"/>\n    \x3c!-- Left Eye --\x3e\n    <circle cx="80" cy="65" r="12" fill="#000"/>\n    <circle cx="82" cy="63" r="4" fill="#FFD700"/>\n    \x3c!-- Right Eye --\x3e\n    <circle cx="120" cy="65" r="12" fill="#000"/>\n    <circle cx="122" cy="63" r="4" fill="#FFD700"/>\n    \x3c!-- Beak --\x3e\n    <polygon points="100,85 95,95 105,95" fill="#FF8C00"/>\n    \x3c!-- Belly --\x3e\n    <ellipse cx="100" cy="130" rx="24" ry="30" fill="${t}" opacity="0.6"/>\n  </svg>`}(t,n);case"unicorn":return function(e,t){return`<svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">\n    \x3c!-- Head --\x3e\n    <circle cx="100" cy="100" r="45" fill="${e}"/>\n    \x3c!-- Horn --\x3e\n    <polygon points="100,45 95,55 105,55" fill="#FFD700"/>\n    <polygon points="100,45 96,65 104,65" fill="#FFA500"/>\n    \x3c!-- Mane --\x3e\n    <path d="M 135 75 Q 145 85 140 100" stroke="${t}" stroke-width="8" fill="none" stroke-linecap="round"/>\n    \x3c!-- Eyes --\x3e\n    <circle cx="85" cy="90" r="7" fill="#000"/>\n    <circle cx="115" cy="90" r="7" fill="#000"/>\n    <circle cx="87" cy="88" r="2" fill="#FFF"/>\n    <circle cx="117" cy="88" r="2" fill="#FFF"/>\n    \x3c!-- Nose --\x3e\n    <circle cx="100" cy="110" r="5" fill="#FF69B4"/>\n    \x3c!-- Smile --\x3e\n    <path d="M 100 115 Q 90 125 80 122" stroke="#000" stroke-width="2" fill="none" stroke-linecap="round"/>\n    <path d="M 100 115 Q 110 125 120 122" stroke="#000" stroke-width="2" fill="none" stroke-linecap="round"/>\n  </svg>`}(t,n);case"dragon":return function(e,t){return`<svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">\n    \x3c!-- Body --\x3e\n    <ellipse cx="100" cy="120" rx="42" ry="50" fill="${e}"/>\n    \x3c!-- Head --\x3e\n    <circle cx="75" cy="60" r="35" fill="${e}"/>\n    \x3c!-- Horn --\x3e\n    <polygon points="65,25 60,10 70,25" fill="${t}"/>\n    \x3c!-- Spikes down back --\x3e\n    <polygon points="95,75 90,60 100,70" fill="${t}"/>\n    <polygon points="110,85 105,70 115,82" fill="${t}"/>\n    \x3c!-- Eyes --\x3e\n    <circle cx="65" cy="50" r="6" fill="#FFD700"/>\n    <circle cx="67" cy="48" r="2" fill="#000"/>\n    \x3c!-- Nostrils --\x3e\n    <circle cx="58" cy="68" r="2" fill="#000"/>\n    \x3c!-- Scales on belly --\x3e\n    <ellipse cx="100" cy="130" rx="30" ry="35" fill="${t}" opacity="0.5"/>\n    \x3c!-- Tail --\x3e\n    <path d="M 142 115 Q 160 110 170 95" stroke="${e}" stroke-width="15" fill="none" stroke-linecap="round"/>\n  </svg>`}(t,n);case"koala":return function(e,t){return`<svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">\n    \x3c!-- Head --\x3e\n    <circle cx="100" cy="80" r="45" fill="${e}"/>\n    \x3c!-- Left Ear --\x3e\n    <circle cx="65" cy="40" r="20" fill="${e}"/>\n    <circle cx="65" cy="45" r="12" fill="${t}"/>\n    \x3c!-- Right Ear --\x3e\n    <circle cx="135" cy="40" r="20" fill="${e}"/>\n    <circle cx="135" cy="45" r="12" fill="${t}"/>\n    \x3c!-- Face --\x3e\n    <circle cx="100" cy="85" r="32" fill="${t}"/>\n    \x3c!-- Eyes --\x3e\n    <circle cx="82" cy="70" r="8" fill="#000"/>\n    <circle cx="118" cy="70" r="8" fill="#000"/>\n    <circle cx="84" cy="68" r="2" fill="#FFF"/>\n    <circle cx="120" cy="68" r="2" fill="#FFF"/>\n    \x3c!-- Nose --\x3e\n    <circle cx="100" cy="88" r="6" fill="#000"/>\n    \x3c!-- Mouth --\x3e\n    <path d="M 100 95 Q 95 105 82 100" stroke="#000" stroke-width="2" fill="none" stroke-linecap="round"/>\n    <path d="M 100 95 Q 105 105 118 100" stroke="#000" stroke-width="2" fill="none" stroke-linecap="round"/>\n  </svg>`}(t,n);case"giraffe":return function(e,t){return`<svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">\n    \x3c!-- Neck --\x3e\n    <rect x="95" y="40" width="10" height="60" fill="${e}"/>\n    \x3c!-- Patches on neck --\x3e\n    <ellipse cx="100" cy="55" rx="8" ry="6" fill="${t}" opacity="0.6"/>\n    <ellipse cx="100" cy="75" rx="8" ry="6" fill="${t}" opacity="0.6"/>\n    \x3c!-- Head --\x3e\n    <circle cx="100" cy="35" r="20" fill="${e}"/>\n    \x3c!-- Horns --\x3e\n    <line x1="90" y1="18" x2="85" y2="5" stroke="${e}" stroke-width="3" stroke-linecap="round"/>\n    <line x1="110" y1="18" x2="115" y2="5" stroke="${e}" stroke-width="3" stroke-linecap="round"/>\n    \x3c!-- Eyes --\x3e\n    <circle cx="92" cy="30" r="4" fill="#000"/>\n    <circle cx="108" cy="30" r="4" fill="#000"/>\n    \x3c!-- Body --\x3e\n    <ellipse cx="100" cy="130" rx="40" ry="50" fill="${e}"/>\n    \x3c!-- Spots --\x3e\n    <ellipse cx="85" cy="115" rx="8" ry="10" fill="${t}" opacity="0.6"/>\n    <ellipse cx="115" cy="120" rx="8" ry="10" fill="${t}" opacity="0.6"/>\n  </svg>`}(t,n);case"dolphin":return function(e,t){return`<svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">\n    \x3c!-- Body --\x3e\n    <ellipse cx="100" cy="110" rx="50" ry="40" fill="${e}"/>\n    \x3c!-- Head/Snout --\x3e\n    <ellipse cx="140" cy="95" rx="25" ry="20" fill="${e}"/>\n    \x3c!-- Dorsal fin --\x3e\n    <polygon points="95,70 90,50 100,70" fill="${t}"/>\n    \x3c!-- Tail flukes --\x3e\n    <path d="M 50 110 Q 35 90 40 70" stroke="${e}" stroke-width="20" fill="none" stroke-linecap="round"/>\n    <path d="M 50 110 Q 35 130 40 150" stroke="${e}" stroke-width="20" fill="none" stroke-linecap="round"/>\n    \x3c!-- Eye --\x3e\n    <circle cx="135" cy="85" r="5" fill="#000"/>\n    <circle cx="136" cy="84" r="1.5" fill="#FFF"/>\n    \x3c!-- Smile --\x3e\n    <path d="M 155 95 Q 160 100 155 105" stroke="#000" stroke-width="1.5" fill="none" stroke-linecap="round"/>\n    \x3c!-- Belly accent --\x3e\n    <ellipse cx="100" cy="120" rx="30" ry="20" fill="${t}" opacity="0.4"/>\n  </svg>`}(t,n);case"parrot":return function(e,t){return`<svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">\n    \x3c!-- Head --\x3e\n    <circle cx="100" cy="70" r="35" fill="${e}"/>\n    \x3c!-- Crest feathers --\x3e\n    <path d="M 95 40 Q 90 25 100 35" fill="${t}" stroke="${t}" stroke-width="2"/>\n    <path d="M 100 40 Q 100 20 105 35" fill="${t}" stroke="${t}" stroke-width="2"/>\n    <path d="M 105 40 Q 110 25 100 35" fill="${t}" stroke="${t}" stroke-width="2"/>\n    \x3c!-- Face --\x3e\n    <circle cx="100" cy="75" r="20" fill="${t}"/>\n    \x3c!-- Eyes --\x3e\n    <circle cx="90" cy="68" r="5" fill="#FFD700"/>\n    <circle cx="90" cy="68" r="2" fill="#000"/>\n    \x3c!-- Beak --\x3e\n    <polygon points="105,75 120,73 115,80" fill="#FF8C00"/>\n    \x3c!-- Body/Wing --\x3e\n    <ellipse cx="100" cy="125" rx="32" ry="45" fill="${e}"/>\n    \x3c!-- Wing detail --\x3e\n    <ellipse cx="110" cy="120" rx="15" ry="35" fill="${t}" opacity="0.5"/>\n    \x3c!-- Tail --\x3e\n    <path d="M 80 160 Q 70 180 75 195" stroke="${e}" stroke-width="8" fill="none" stroke-linecap="round"/>\n  </svg>`}(t,n);case"butterfly":return function(e,t){return`<svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">\n    \x3c!-- Body --\x3e\n    <ellipse cx="100" cy="100" rx="6" ry="35" fill="#8B4513"/>\n    \x3c!-- Top Left Wing --\x3e\n    <ellipse cx="75" cy="75" rx="25" ry="30" fill="${e}" transform="rotate(-30 75 75)"/>\n    \x3c!-- Top Right Wing --\x3e\n    <ellipse cx="125" cy="75" rx="25" ry="30" fill="${e}" transform="rotate(30 125 75)"/>\n    \x3c!-- Bottom Left Wing --\x3e\n    <ellipse cx="70" cy="125" rx="20" ry="28" fill="${t}" transform="rotate(-30 70 125)"/>\n    \x3c!-- Bottom Right Wing --\x3e\n    <ellipse cx="130" cy="125" rx="20" ry="28" fill="${t}" transform="rotate(30 130 125)"/>\n    \x3c!-- Wing spots --\x3e\n    <circle cx="75" cy="70" r="4" fill="#FFD700"/>\n    <circle cx="125" cy="70" r="4" fill="#FFD700"/>\n    \x3c!-- Antennae --\x3e\n    <path d="M 100 70 Q 95 50 90 40" stroke="#000" stroke-width="2" fill="none" stroke-linecap="round"/>\n    <path d="M 100 70 Q 105 50 110 40" stroke="#000" stroke-width="2" fill="none" stroke-linecap="round"/>\n  </svg>`}(t,n)}}function an(e=""){const t=(e||"").split(" ").map(e=>e[0]).join("").slice(0,2).toUpperCase()||"??",n=`<svg xmlns='http://www.w3.org/2000/svg' width='200' height='200'><rect width='100%' height='100%' fill='${en(e).color}' rx='12'/><text x='50%' y='50%' dy='0.35em' text-anchor='middle' font-family='system-ui, -apple-system, Roboto, "Helvetica Neue", Arial' font-size='72' fill='white' font-weight='700'>${t}</text></svg>`;return`data:image/svg+xml;utf8,${encodeURIComponent(n)}`}function ln(){}function sn(){}const cn=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,dn=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,un={};function pn(e,t){return(un.jsx?dn:cn).test(e)}const fn=/[ \t\n\f\r]/g;function hn(e){return""===e.replace(fn,"")}class gn{constructor(e,t,n){this.normal=t,this.property=e,n&&(this.space=n)}}function mn(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new gn(n,r,t)}function xn(e){return e.toLowerCase()}gn.prototype.normal={},gn.prototype.property={},gn.prototype.space=void 0;class yn{constructor(e,t){this.attribute=t,this.property=e}}yn.prototype.attribute="",yn.prototype.booleanish=!1,yn.prototype.boolean=!1,yn.prototype.commaOrSpaceSeparated=!1,yn.prototype.commaSeparated=!1,yn.prototype.defined=!1,yn.prototype.mustUseProperty=!1,yn.prototype.number=!1,yn.prototype.overloadedBoolean=!1,yn.prototype.property="",yn.prototype.spaceSeparated=!1,yn.prototype.space=void 0;let bn=0;const vn=En(),wn=En(),kn=En(),Sn=En(),Cn=En(),jn=En(),Fn=En();function En(){return 2**++bn}const zn=Object.freeze(Object.defineProperty({__proto__:null,boolean:vn,booleanish:wn,commaOrSpaceSeparated:Fn,commaSeparated:jn,number:Sn,overloadedBoolean:kn,spaceSeparated:Cn},Symbol.toStringTag,{value:"Module"})),An=Object.keys(zn);class In extends yn{constructor(e,t,n,r){let i=-1;if(super(e,t),Tn(this,"space",r),"number"==typeof n)for(;++i<An.length;){const e=An[i];Tn(this,An[i],(n&zn[e])===zn[e])}}}function Tn(e,t,n){n&&(e[t]=n)}function Bn(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const o=new In(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),t[r]=o,n[xn(r)]=r,n[xn(o.attribute)]=r}return new gn(t,n,e.space)}In.prototype.defined=!0;const Dn=Bn({properties:{ariaActiveDescendant:null,ariaAtomic:wn,ariaAutoComplete:null,ariaBusy:wn,ariaChecked:wn,ariaColCount:Sn,ariaColIndex:Sn,ariaColSpan:Sn,ariaControls:Cn,ariaCurrent:null,ariaDescribedBy:Cn,ariaDetails:null,ariaDisabled:wn,ariaDropEffect:Cn,ariaErrorMessage:null,ariaExpanded:wn,ariaFlowTo:Cn,ariaGrabbed:wn,ariaHasPopup:null,ariaHidden:wn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Cn,ariaLevel:Sn,ariaLive:null,ariaModal:wn,ariaMultiLine:wn,ariaMultiSelectable:wn,ariaOrientation:null,ariaOwns:Cn,ariaPlaceholder:null,ariaPosInSet:Sn,ariaPressed:wn,ariaReadOnly:wn,ariaRelevant:null,ariaRequired:wn,ariaRoleDescription:Cn,ariaRowCount:Sn,ariaRowIndex:Sn,ariaRowSpan:Sn,ariaSelected:wn,ariaSetSize:Sn,ariaSort:null,ariaValueMax:Sn,ariaValueMin:Sn,ariaValueNow:Sn,ariaValueText:null,role:null},transform:(e,t)=>"role"===t?t:"aria-"+t.slice(4).toLowerCase()});function Rn(e,t){return t in e?e[t]:t}function Pn(e,t){return Rn(e,t.toLowerCase())}const Nn=Bn({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:jn,acceptCharset:Cn,accessKey:Cn,action:null,allow:null,allowFullScreen:vn,allowPaymentRequest:vn,allowUserMedia:vn,alt:null,as:null,async:vn,autoCapitalize:null,autoComplete:Cn,autoFocus:vn,autoPlay:vn,blocking:Cn,capture:null,charSet:null,checked:vn,cite:null,className:Cn,cols:Sn,colSpan:null,content:null,contentEditable:wn,controls:vn,controlsList:Cn,coords:Sn|jn,crossOrigin:null,data:null,dateTime:null,decoding:null,default:vn,defer:vn,dir:null,dirName:null,disabled:vn,download:kn,draggable:wn,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:vn,formTarget:null,headers:Cn,height:Sn,hidden:kn,high:Sn,href:null,hrefLang:null,htmlFor:Cn,httpEquiv:Cn,id:null,imageSizes:null,imageSrcSet:null,inert:vn,inputMode:null,integrity:null,is:null,isMap:vn,itemId:null,itemProp:Cn,itemRef:Cn,itemScope:vn,itemType:Cn,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:vn,low:Sn,manifest:null,max:null,maxLength:Sn,media:null,method:null,min:null,minLength:Sn,multiple:vn,muted:vn,name:null,nonce:null,noModule:vn,noValidate:vn,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:vn,optimum:Sn,pattern:null,ping:Cn,placeholder:null,playsInline:vn,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:vn,referrerPolicy:null,rel:Cn,required:vn,reversed:vn,rows:Sn,rowSpan:Sn,sandbox:Cn,scope:null,scoped:vn,seamless:vn,selected:vn,shadowRootClonable:vn,shadowRootDelegatesFocus:vn,shadowRootMode:null,shape:null,size:Sn,sizes:null,slot:null,span:Sn,spellCheck:wn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Sn,step:null,style:null,tabIndex:Sn,target:null,title:null,translate:null,type:null,typeMustMatch:vn,useMap:null,value:wn,width:Sn,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Cn,axis:null,background:null,bgColor:null,border:Sn,borderColor:null,bottomMargin:Sn,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:vn,declare:vn,event:null,face:null,frame:null,frameBorder:null,hSpace:Sn,leftMargin:Sn,link:null,longDesc:null,lowSrc:null,marginHeight:Sn,marginWidth:Sn,noResize:vn,noHref:vn,noShade:vn,noWrap:vn,object:null,profile:null,prompt:null,rev:null,rightMargin:Sn,rules:null,scheme:null,scrolling:wn,standby:null,summary:null,text:null,topMargin:Sn,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Sn,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:vn,disableRemotePlayback:vn,prefix:null,property:null,results:Sn,security:null,unselectable:null},space:"html",transform:Pn}),Ln=Bn({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Fn,accentHeight:Sn,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Sn,amplitude:Sn,arabicForm:null,ascent:Sn,attributeName:null,attributeType:null,azimuth:Sn,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Sn,by:null,calcMode:null,capHeight:Sn,className:Cn,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Sn,diffuseConstant:Sn,direction:null,display:null,dur:null,divisor:Sn,dominantBaseline:null,download:vn,dx:null,dy:null,edgeMode:null,editable:null,elevation:Sn,enableBackground:null,end:null,event:null,exponent:Sn,externalResourcesRequired:null,fill:null,fillOpacity:Sn,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:jn,g2:jn,glyphName:jn,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Sn,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Sn,horizOriginX:Sn,horizOriginY:Sn,id:null,ideographic:Sn,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Sn,k:Sn,k1:Sn,k2:Sn,k3:Sn,k4:Sn,kernelMatrix:Fn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Sn,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Sn,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Sn,overlineThickness:Sn,paintOrder:null,panose1:null,path:null,pathLength:Sn,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Cn,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Sn,pointsAtY:Sn,pointsAtZ:Sn,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Fn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Fn,rev:Fn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Fn,requiredFeatures:Fn,requiredFonts:Fn,requiredFormats:Fn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Sn,specularExponent:Sn,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Sn,strikethroughThickness:Sn,string:null,stroke:null,strokeDashArray:Fn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Sn,strokeOpacity:Sn,strokeWidth:null,style:null,surfaceScale:Sn,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Fn,tabIndex:Sn,tableValues:null,target:null,targetX:Sn,targetY:Sn,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Fn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Sn,underlineThickness:Sn,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Sn,values:null,vAlphabetic:Sn,vMathematical:Sn,vectorEffect:null,vHanging:Sn,vIdeographic:Sn,version:null,vertAdvY:Sn,vertOriginX:Sn,vertOriginY:Sn,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Sn,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:Rn}),Mn=Bn({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform:(e,t)=>"xlink:"+t.slice(5).toLowerCase()}),On=Bn({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:Pn}),_n=Bn({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform:(e,t)=>"xml:"+t.slice(3).toLowerCase()}),Wn={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},$n=/[A-Z]/g,Hn=/-[a-z]/g,qn=/^data[-\w.:]+$/i;function Un(e){return"-"+e.toLowerCase()}function Vn(e){return e.charAt(1).toUpperCase()}const Gn=mn([Dn,Nn,Mn,On,_n],"html"),Qn=mn([Dn,Ln,Mn,On,_n],"svg");var Yn,Jn,Xn,Kn={};function Zn(){if(Xn)return Kn;Xn=1;var e=Kn&&Kn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Kn,"__esModule",{value:!0}),Kn.default=function(e,n){let r=null;if(!e||"string"!=typeof e)return r;const i=(0,t.default)(e),o="function"==typeof n;return i.forEach(e=>{if("declaration"!==e.type)return;const{property:t,value:i}=e;o?n(t,i,e):i&&(r=r||{},r[t]=i)}),r};const t=e(function(){if(Jn)return Yn;Jn=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,o=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,a=/^[;\s]*/,l=/^\s+|\s+$/g,s="";function c(e){return e?e.replace(l,s):s}return Yn=function(l,d){if("string"!=typeof l)throw new TypeError("First argument must be a string");if(!l)return[];d=d||{};var u=1,p=1;function f(e){var n=e.match(t);n&&(u+=n.length);var r=e.lastIndexOf("\n");p=~r?e.length-r:p+e.length}function h(){var e={line:u,column:p};return function(t){return t.position=new g(e),y(),t}}function g(e){this.start=e,this.end={line:u,column:p},this.source=d.source}function m(e){var t=new Error(d.source+":"+u+":"+p+": "+e);if(t.reason=e,t.filename=d.source,t.line=u,t.column=p,t.source=l,!d.silent)throw t}function x(e){var t=e.exec(l);if(t){var n=t[0];return f(n),l=l.slice(n.length),t}}function y(){x(n)}function b(e){var t;for(e=e||[];t=v();)!1!==t&&e.push(t);return e}function v(){var e=h();if("/"==l.charAt(0)&&"*"==l.charAt(1)){for(var t=2;s!=l.charAt(t)&&("*"!=l.charAt(t)||"/"!=l.charAt(t+1));)++t;if(t+=2,s===l.charAt(t-1))return m("End of comment missing");var n=l.slice(2,t-2);return p+=2,f(n),l=l.slice(t),p+=2,e({type:"comment",comment:n})}}function w(){var t=h(),n=x(r);if(n){if(v(),!x(i))return m("property missing ':'");var l=x(o),d=t({type:"declaration",property:c(n[0].replace(e,s)),value:l?c(l[0].replace(e,s)):s});return x(a),d}}return g.prototype.content=l,y(),function(){var e,t=[];for(b(t);e=w();)!1!==e&&(t.push(e),b(t));return t}()}}());return Kn}var er,tr,nr,rr={};function ir(){if(er)return rr;er=1,Object.defineProperty(rr,"__esModule",{value:!0}),rr.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,o=function(e,t){return t.toUpperCase()},a=function(e,t){return"".concat(t,"-")};return rr.camelCase=function(l,s){return void 0===s&&(s={}),function(t){return!t||n.test(t)||e.test(t)}(l)?l:(l=l.toLowerCase(),(l=s.reactCompat?l.replace(i,a):l.replace(r,a)).replace(t,o))},rr}const or=i(function(){if(nr)return tr;nr=1;var e=(tr&&tr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}})(Zn()),t=ir();function n(n,r){var i={};return n&&"string"==typeof n?((0,e.default)(n,function(e,n){e&&n&&(i[(0,t.camelCase)(e,r)]=n)}),i):i}return n.default=n,tr=n}()),ar=sr("end"),lr=sr("start");function sr(e){return function(t){const n=t&&t.position&&t.position[e]||{};if("number"==typeof n.line&&n.line>0&&"number"==typeof n.column&&n.column>0)return{line:n.line,column:n.column,offset:"number"==typeof n.offset&&n.offset>-1?n.offset:void 0}}}function cr(e){return e&&"object"==typeof e?"position"in e||"type"in e?ur(e.position):"start"in e||"end"in e?ur(e):"line"in e||"column"in e?dr(e):"":""}function dr(e){return pr(e&&e.line)+":"+pr(e&&e.column)}function ur(e){return dr(e&&e.start)+"-"+dr(e&&e.end)}function pr(e){return e&&"number"==typeof e?e:1}class fr extends Error{constructor(e,t,n){super(),"string"==typeof t&&(n=t,t=void 0);let r="",i={},o=!1;if(t&&(i="line"in t&&"column"in t||"start"in t&&"end"in t?{place:t}:"type"in t?{ancestors:[t],place:t.position}:{...t}),"string"==typeof e?r=e:!i.cause&&e&&(o=!0,r=e.message,i.cause=e),!i.ruleId&&!i.source&&"string"==typeof n){const e=n.indexOf(":");-1===e?i.ruleId=n:(i.source=n.slice(0,e),i.ruleId=n.slice(e+1))}if(!i.place&&i.ancestors&&i.ancestors){const e=i.ancestors[i.ancestors.length-1];e&&(i.place=e.position)}const a=i.place&&"start"in i.place?i.place.start:i.place;this.ancestors=i.ancestors||void 0,this.cause=i.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file="",this.message=r,this.line=a?a.line:void 0,this.name=cr(i.place)||"1:1",this.place=i.place||void 0,this.reason=this.message,this.ruleId=i.ruleId||void 0,this.source=i.source||void 0,this.stack=o&&i.cause&&"string"==typeof i.cause.stack?i.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}fr.prototype.file="",fr.prototype.name="",fr.prototype.reason="",fr.prototype.message="",fr.prototype.stack="",fr.prototype.column=void 0,fr.prototype.line=void 0,fr.prototype.ancestors=void 0,fr.prototype.cause=void 0,fr.prototype.fatal=void 0,fr.prototype.place=void 0,fr.prototype.ruleId=void 0,fr.prototype.source=void 0;const hr={}.hasOwnProperty,gr=new Map,mr=/[A-Z]/g,xr=new Set(["table","tbody","thead","tfoot","tr"]),yr=new Set(["td","th"]),br="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function vr(e,t){if(!t||void 0===t.Fragment)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if("function"!=typeof t.jsxDEV)throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=function(e,t){return n;function n(n,r,i,o){const a=Array.isArray(i.children),l=lr(n);return t(r,i,o,a,{columnNumber:l?l.column-1:void 0,fileName:e,lineNumber:l?l.line:void 0},void 0)}}(n,t.jsxDEV)}else{if("function"!=typeof t.jsx)throw new TypeError("Expected `jsx` in production options");if("function"!=typeof t.jsxs)throw new TypeError("Expected `jsxs` in production options");r=function(e,t,n){return r;function r(e,r,i,o){const a=Array.isArray(i.children)?n:t;return o?a(r,i,o):a(r,i)}}(0,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:!1!==t.passKeys,passNode:t.passNode||!1,schema:"svg"===t.space?Qn:Gn,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:!1!==t.tableCellAlignToStyle},o=wr(i,e,void 0);return o&&"string"!=typeof o?o:i.create(e,i.Fragment,{children:o||void 0},void 0)}function wr(e,t,n){return"element"===t.type?function(e,t,n){const r=e.schema;let i=r;"svg"===t.tagName.toLowerCase()&&"html"===r.space&&(i=Qn,e.schema=i);e.ancestors.push(t);const o=Fr(e,t.tagName,!1),a=function(e,t){const n={};let r,i;for(i in t.properties)if("children"!==i&&hr.call(t.properties,i)){const o=jr(e,i,t.properties[i]);if(o){const[i,a]=o;e.tableCellAlignToStyle&&"align"===i&&"string"==typeof a&&yr.has(t.tagName)?r=a:n[i]=a}}if(r){(n.style||(n.style={}))["css"===e.stylePropertyNameCase?"text-align":"textAlign"]=r}return n}(e,t);let l=Cr(e,t);xr.has(t.tagName)&&(l=l.filter(function(e){return"string"!=typeof e||!("object"==typeof(t=e)?"text"===t.type&&hn(t.value):hn(t));var t}));return kr(e,a,o,t),Sr(a,l),e.ancestors.pop(),e.schema=r,e.create(t,o,a,n)}(e,t,n):"mdxFlowExpression"===t.type||"mdxTextExpression"===t.type?function(e,t){if(t.data&&t.data.estree&&e.evaluater){const n=t.data.estree.body[0];return n.type,e.evaluater.evaluateExpression(n.expression)}Er(e,t.position)}(e,t):"mdxJsxFlowElement"===t.type||"mdxJsxTextElement"===t.type?function(e,t,n){const r=e.schema;let i=r;"svg"===t.name&&"html"===r.space&&(i=Qn,e.schema=i);e.ancestors.push(t);const o=null===t.name?e.Fragment:Fr(e,t.name,!0),a=function(e,t){const n={};for(const r of t.attributes)if("mdxJsxExpressionAttribute"===r.type)if(r.data&&r.data.estree&&e.evaluater){const t=r.data.estree.body[0];ln(t.type);const i=t.expression;ln(i.type);const o=i.properties[0];ln(o.type),Object.assign(n,e.evaluater.evaluateExpression(o.argument))}else Er(e,t.position);else{const i=r.name;let o;if(r.value&&"object"==typeof r.value)if(r.value.data&&r.value.data.estree&&e.evaluater){const t=r.value.data.estree.body[0];ln(t.type),o=e.evaluater.evaluateExpression(t.expression)}else Er(e,t.position);else o=null===r.value||r.value;n[i]=o}return n}(e,t),l=Cr(e,t);return kr(e,a,o,t),Sr(a,l),e.ancestors.pop(),e.schema=r,e.create(t,o,a,n)}(e,t,n):"mdxjsEsm"===t.type?function(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Er(e,t.position)}(e,t):"root"===t.type?function(e,t,n){const r={};return Sr(r,Cr(e,t)),e.create(t,e.Fragment,r,n)}(e,t,n):"text"===t.type?function(e,t){return t.value}(0,t):void 0}function kr(e,t,n,r){"string"!=typeof n&&n!==e.Fragment&&e.passNode&&(t.node=r)}function Sr(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function Cr(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:gr;for(;++r<t.children.length;){const o=t.children[r];let a;if(e.passKeys){const e="element"===o.type?o.tagName:"mdxJsxFlowElement"===o.type||"mdxJsxTextElement"===o.type?o.name:void 0;if(e){const t=i.get(e)||0;a=e+"-"+t,i.set(e,t+1)}}const l=wr(e,o,a);void 0!==l&&n.push(l)}return n}function jr(e,t,n){const r=function(e,t){const n=xn(t);let r=t,i=yn;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&"data"===n.slice(0,4)&&qn.test(t)){if("-"===t.charAt(4)){const e=t.slice(5).replace(Hn,Vn);r="data"+e.charAt(0).toUpperCase()+e.slice(1)}else{const e=t.slice(4);if(!Hn.test(e)){let n=e.replace($n,Un);"-"!==n.charAt(0)&&(n="-"+n),t="data"+n}}i=In}return new i(r,t)}(e.schema,t);if(!(null==n||"number"==typeof n&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?function(e){const t={};return(""===e[e.length-1]?[...e,""]:e).join((t.padRight?" ":"")+","+(!1===t.padLeft?"":" ")).trim()}(n):n.join(" ").trim()),"style"===r.property){let t="object"==typeof n?n:function(e,t){try{return or(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const t=n,r=new fr("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:t,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw r.file=e.filePath||void 0,r.url=br+"#cannot-parse-style-attribute",r}}(e,String(n));return"css"===e.stylePropertyNameCase&&(t=function(e){const t={};let n;for(n in e)hr.call(e,n)&&(t[zr(n)]=e[n]);return t}(t)),["style",t]}return["react"===e.elementAttributeNameCase&&r.space?Wn[r.property]||r.property:r.attribute,n]}}function Fr(e,t,n){let r;if(n)if(t.includes(".")){const e=t.split(".");let n,i=-1;for(;++i<e.length;){const t=pn(e[i])?{type:"Identifier",name:e[i]}:{type:"Literal",value:e[i]};n=n?{type:"MemberExpression",object:n,property:t,computed:Boolean(i&&"Literal"===t.type),optional:!1}:t}r=n}else r=pn(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};else r={type:"Literal",value:t};if("Literal"===r.type){const t=r.value;return hr.call(e.components,t)?e.components[t]:t}if(e.evaluater)return e.evaluater.evaluateExpression(r);Er(e)}function Er(e,t){const n=new fr("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=br+"#cannot-handle-mdx-estrees-without-createevaluater",n}function zr(e){let t=e.replace(mr,Ar);return"ms-"===t.slice(0,3)&&(t="-"+t),t}function Ar(e){return"-"+e.toLowerCase()}const Ir={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},Tr={};function Br(e,t){return Dr(e,"boolean"!=typeof Tr.includeImageAlt||Tr.includeImageAlt,"boolean"!=typeof Tr.includeHtml||Tr.includeHtml)}function Dr(e,t,n){if(function(e){return Boolean(e&&"object"==typeof e)}(e)){if("value"in e)return"html"!==e.type||n?e.value:"";if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return Rr(e.children,t,n)}return Array.isArray(e)?Rr(e,t,n):""}function Rr(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=Dr(e[i],t,n);return r.join("")}const Pr=document.createElement("i");function Nr(e){const t="&"+e+";";Pr.innerHTML=t;const n=Pr.textContent;return(59!==n.charCodeAt(n.length-1)||"semi"===e)&&(n!==t&&n)}function Lr(e,t,n,r){const i=e.length;let o,a=0;if(t=t<0?-t>i?0:i+t:t>i?i:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);a<r.length;)o=r.slice(a,a+1e4),o.unshift(t,0),e.splice(...o),a+=1e4,t+=1e4}function Mr(e,t){return e.length>0?(Lr(e,e.length,0,t),e):t}const Or={}.hasOwnProperty;function _r(e){const t={};let n=-1;for(;++n<e.length;)Wr(t,e[n]);return t}function Wr(e,t){let n;for(n in t){const r=(Or.call(e,n)?e[n]:void 0)||(e[n]={}),i=t[n];let o;if(i)for(o in i){Or.call(r,o)||(r[o]=[]);const e=i[o];$r(r[o],Array.isArray(e)?e:e?[e]:[])}}}function $r(e,t){let n=-1;const r=[];for(;++n<t.length;)("after"===t[n].add?e:r).push(t[n]);Lr(e,0,0,r)}function Hr(e,t){const n=Number.parseInt(e,t);return n<9||11===n||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||!(65535&~n)||65534==(65535&n)||n>1114111?"":String.fromCodePoint(n)}function qr(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Ur=ri(/[A-Za-z]/),Vr=ri(/[\dA-Za-z]/),Gr=ri(/[#-'*+\--9=?A-Z^-~]/);function Qr(e){return null!==e&&(e<32||127===e)}const Yr=ri(/\d/),Jr=ri(/[\dA-Fa-f]/),Xr=ri(/[!-/:-@[-`{-~]/);function Kr(e){return null!==e&&e<-2}function Zr(e){return null!==e&&(e<0||32===e)}function ei(e){return-2===e||-1===e||32===e}const ti=ri(new RegExp("\\p{P}|\\p{S}","u")),ni=ri(/\s/);function ri(e){return function(t){return null!==t&&t>-1&&e.test(String.fromCharCode(t))}}function ii(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const o=e.charCodeAt(n);let a="";if(37===o&&Vr(e.charCodeAt(n+1))&&Vr(e.charCodeAt(n+2)))i=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(a=String.fromCharCode(o));else if(o>55295&&o<57344){const t=e.charCodeAt(n+1);o<56320&&t>56319&&t<57344?(a=String.fromCharCode(o,t),i=1):a=""}else a=String.fromCharCode(o);a&&(t.push(e.slice(r,n),encodeURIComponent(a)),r=n+i+1,a=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function oi(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let o=0;return function(r){if(ei(r))return e.enter(n),a(r);return t(r)};function a(r){return ei(r)&&o++<i?(e.consume(r),a):(e.exit(n),t(r))}}const ai={tokenize:function(e){const t=e.attempt(this.parser.constructs.contentInitial,function(n){if(null===n)return void e.consume(n);return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),oi(e,t,"linePrefix")},function(t){return e.enter("paragraph"),r(t)});let n;return t;function r(t){const r=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=r),n=r,i(t)}function i(t){return null===t?(e.exit("chunkText"),e.exit("paragraph"),void e.consume(t)):Kr(t)?(e.consume(t),e.exit("chunkText"),r):(e.consume(t),i)}}};const li={tokenize:function(e){const t=this,n=[];let r,i,o,a=0;return l;function l(r){if(a<n.length){const i=n[a];return t.containerState=i[1],e.attempt(i[0].continuation,s,c)(r)}return c(r)}function s(e){if(a++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,r&&y();const n=t.events.length;let i,o=n;for(;o--;)if("exit"===t.events[o][0]&&"chunkFlow"===t.events[o][1].type){i=t.events[o][1].end;break}x(a);let l=n;for(;l<t.events.length;)t.events[l][1].end={...i},l++;return Lr(t.events,o+1,0,t.events.slice(n)),t.events.length=l,c(e)}return l(e)}function c(i){if(a===n.length){if(!r)return p(i);if(r.currentConstruct&&r.currentConstruct.concrete)return h(i);t.interrupt=Boolean(r.currentConstruct&&!r._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(si,d,u)(i)}function d(e){return r&&y(),x(a),p(e)}function u(e){return t.parser.lazy[t.now().line]=a!==n.length,o=t.now().offset,h(e)}function p(n){return t.containerState={},e.attempt(si,f,h)(n)}function f(e){return a++,n.push([t.currentConstruct,t.containerState]),p(e)}function h(n){return null===n?(r&&y(),x(0),void e.consume(n)):(r=r||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:r,contentType:"flow",previous:i}),g(n))}function g(n){return null===n?(m(e.exit("chunkFlow"),!0),x(0),void e.consume(n)):Kr(n)?(e.consume(n),m(e.exit("chunkFlow")),a=0,t.interrupt=void 0,l):(e.consume(n),g)}function m(e,n){const l=t.sliceStream(e);if(n&&l.push(null),e.previous=i,i&&(i.next=e),i=e,r.defineSkip(e.start),r.write(l),t.parser.lazy[e.start.line]){let e=r.events.length;for(;e--;)if(r.events[e][1].start.offset<o&&(!r.events[e][1].end||r.events[e][1].end.offset>o))return;const n=t.events.length;let i,l,s=n;for(;s--;)if("exit"===t.events[s][0]&&"chunkFlow"===t.events[s][1].type){if(i){l=t.events[s][1].end;break}i=!0}for(x(a),e=n;e<t.events.length;)t.events[e][1].end={...l},e++;Lr(t.events,s+1,0,t.events.slice(n)),t.events.length=e}}function x(r){let i=n.length;for(;i-- >r;){const r=n[i];t.containerState=r[1],r[0].exit.call(t,e)}n.length=r}function y(){r.write([null]),i=void 0,r=void 0,t.containerState._closeFlow=void 0}}},si={tokenize:function(e,t,n){return oi(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}};function ci(e){return null===e||Zr(e)||ni(e)?1:ti(e)?2:void 0}function di(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const o=e[i].resolveAll;o&&!r.includes(o)&&(t=o(t,n),r.push(o))}return t}const ui={name:"attention",resolveAll:function(e,t){let n,r,i,o,a,l,s,c,d=-1;for(;++d<e.length;)if("enter"===e[d][0]&&"attentionSequence"===e[d][1].type&&e[d][1]._close)for(n=d;n--;)if("exit"===e[n][0]&&"attentionSequence"===e[n][1].type&&e[n][1]._open&&t.sliceSerialize(e[n][1]).charCodeAt(0)===t.sliceSerialize(e[d][1]).charCodeAt(0)){if((e[n][1]._close||e[d][1]._open)&&(e[d][1].end.offset-e[d][1].start.offset)%3&&!((e[n][1].end.offset-e[n][1].start.offset+e[d][1].end.offset-e[d][1].start.offset)%3))continue;l=e[n][1].end.offset-e[n][1].start.offset>1&&e[d][1].end.offset-e[d][1].start.offset>1?2:1;const u={...e[n][1].end},p={...e[d][1].start};pi(u,-l),pi(p,l),o={type:l>1?"strongSequence":"emphasisSequence",start:u,end:{...e[n][1].end}},a={type:l>1?"strongSequence":"emphasisSequence",start:{...e[d][1].start},end:p},i={type:l>1?"strongText":"emphasisText",start:{...e[n][1].end},end:{...e[d][1].start}},r={type:l>1?"strong":"emphasis",start:{...o.start},end:{...a.end}},e[n][1].end={...o.start},e[d][1].start={...a.end},s=[],e[n][1].end.offset-e[n][1].start.offset&&(s=Mr(s,[["enter",e[n][1],t],["exit",e[n][1],t]])),s=Mr(s,[["enter",r,t],["enter",o,t],["exit",o,t],["enter",i,t]]),s=Mr(s,di(t.parser.constructs.insideSpan.null,e.slice(n+1,d),t)),s=Mr(s,[["exit",i,t],["enter",a,t],["exit",a,t],["exit",r,t]]),e[d][1].end.offset-e[d][1].start.offset?(c=2,s=Mr(s,[["enter",e[d][1],t],["exit",e[d][1],t]])):c=0,Lr(e,n-1,d-n+3,s),d=n+s.length-c-2;break}d=-1;for(;++d<e.length;)"attentionSequence"===e[d][1].type&&(e[d][1].type="data");return e},tokenize:function(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=ci(r);let o;return function(t){return o=t,e.enter("attentionSequence"),a(t)};function a(l){if(l===o)return e.consume(l),a;const s=e.exit("attentionSequence"),c=ci(l),d=!c||2===c&&i||n.includes(l),u=!i||2===i&&c||n.includes(r);return s._open=Boolean(42===o?d:d&&(i||!u)),s._close=Boolean(42===o?u:u&&(c||!d)),t(l)}}};function pi(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const fi={name:"autolink",tokenize:function(e,t,n){let r=0;return function(t){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(t),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),i};function i(t){return Ur(t)?(e.consume(t),o):64===t?n(t):s(t)}function o(e){return 43===e||45===e||46===e||Vr(e)?(r=1,a(e)):s(e)}function a(t){return 58===t?(e.consume(t),r=0,l):(43===t||45===t||46===t||Vr(t))&&r++<32?(e.consume(t),a):(r=0,s(t))}function l(r){return 62===r?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(r),e.exit("autolinkMarker"),e.exit("autolink"),t):null===r||32===r||60===r||Qr(r)?n(r):(e.consume(r),l)}function s(t){return 64===t?(e.consume(t),c):Gr(t)?(e.consume(t),s):n(t)}function c(e){return Vr(e)?d(e):n(e)}function d(n){return 46===n?(e.consume(n),r=0,c):62===n?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(n),e.exit("autolinkMarker"),e.exit("autolink"),t):u(n)}function u(t){if((45===t||Vr(t))&&r++<63){const n=45===t?u:d;return e.consume(t),n}return n(t)}}};const hi={partial:!0,tokenize:function(e,t,n){return function(t){return ei(t)?oi(e,r,"linePrefix")(t):r(t)};function r(e){return null===e||Kr(e)?t(e):n(e)}}};const gi={continuation:{tokenize:function(e,t,n){const r=this;return function(t){if(ei(t))return oi(e,i,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t);return i(t)};function i(r){return e.attempt(gi,t,n)(r)}}},exit:function(e){e.exit("blockQuote")},name:"blockQuote",tokenize:function(e,t,n){const r=this;return function(t){if(62===t){const n=r.containerState;return n.open||(e.enter("blockQuote",{_container:!0}),n.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(t),e.exit("blockQuoteMarker"),i}return n(t)};function i(n){return ei(n)?(e.enter("blockQuotePrefixWhitespace"),e.consume(n),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(n))}}};const mi={name:"characterEscape",tokenize:function(e,t,n){return function(t){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(t),e.exit("escapeMarker"),r};function r(r){return Xr(r)?(e.enter("characterEscapeValue"),e.consume(r),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(r)}}};const xi={name:"characterReference",tokenize:function(e,t,n){const r=this;let i,o,a=0;return function(t){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(t),e.exit("characterReferenceMarker"),l};function l(t){return 35===t?(e.enter("characterReferenceMarkerNumeric"),e.consume(t),e.exit("characterReferenceMarkerNumeric"),s):(e.enter("characterReferenceValue"),i=31,o=Vr,c(t))}function s(t){return 88===t||120===t?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(t),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),i=6,o=Jr,c):(e.enter("characterReferenceValue"),i=7,o=Yr,c(t))}function c(l){if(59===l&&a){const i=e.exit("characterReferenceValue");return o!==Vr||Nr(r.sliceSerialize(i))?(e.enter("characterReferenceMarker"),e.consume(l),e.exit("characterReferenceMarker"),e.exit("characterReference"),t):n(l)}return o(l)&&a++<i?(e.consume(l),c):n(l)}}};const yi={partial:!0,tokenize:function(e,t,n){const r=this;return function(t){if(null===t)return n(t);return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),i};function i(e){return r.parser.lazy[r.now().line]?n(e):t(e)}}},bi={concrete:!0,name:"codeFenced",tokenize:function(e,t,n){const r=this,i={partial:!0,tokenize:function(e,t,n){let i=0;return a;function a(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),s}function s(t){return e.enter("codeFencedFence"),ei(t)?oi(e,c,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t):c(t)}function c(t){return t===o?(e.enter("codeFencedFenceSequence"),d(t)):n(t)}function d(t){return t===o?(i++,e.consume(t),d):i>=l?(e.exit("codeFencedFenceSequence"),ei(t)?oi(e,u,"whitespace")(t):u(t)):n(t)}function u(r){return null===r||Kr(r)?(e.exit("codeFencedFence"),t(r)):n(r)}}};let o,a=0,l=0;return function(t){return function(t){const n=r.events[r.events.length-1];return a=n&&"linePrefix"===n[1].type?n[2].sliceSerialize(n[1],!0).length:0,o=t,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),s(t)}(t)};function s(t){return t===o?(l++,e.consume(t),s):l<3?n(t):(e.exit("codeFencedFenceSequence"),ei(t)?oi(e,c,"whitespace")(t):c(t))}function c(n){return null===n||Kr(n)?(e.exit("codeFencedFence"),r.interrupt?t(n):e.check(yi,f,y)(n)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),d(n))}function d(t){return null===t||Kr(t)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),c(t)):ei(t)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),oi(e,u,"whitespace")(t)):96===t&&t===o?n(t):(e.consume(t),d)}function u(t){return null===t||Kr(t)?c(t):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),p(t))}function p(t){return null===t||Kr(t)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),c(t)):96===t&&t===o?n(t):(e.consume(t),p)}function f(t){return e.attempt(i,y,h)(t)}function h(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),g}function g(t){return a>0&&ei(t)?oi(e,m,"linePrefix",a+1)(t):m(t)}function m(t){return null===t||Kr(t)?e.check(yi,f,y)(t):(e.enter("codeFlowValue"),x(t))}function x(t){return null===t||Kr(t)?(e.exit("codeFlowValue"),m(t)):(e.consume(t),x)}function y(n){return e.exit("codeFenced"),t(n)}}};const vi={name:"codeIndented",tokenize:function(e,t,n){const r=this;return function(t){return e.enter("codeIndented"),oi(e,i,"linePrefix",5)(t)};function i(e){const t=r.events[r.events.length-1];return t&&"linePrefix"===t[1].type&&t[2].sliceSerialize(t[1],!0).length>=4?o(e):n(e)}function o(t){return null===t?l(t):Kr(t)?e.attempt(wi,o,l)(t):(e.enter("codeFlowValue"),a(t))}function a(t){return null===t||Kr(t)?(e.exit("codeFlowValue"),o(t)):(e.consume(t),a)}function l(n){return e.exit("codeIndented"),t(n)}}},wi={partial:!0,tokenize:function(e,t,n){const r=this;return i;function i(t){return r.parser.lazy[r.now().line]?n(t):Kr(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),i):oi(e,o,"linePrefix",5)(t)}function o(e){const o=r.events[r.events.length-1];return o&&"linePrefix"===o[1].type&&o[2].sliceSerialize(o[1],!0).length>=4?t(e):Kr(e)?i(e):n(e)}}};const ki={name:"codeText",previous:function(e){return 96!==e||"characterEscape"===this.events[this.events.length-1][1].type},resolve:function(e){let t,n,r=e.length-4,i=3;if(!("lineEnding"!==e[i][1].type&&"space"!==e[i][1].type||"lineEnding"!==e[r][1].type&&"space"!==e[r][1].type))for(t=i;++t<r;)if("codeTextData"===e[t][1].type){e[i][1].type="codeTextPadding",e[r][1].type="codeTextPadding",i+=2,r-=2;break}t=i-1,r++;for(;++t<=r;)void 0===n?t!==r&&"lineEnding"!==e[t][1].type&&(n=t):t!==r&&"lineEnding"!==e[t][1].type||(e[n][1].type="codeTextData",t!==n+2&&(e[n][1].end=e[t-1][1].end,e.splice(n+2,t-n-2),r-=t-n-2,t=n+2),n=void 0);return e},tokenize:function(e,t,n){let r,i,o=0;return function(t){return e.enter("codeText"),e.enter("codeTextSequence"),a(t)};function a(t){return 96===t?(e.consume(t),o++,a):(e.exit("codeTextSequence"),l(t))}function l(t){return null===t?n(t):32===t?(e.enter("space"),e.consume(t),e.exit("space"),l):96===t?(i=e.enter("codeTextSequence"),r=0,c(t)):Kr(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),l):(e.enter("codeTextData"),s(t))}function s(t){return null===t||32===t||96===t||Kr(t)?(e.exit("codeTextData"),l(t)):(e.consume(t),s)}function c(n){return 96===n?(e.consume(n),r++,c):r===o?(e.exit("codeTextSequence"),e.exit("codeText"),t(n)):(i.type="codeTextData",s(n))}}};class Si{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,t){const n=null==t?Number.POSITIVE_INFINITY:t;return n<this.left.length?this.left.slice(e,n):e>this.left.length?this.right.slice(this.right.length-n+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-n+this.left.length).reverse())}splice(e,t,n){const r=t||0;this.setCursor(Math.trunc(e));const i=this.right.splice(this.right.length-r,Number.POSITIVE_INFINITY);return n&&Ci(this.left,n),i.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),Ci(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),Ci(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&0===this.right.length||e<0&&0===this.left.length))if(e<this.left.length){const t=this.left.splice(e,Number.POSITIVE_INFINITY);Ci(this.right,t.reverse())}else{const t=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);Ci(this.left,t.reverse())}}}function Ci(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function ji(e){const t={};let n,r,i,o,a,l,s,c=-1;const d=new Si(e);for(;++c<d.length;){for(;c in t;)c=t[c];if(n=d.get(c),c&&"chunkFlow"===n[1].type&&"listItemPrefix"===d.get(c-1)[1].type&&(l=n[1]._tokenizer.events,i=0,i<l.length&&"lineEndingBlank"===l[i][1].type&&(i+=2),i<l.length&&"content"===l[i][1].type))for(;++i<l.length&&"content"!==l[i][1].type;)"chunkText"===l[i][1].type&&(l[i][1]._isInFirstContentOfListItem=!0,i++);if("enter"===n[0])n[1].contentType&&(Object.assign(t,Fi(d,c)),c=t[c],s=!0);else if(n[1]._container){for(i=c,r=void 0;i--;)if(o=d.get(i),"lineEnding"===o[1].type||"lineEndingBlank"===o[1].type)"enter"===o[0]&&(r&&(d.get(r)[1].type="lineEndingBlank"),o[1].type="lineEnding",r=i);else if("linePrefix"!==o[1].type&&"listItemIndent"!==o[1].type)break;r&&(n[1].end={...d.get(r)[1].start},a=d.slice(r,c),a.unshift(n),d.splice(r,c-r+1,a))}}return Lr(e,0,Number.POSITIVE_INFINITY,d.slice(0)),!s}function Fi(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const o=[];let a=n._tokenizer;a||(a=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(a._contentTypeTextTrailing=!0));const l=a.events,s=[],c={};let d,u,p=-1,f=n,h=0,g=0;const m=[g];for(;f;){for(;e.get(++i)[1]!==f;);o.push(i),f._tokenizer||(d=r.sliceStream(f),f.next||d.push(null),u&&a.defineSkip(f.start),f._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(d),f._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),u=f,f=f.next}for(f=n;++p<l.length;)"exit"===l[p][0]&&"enter"===l[p-1][0]&&l[p][1].type===l[p-1][1].type&&l[p][1].start.line!==l[p][1].end.line&&(g=p+1,m.push(g),f._tokenizer=void 0,f.previous=void 0,f=f.next);for(a.events=[],f?(f._tokenizer=void 0,f.previous=void 0):m.pop(),p=m.length;p--;){const t=l.slice(m[p],m[p+1]),n=o.pop();s.push([n,n+t.length-1]),e.splice(n,2,t)}for(s.reverse(),p=-1;++p<s.length;)c[h+s[p][0]]=h+s[p][1],h+=s[p][1]-s[p][0]-1;return c}const Ei={resolve:function(e){return ji(e),e},tokenize:function(e,t){let n;return function(t){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),r(t)};function r(t){return null===t?i(t):Kr(t)?e.check(zi,o,i)(t):(e.consume(t),r)}function i(n){return e.exit("chunkContent"),e.exit("content"),t(n)}function o(t){return e.consume(t),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,r}}},zi={partial:!0,tokenize:function(e,t,n){const r=this;return function(t){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),oi(e,i,"linePrefix")};function i(i){if(null===i||Kr(i))return n(i);const o=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&o&&"linePrefix"===o[1].type&&o[2].sliceSerialize(o[1],!0).length>=4?t(i):e.interrupt(r.parser.constructs.flow,n,t)(i)}}};function Ai(e,t,n,r,i,o,a,l,s){const c=s||Number.POSITIVE_INFINITY;let d=0;return function(t){if(60===t)return e.enter(r),e.enter(i),e.enter(o),e.consume(t),e.exit(o),u;if(null===t||32===t||41===t||Qr(t))return n(t);return e.enter(r),e.enter(a),e.enter(l),e.enter("chunkString",{contentType:"string"}),h(t)};function u(n){return 62===n?(e.enter(o),e.consume(n),e.exit(o),e.exit(i),e.exit(r),t):(e.enter(l),e.enter("chunkString",{contentType:"string"}),p(n))}function p(t){return 62===t?(e.exit("chunkString"),e.exit(l),u(t)):null===t||60===t||Kr(t)?n(t):(e.consume(t),92===t?f:p)}function f(t){return 60===t||62===t||92===t?(e.consume(t),p):p(t)}function h(i){return d||null!==i&&41!==i&&!Zr(i)?d<c&&40===i?(e.consume(i),d++,h):41===i?(e.consume(i),d--,h):null===i||32===i||40===i||Qr(i)?n(i):(e.consume(i),92===i?g:h):(e.exit("chunkString"),e.exit(l),e.exit(a),e.exit(r),t(i))}function g(t){return 40===t||41===t||92===t?(e.consume(t),h):h(t)}}function Ii(e,t,n,r,i,o){const a=this;let l,s=0;return function(t){return e.enter(r),e.enter(i),e.consume(t),e.exit(i),e.enter(o),c};function c(u){return s>999||null===u||91===u||93===u&&!l||94===u&&!s&&"_hiddenFootnoteSupport"in a.parser.constructs?n(u):93===u?(e.exit(o),e.enter(i),e.consume(u),e.exit(i),e.exit(r),t):Kr(u)?(e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),c):(e.enter("chunkString",{contentType:"string"}),d(u))}function d(t){return null===t||91===t||93===t||Kr(t)||s++>999?(e.exit("chunkString"),c(t)):(e.consume(t),l||(l=!ei(t)),92===t?u:d)}function u(t){return 91===t||92===t||93===t?(e.consume(t),s++,d):d(t)}}function Ti(e,t,n,r,i,o){let a;return function(t){if(34===t||39===t||40===t)return e.enter(r),e.enter(i),e.consume(t),e.exit(i),a=40===t?41:t,l;return n(t)};function l(n){return n===a?(e.enter(i),e.consume(n),e.exit(i),e.exit(r),t):(e.enter(o),s(n))}function s(t){return t===a?(e.exit(o),l(a)):null===t?n(t):Kr(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),oi(e,s,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),c(t))}function c(t){return t===a||null===t||Kr(t)?(e.exit("chunkString"),s(t)):(e.consume(t),92===t?d:c)}function d(t){return t===a||92===t?(e.consume(t),c):c(t)}}function Bi(e,t){let n;return function r(i){if(Kr(i))return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r;if(ei(i))return oi(e,r,n?"linePrefix":"lineSuffix")(i);return t(i)}}const Di={name:"definition",tokenize:function(e,t,n){const r=this;let i;return function(t){return e.enter("definition"),function(t){return Ii.call(r,e,o,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(t)}(t)};function o(t){return i=qr(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),58===t?(e.enter("definitionMarker"),e.consume(t),e.exit("definitionMarker"),a):n(t)}function a(t){return Zr(t)?Bi(e,l)(t):l(t)}function l(t){return Ai(e,s,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(t)}function s(t){return e.attempt(Ri,c,c)(t)}function c(t){return ei(t)?oi(e,d,"whitespace")(t):d(t)}function d(o){return null===o||Kr(o)?(e.exit("definition"),r.parser.defined.push(i),t(o)):n(o)}}},Ri={partial:!0,tokenize:function(e,t,n){return function(t){return Zr(t)?Bi(e,r)(t):n(t)};function r(t){return Ti(e,i,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(t)}function i(t){return ei(t)?oi(e,o,"whitespace")(t):o(t)}function o(e){return null===e||Kr(e)?t(e):n(e)}}};const Pi={name:"hardBreakEscape",tokenize:function(e,t,n){return function(t){return e.enter("hardBreakEscape"),e.consume(t),r};function r(r){return Kr(r)?(e.exit("hardBreakEscape"),t(r)):n(r)}}};const Ni={name:"headingAtx",resolve:function(e,t){let n,r,i=e.length-2,o=3;"whitespace"===e[o][1].type&&(o+=2);i-2>o&&"whitespace"===e[i][1].type&&(i-=2);"atxHeadingSequence"===e[i][1].type&&(o===i-1||i-4>o&&"whitespace"===e[i-2][1].type)&&(i-=o+1===i?2:4);i>o&&(n={type:"atxHeadingText",start:e[o][1].start,end:e[i][1].end},r={type:"chunkText",start:e[o][1].start,end:e[i][1].end,contentType:"text"},Lr(e,o,i-o+1,[["enter",n,t],["enter",r,t],["exit",r,t],["exit",n,t]]));return e},tokenize:function(e,t,n){let r=0;return function(t){return e.enter("atxHeading"),function(t){return e.enter("atxHeadingSequence"),i(t)}(t)};function i(t){return 35===t&&r++<6?(e.consume(t),i):null===t||Zr(t)?(e.exit("atxHeadingSequence"),o(t)):n(t)}function o(n){return 35===n?(e.enter("atxHeadingSequence"),a(n)):null===n||Kr(n)?(e.exit("atxHeading"),t(n)):ei(n)?oi(e,o,"whitespace")(n):(e.enter("atxHeadingText"),l(n))}function a(t){return 35===t?(e.consume(t),a):(e.exit("atxHeadingSequence"),o(t))}function l(t){return null===t||35===t||Zr(t)?(e.exit("atxHeadingText"),o(t)):(e.consume(t),l)}}};const Li=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Mi=["pre","script","style","textarea"],Oi={concrete:!0,name:"htmlFlow",resolveTo:function(e){let t=e.length;for(;t--&&("enter"!==e[t][0]||"htmlFlow"!==e[t][1].type););t>1&&"linePrefix"===e[t-2][1].type&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2));return e},tokenize:function(e,t,n){const r=this;let i,o,a,l,s;return function(t){return function(t){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(t),c}(t)};function c(l){return 33===l?(e.consume(l),d):47===l?(e.consume(l),o=!0,f):63===l?(e.consume(l),i=3,r.interrupt?t:R):Ur(l)?(e.consume(l),a=String.fromCharCode(l),h):n(l)}function d(o){return 45===o?(e.consume(o),i=2,u):91===o?(e.consume(o),i=5,l=0,p):Ur(o)?(e.consume(o),i=4,r.interrupt?t:R):n(o)}function u(i){return 45===i?(e.consume(i),r.interrupt?t:R):n(i)}function p(i){const o="CDATA[";return i===o.charCodeAt(l++)?(e.consume(i),6===l?r.interrupt?t:F:p):n(i)}function f(t){return Ur(t)?(e.consume(t),a=String.fromCharCode(t),h):n(t)}function h(l){if(null===l||47===l||62===l||Zr(l)){const s=47===l,c=a.toLowerCase();return s||o||!Mi.includes(c)?Li.includes(a.toLowerCase())?(i=6,s?(e.consume(l),g):r.interrupt?t(l):F(l)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(l):o?m(l):x(l)):(i=1,r.interrupt?t(l):F(l))}return 45===l||Vr(l)?(e.consume(l),a+=String.fromCharCode(l),h):n(l)}function g(i){return 62===i?(e.consume(i),r.interrupt?t:F):n(i)}function m(t){return ei(t)?(e.consume(t),m):C(t)}function x(t){return 47===t?(e.consume(t),C):58===t||95===t||Ur(t)?(e.consume(t),y):ei(t)?(e.consume(t),x):C(t)}function y(t){return 45===t||46===t||58===t||95===t||Vr(t)?(e.consume(t),y):b(t)}function b(t){return 61===t?(e.consume(t),v):ei(t)?(e.consume(t),b):x(t)}function v(t){return null===t||60===t||61===t||62===t||96===t?n(t):34===t||39===t?(e.consume(t),s=t,w):ei(t)?(e.consume(t),v):k(t)}function w(t){return t===s?(e.consume(t),s=null,S):null===t||Kr(t)?n(t):(e.consume(t),w)}function k(t){return null===t||34===t||39===t||47===t||60===t||61===t||62===t||96===t||Zr(t)?b(t):(e.consume(t),k)}function S(e){return 47===e||62===e||ei(e)?x(e):n(e)}function C(t){return 62===t?(e.consume(t),j):n(t)}function j(t){return null===t||Kr(t)?F(t):ei(t)?(e.consume(t),j):n(t)}function F(t){return 45===t&&2===i?(e.consume(t),I):60===t&&1===i?(e.consume(t),T):62===t&&4===i?(e.consume(t),P):63===t&&3===i?(e.consume(t),R):93===t&&5===i?(e.consume(t),D):!Kr(t)||6!==i&&7!==i?null===t||Kr(t)?(e.exit("htmlFlowData"),E(t)):(e.consume(t),F):(e.exit("htmlFlowData"),e.check(_i,N,E)(t))}function E(t){return e.check(Wi,z,N)(t)}function z(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),A}function A(t){return null===t||Kr(t)?E(t):(e.enter("htmlFlowData"),F(t))}function I(t){return 45===t?(e.consume(t),R):F(t)}function T(t){return 47===t?(e.consume(t),a="",B):F(t)}function B(t){if(62===t){const n=a.toLowerCase();return Mi.includes(n)?(e.consume(t),P):F(t)}return Ur(t)&&a.length<8?(e.consume(t),a+=String.fromCharCode(t),B):F(t)}function D(t){return 93===t?(e.consume(t),R):F(t)}function R(t){return 62===t?(e.consume(t),P):45===t&&2===i?(e.consume(t),R):F(t)}function P(t){return null===t||Kr(t)?(e.exit("htmlFlowData"),N(t)):(e.consume(t),P)}function N(n){return e.exit("htmlFlow"),t(n)}}},_i={partial:!0,tokenize:function(e,t,n){return function(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),e.attempt(hi,t,n)}}},Wi={partial:!0,tokenize:function(e,t,n){const r=this;return function(t){if(Kr(t))return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),i;return n(t)};function i(e){return r.parser.lazy[r.now().line]?n(e):t(e)}}};const $i={name:"htmlText",tokenize:function(e,t,n){const r=this;let i,o,a;return function(t){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(t),l};function l(t){return 33===t?(e.consume(t),s):47===t?(e.consume(t),v):63===t?(e.consume(t),y):Ur(t)?(e.consume(t),S):n(t)}function s(t){return 45===t?(e.consume(t),c):91===t?(e.consume(t),o=0,f):Ur(t)?(e.consume(t),x):n(t)}function c(t){return 45===t?(e.consume(t),p):n(t)}function d(t){return null===t?n(t):45===t?(e.consume(t),u):Kr(t)?(a=d,B(t)):(e.consume(t),d)}function u(t){return 45===t?(e.consume(t),p):d(t)}function p(e){return 62===e?T(e):45===e?u(e):d(e)}function f(t){const r="CDATA[";return t===r.charCodeAt(o++)?(e.consume(t),6===o?h:f):n(t)}function h(t){return null===t?n(t):93===t?(e.consume(t),g):Kr(t)?(a=h,B(t)):(e.consume(t),h)}function g(t){return 93===t?(e.consume(t),m):h(t)}function m(t){return 62===t?T(t):93===t?(e.consume(t),m):h(t)}function x(t){return null===t||62===t?T(t):Kr(t)?(a=x,B(t)):(e.consume(t),x)}function y(t){return null===t?n(t):63===t?(e.consume(t),b):Kr(t)?(a=y,B(t)):(e.consume(t),y)}function b(e){return 62===e?T(e):y(e)}function v(t){return Ur(t)?(e.consume(t),w):n(t)}function w(t){return 45===t||Vr(t)?(e.consume(t),w):k(t)}function k(t){return Kr(t)?(a=k,B(t)):ei(t)?(e.consume(t),k):T(t)}function S(t){return 45===t||Vr(t)?(e.consume(t),S):47===t||62===t||Zr(t)?C(t):n(t)}function C(t){return 47===t?(e.consume(t),T):58===t||95===t||Ur(t)?(e.consume(t),j):Kr(t)?(a=C,B(t)):ei(t)?(e.consume(t),C):T(t)}function j(t){return 45===t||46===t||58===t||95===t||Vr(t)?(e.consume(t),j):F(t)}function F(t){return 61===t?(e.consume(t),E):Kr(t)?(a=F,B(t)):ei(t)?(e.consume(t),F):C(t)}function E(t){return null===t||60===t||61===t||62===t||96===t?n(t):34===t||39===t?(e.consume(t),i=t,z):Kr(t)?(a=E,B(t)):ei(t)?(e.consume(t),E):(e.consume(t),A)}function z(t){return t===i?(e.consume(t),i=void 0,I):null===t?n(t):Kr(t)?(a=z,B(t)):(e.consume(t),z)}function A(t){return null===t||34===t||39===t||60===t||61===t||96===t?n(t):47===t||62===t||Zr(t)?C(t):(e.consume(t),A)}function I(e){return 47===e||62===e||Zr(e)?C(e):n(e)}function T(r){return 62===r?(e.consume(r),e.exit("htmlTextData"),e.exit("htmlText"),t):n(r)}function B(t){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),D}function D(t){return ei(t)?oi(e,R,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t):R(t)}function R(t){return e.enter("htmlTextData"),a(t)}}};const Hi={name:"labelEnd",resolveAll:function(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),"labelImage"===r.type||"labelLink"===r.type||"labelEnd"===r.type){const e="labelImage"===r.type?4:2;r.type="data",t+=e}}e.length!==n.length&&Lr(e,0,e.length,n);return e},resolveTo:function(e,t){let n,r,i,o,a=e.length,l=0;for(;a--;)if(n=e[a][1],r){if("link"===n.type||"labelLink"===n.type&&n._inactive)break;"enter"===e[a][0]&&"labelLink"===n.type&&(n._inactive=!0)}else if(i){if("enter"===e[a][0]&&("labelImage"===n.type||"labelLink"===n.type)&&!n._balanced&&(r=a,"labelLink"!==n.type)){l=2;break}}else"labelEnd"===n.type&&(i=a);const s={type:"labelLink"===e[r][1].type?"link":"image",start:{...e[r][1].start},end:{...e[e.length-1][1].end}},c={type:"label",start:{...e[r][1].start},end:{...e[i][1].end}},d={type:"labelText",start:{...e[r+l+2][1].end},end:{...e[i-2][1].start}};return o=[["enter",s,t],["enter",c,t]],o=Mr(o,e.slice(r+1,r+l+3)),o=Mr(o,[["enter",d,t]]),o=Mr(o,di(t.parser.constructs.insideSpan.null,e.slice(r+l+4,i-3),t)),o=Mr(o,[["exit",d,t],e[i-2],e[i-1],["exit",c,t]]),o=Mr(o,e.slice(i+1)),o=Mr(o,[["exit",s,t]]),Lr(e,r,e.length,o),e},tokenize:function(e,t,n){const r=this;let i,o,a=r.events.length;for(;a--;)if(("labelImage"===r.events[a][1].type||"labelLink"===r.events[a][1].type)&&!r.events[a][1]._balanced){i=r.events[a][1];break}return function(t){if(!i)return n(t);if(i._inactive)return d(t);return o=r.parser.defined.includes(qr(r.sliceSerialize({start:i.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelEnd"),l};function l(t){return 40===t?e.attempt(qi,c,o?c:d)(t):91===t?e.attempt(Ui,c,o?s:d)(t):o?c(t):d(t)}function s(t){return e.attempt(Vi,c,d)(t)}function c(e){return t(e)}function d(e){return i._balanced=!0,n(e)}}},qi={tokenize:function(e,t,n){return function(t){return e.enter("resource"),e.enter("resourceMarker"),e.consume(t),e.exit("resourceMarker"),r};function r(t){return Zr(t)?Bi(e,i)(t):i(t)}function i(t){return 41===t?c(t):Ai(e,o,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(t)}function o(t){return Zr(t)?Bi(e,l)(t):c(t)}function a(e){return n(e)}function l(t){return 34===t||39===t||40===t?Ti(e,s,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(t):c(t)}function s(t){return Zr(t)?Bi(e,c)(t):c(t)}function c(r){return 41===r?(e.enter("resourceMarker"),e.consume(r),e.exit("resourceMarker"),e.exit("resource"),t):n(r)}}},Ui={tokenize:function(e,t,n){const r=this;return function(t){return Ii.call(r,e,i,o,"reference","referenceMarker","referenceString")(t)};function i(e){return r.parser.defined.includes(qr(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(e):n(e)}function o(e){return n(e)}}},Vi={tokenize:function(e,t,n){return function(t){return e.enter("reference"),e.enter("referenceMarker"),e.consume(t),e.exit("referenceMarker"),r};function r(r){return 93===r?(e.enter("referenceMarker"),e.consume(r),e.exit("referenceMarker"),e.exit("reference"),t):n(r)}}};const Gi={name:"labelStartImage",resolveAll:Hi.resolveAll,tokenize:function(e,t,n){const r=this;return function(t){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(t),e.exit("labelImageMarker"),i};function i(t){return 91===t?(e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelImage"),o):n(t)}function o(e){return 94===e&&"_hiddenFootnoteSupport"in r.parser.constructs?n(e):t(e)}}};const Qi={name:"labelStartLink",resolveAll:Hi.resolveAll,tokenize:function(e,t,n){const r=this;return function(t){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelLink"),i};function i(e){return 94===e&&"_hiddenFootnoteSupport"in r.parser.constructs?n(e):t(e)}}};const Yi={name:"lineEnding",tokenize:function(e,t){return function(n){return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),oi(e,t,"linePrefix")}}};const Ji={name:"thematicBreak",tokenize:function(e,t,n){let r,i=0;return function(t){return e.enter("thematicBreak"),function(e){return r=e,o(e)}(t)};function o(o){return o===r?(e.enter("thematicBreakSequence"),a(o)):i>=3&&(null===o||Kr(o))?(e.exit("thematicBreak"),t(o)):n(o)}function a(t){return t===r?(e.consume(t),i++,a):(e.exit("thematicBreakSequence"),ei(t)?oi(e,o,"whitespace")(t):o(t))}}};const Xi={continuation:{tokenize:function(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(hi,function(n){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,oi(e,t,"listItemIndent",r.containerState.size+1)(n)},function(n){if(r.containerState.furtherBlankLines||!ei(n))return r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,i(n);return r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(Zi,t,i)(n)});function i(i){return r.containerState._closeFlow=!0,r.interrupt=void 0,oi(e,e.attempt(Xi,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(i)}}},exit:function(e){e.exit(this.containerState.type)},name:"list",tokenize:function(e,t,n){const r=this,i=r.events[r.events.length-1];let o=i&&"linePrefix"===i[1].type?i[2].sliceSerialize(i[1],!0).length:0,a=0;return function(t){const i=r.containerState.type||(42===t||43===t||45===t?"listUnordered":"listOrdered");if("listUnordered"===i?!r.containerState.marker||t===r.containerState.marker:Yr(t)){if(r.containerState.type||(r.containerState.type=i,e.enter(i,{_container:!0})),"listUnordered"===i)return e.enter("listItemPrefix"),42===t||45===t?e.check(Ji,n,s)(t):s(t);if(!r.interrupt||49===t)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(t)}return n(t)};function l(t){return Yr(t)&&++a<10?(e.consume(t),l):(!r.interrupt||a<2)&&(r.containerState.marker?t===r.containerState.marker:41===t||46===t)?(e.exit("listItemValue"),s(t)):n(t)}function s(t){return e.enter("listItemMarker"),e.consume(t),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||t,e.check(hi,r.interrupt?n:c,e.attempt(Ki,u,d))}function c(e){return r.containerState.initialBlankLine=!0,o++,u(e)}function d(t){return ei(t)?(e.enter("listItemPrefixWhitespace"),e.consume(t),e.exit("listItemPrefixWhitespace"),u):n(t)}function u(n){return r.containerState.size=o+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(n)}}},Ki={partial:!0,tokenize:function(e,t,n){const r=this;return oi(e,function(e){const i=r.events[r.events.length-1];return!ei(e)&&i&&"listItemPrefixWhitespace"===i[1].type?t(e):n(e)},"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5)}},Zi={partial:!0,tokenize:function(e,t,n){const r=this;return oi(e,function(e){const i=r.events[r.events.length-1];return i&&"listItemIndent"===i[1].type&&i[2].sliceSerialize(i[1],!0).length===r.containerState.size?t(e):n(e)},"listItemIndent",r.containerState.size+1)}};const eo={name:"setextUnderline",resolveTo:function(e,t){let n,r,i,o=e.length;for(;o--;)if("enter"===e[o][0]){if("content"===e[o][1].type){n=o;break}"paragraph"===e[o][1].type&&(r=o)}else"content"===e[o][1].type&&e.splice(o,1),i||"definition"!==e[o][1].type||(i=o);const a={type:"setextHeading",start:{...e[n][1].start},end:{...e[e.length-1][1].end}};e[r][1].type="setextHeadingText",i?(e.splice(r,0,["enter",a,t]),e.splice(i+1,0,["exit",e[n][1],t]),e[n][1].end={...e[i][1].end}):e[n][1]=a;return e.push(["exit",a,t]),e},tokenize:function(e,t,n){const r=this;let i;return function(t){let a,l=r.events.length;for(;l--;)if("lineEnding"!==r.events[l][1].type&&"linePrefix"!==r.events[l][1].type&&"content"!==r.events[l][1].type){a="paragraph"===r.events[l][1].type;break}if(!r.parser.lazy[r.now().line]&&(r.interrupt||a))return e.enter("setextHeadingLine"),i=t,function(t){return e.enter("setextHeadingLineSequence"),o(t)}(t);return n(t)};function o(t){return t===i?(e.consume(t),o):(e.exit("setextHeadingLineSequence"),ei(t)?oi(e,a,"lineSuffix")(t):a(t))}function a(r){return null===r||Kr(r)?(e.exit("setextHeadingLine"),t(r)):n(r)}}};const to={tokenize:function(e){const t=this,n=e.attempt(hi,function(r){if(null===r)return void e.consume(r);return e.enter("lineEndingBlank"),e.consume(r),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n},e.attempt(this.parser.constructs.flowInitial,r,oi(e,e.attempt(this.parser.constructs.flow,r,e.attempt(Ei,r)),"linePrefix")));return n;function r(r){if(null!==r)return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),t.currentConstruct=void 0,n;e.consume(r)}}};const no={resolveAll:ao()},ro=oo("string"),io=oo("text");function oo(e){return{resolveAll:ao("text"===e?lo:void 0),tokenize:function(t){const n=this,r=this.parser.constructs[e],i=t.attempt(r,o,a);return o;function o(e){return s(e)?i(e):a(e)}function a(e){if(null!==e)return t.enter("data"),t.consume(e),l;t.consume(e)}function l(e){return s(e)?(t.exit("data"),i(e)):(t.consume(e),l)}function s(e){if(null===e)return!0;const t=r[e];let i=-1;if(t)for(;++i<t.length;){const e=t[i];if(!e.previous||e.previous.call(n,n.previous))return!0}return!1}}}}function ao(e){return function(t,n){let r,i=-1;for(;++i<=t.length;)void 0===r?t[i]&&"data"===t[i][1].type&&(r=i,i++):t[i]&&"data"===t[i][1].type||(i!==r+2&&(t[r][1].end=t[i-1][1].end,t.splice(r+2,i-r-2),i=r+2),r=void 0);return e?e(t,n):t}}function lo(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||"lineEnding"===e[n][1].type)&&"data"===e[n-1][1].type){const r=e[n-1][1],i=t.sliceStream(r);let o,a=i.length,l=-1,s=0;for(;a--;){const e=i[a];if("string"==typeof e){for(l=e.length;32===e.charCodeAt(l-1);)s++,l--;if(l)break;l=-1}else if(-2===e)o=!0,s++;else if(-1!==e){a++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(s=0),s){const i={type:n===e.length||o||s<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?l:r.start._bufferIndex+l,_index:r.start._index+a,line:r.end.line,column:r.end.column-s,offset:r.end.offset-s},end:{...r.end}};r.end={...i.start},r.start.offset===r.end.offset?Object.assign(r,i):(e.splice(n,0,["enter",i,t],["exit",i,t]),n+=2)}n++}return e}const so={42:Xi,43:Xi,45:Xi,48:Xi,49:Xi,50:Xi,51:Xi,52:Xi,53:Xi,54:Xi,55:Xi,56:Xi,57:Xi,62:gi},co={91:Di},uo={[-2]:vi,[-1]:vi,32:vi},po={35:Ni,42:Ji,45:[eo,Ji],60:Oi,61:eo,95:Ji,96:bi,126:bi},fo={38:xi,92:mi},ho={[-5]:Yi,[-4]:Yi,[-3]:Yi,33:Gi,38:xi,42:ui,60:[fi,$i],91:Qi,92:[Pi,mi],93:Hi,95:ui,96:ki},go={null:[ui,no]},mo=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:{null:[42,95]},contentInitial:co,disable:{null:[]},document:so,flow:po,flowInitial:uo,insideSpan:go,string:fo,text:ho},Symbol.toStringTag,{value:"Module"}));function xo(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},o=[];let a=[],l=[];const s={attempt:m(function(e,t){x(e,t.from)}),check:m(g),consume:function(e){Kr(e)?(r.line++,r.column=1,r.offset+=-3===e?2:1,y()):-1!==e&&(r.column++,r.offset++);r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===a[r._index].length&&(r._bufferIndex=-1,r._index++));c.previous=e},enter:function(e,t){const n=t||{};return n.type=e,n.start=p(),c.events.push(["enter",n,c]),l.push(n),n},exit:function(e){const t=l.pop();return t.end=p(),c.events.push(["exit",t,c]),t},interrupt:m(g,{interrupt:!0})},c={code:null,containerState:{},defineSkip:function(e){i[e.line]=e.column,y()},events:[],now:p,parser:e,previous:null,sliceSerialize:function(e,t){return function(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const o=e[n];let a;if("string"==typeof o)a=o;else switch(o){case-5:a="\r";break;case-4:a="\n";break;case-3:a="\r\n";break;case-2:a=t?" ":"\t";break;case-1:if(!t&&i)continue;a=" ";break;default:a=String.fromCharCode(o)}i=-2===o,r.push(a)}return r.join("")}(u(e),t)},sliceStream:u,write:function(e){if(a=Mr(a,e),f(),null!==a[a.length-1])return[];return x(t,0),c.events=di(o,c.events,c),c.events}};let d=t.tokenize.call(c,s);return t.resolveAll&&o.push(t),c;function u(e){return function(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,o=t.end._bufferIndex;let a;if(n===i)a=[e[n].slice(r,o)];else{if(a=e.slice(n,i),r>-1){const e=a[0];"string"==typeof e?a[0]=e.slice(r):a.shift()}o>0&&a.push(e[i].slice(0,o))}return a}(a,e)}function p(){const{_bufferIndex:e,_index:t,line:n,column:i,offset:o}=r;return{_bufferIndex:e,_index:t,line:n,column:i,offset:o}}function f(){let e;for(;r._index<a.length;){const t=a[r._index];if("string"==typeof t)for(e=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===e&&r._bufferIndex<t.length;)h(t.charCodeAt(r._bufferIndex));else h(t)}}function h(e){d=d(e)}function g(e,t){t.restore()}function m(e,t){return function(n,i,o){let a,d,u,f;return Array.isArray(n)?h(n):"tokenize"in n?h([n]):function(e){return t;function t(t){const n=null!==t&&e[t],r=null!==t&&e.null;return h([...Array.isArray(n)?n:n?[n]:[],...Array.isArray(r)?r:r?[r]:[]])(t)}}(n);function h(e){return a=e,d=0,0===e.length?o:g(e[d])}function g(e){return function(n){f=function(){const e=p(),t=c.previous,n=c.currentConstruct,i=c.events.length,o=Array.from(l);return{from:i,restore:a};function a(){r=e,c.previous=t,c.currentConstruct=n,c.events.length=i,l=o,y()}}(),u=e,e.partial||(c.currentConstruct=e);if(e.name&&c.parser.constructs.disable.null.includes(e.name))return x();return e.tokenize.call(t?Object.assign(Object.create(c),t):c,s,m,x)(n)}}function m(t){return e(u,f),i}function x(e){return f.restore(),++d<a.length?g(a[d]):o}}}function x(e,t){e.resolveAll&&!o.includes(e)&&o.push(e),e.resolve&&Lr(c.events,t,c.events.length-t,e.resolve(c.events.slice(t),c)),e.resolveTo&&(c.events=e.resolveTo(c.events,c))}function y(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}const yo=/[\0\t\n\r]/g;const bo=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function vo(e,t,n){if(t)return t;if(35===n.charCodeAt(0)){const e=n.charCodeAt(1),t=120===e||88===e;return Hr(n.slice(t?2:1),t?16:10)}return Nr(n)||e}const wo={}.hasOwnProperty;function ko(e,t,n){return"string"!=typeof t&&(n=t,t=void 0),function(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(te),autolinkProtocol:j,autolinkEmail:j,atxHeading:o(X),blockQuote:o(V),characterEscape:j,characterReference:j,codeFenced:o(G),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:o(G,a),codeText:o(Q,a),codeTextData:j,data:j,codeFlowValue:j,definition:o(Y),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:o(J),hardBreakEscape:o(K),hardBreakTrailing:o(K),htmlFlow:o(Z,a),htmlFlowData:j,htmlText:o(Z,a),htmlTextData:j,image:o(ee),label:a,link:o(te),listItem:o(re),listItemValue:p,listOrdered:o(ne,u),listUnordered:o(ne),paragraph:o(ie),reference:O,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:o(X),strong:o(oe),thematicBreak:o(le)},exit:{atxHeading:s(),atxHeadingSequence:w,autolink:s(),autolinkEmail:U,autolinkProtocol:q,blockQuote:s(),characterEscapeValue:F,characterReferenceMarkerHexadecimal:W,characterReferenceMarkerNumeric:W,characterReferenceValue:$,characterReference:H,codeFenced:s(m),codeFencedFence:g,codeFencedFenceInfo:f,codeFencedFenceMeta:h,codeFlowValue:F,codeIndented:s(x),codeText:s(T),codeTextData:F,data:F,definition:s(),definitionDestinationString:v,definitionLabelString:y,definitionTitleString:b,emphasis:s(),hardBreakEscape:s(z),hardBreakTrailing:s(z),htmlFlow:s(A),htmlFlowData:F,htmlText:s(I),htmlTextData:F,image:s(D),label:P,labelText:R,lineEnding:E,link:s(B),listItem:s(),listOrdered:s(),listUnordered:s(),paragraph:s(),referenceString:_,resourceDestinationString:N,resourceTitleString:L,resource:M,setextHeading:s(C),setextHeadingLineSequence:S,setextHeadingText:k,strong:s(),thematicBreak:s()}};Co(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(e){let r={type:"root",children:[]};const o={stack:[r],tokenStack:[],config:t,enter:l,exit:c,buffer:a,resume:d,data:n},s=[];let u=-1;for(;++u<e.length;)if("listOrdered"===e[u][1].type||"listUnordered"===e[u][1].type)if("enter"===e[u][0])s.push(u);else{u=i(e,s.pop(),u)}for(u=-1;++u<e.length;){const n=t[e[u][0]];wo.call(n,e[u][1].type)&&n[e[u][1].type].call(Object.assign({sliceSerialize:e[u][2].sliceSerialize},o),e[u][1])}if(o.tokenStack.length>0){const e=o.tokenStack[o.tokenStack.length-1];(e[1]||Fo).call(o,void 0,e[0])}for(r.position={start:So(e.length>0?e[0][1].start:{line:1,column:1,offset:0}),end:So(e.length>0?e[e.length-2][1].end:{line:1,column:1,offset:0})},u=-1;++u<t.transforms.length;)r=t.transforms[u](r)||r;return r}function i(e,t,n){let r,i,o,a,l=t-1,s=-1,c=!1;for(;++l<=n;){const t=e[l];switch(t[1].type){case"listUnordered":case"listOrdered":case"blockQuote":"enter"===t[0]?s++:s--,a=void 0;break;case"lineEndingBlank":"enter"===t[0]&&(!r||a||s||o||(o=l),a=void 0);break;case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:a=void 0}if(!s&&"enter"===t[0]&&"listItemPrefix"===t[1].type||-1===s&&"exit"===t[0]&&("listUnordered"===t[1].type||"listOrdered"===t[1].type)){if(r){let a=l;for(i=void 0;a--;){const t=e[a];if("lineEnding"===t[1].type||"lineEndingBlank"===t[1].type){if("exit"===t[0])continue;i&&(e[i][1].type="lineEndingBlank",c=!0),t[1].type="lineEnding",i=a}else if("linePrefix"!==t[1].type&&"blockQuotePrefix"!==t[1].type&&"blockQuotePrefixWhitespace"!==t[1].type&&"blockQuoteMarker"!==t[1].type&&"listItemIndent"!==t[1].type)break}o&&(!i||o<i)&&(r._spread=!0),r.end=Object.assign({},i?e[i][1].start:t[1].end),e.splice(i||l,0,["exit",r,t[2]]),l++,n++}if("listItemPrefix"===t[1].type){const i={type:"listItem",_spread:!1,start:Object.assign({},t[1].start),end:void 0};r=i,e.splice(l,0,["enter",i,t[2]]),l++,n++,o=void 0,a=!0}}}return e[t][1]._spread=c,n}function o(e,t){return n;function n(n){l.call(this,e(n),n),t&&t.call(this,n)}}function a(){this.stack.push({type:"fragment",children:[]})}function l(e,t,n){this.stack[this.stack.length-1].children.push(e),this.stack.push(e),this.tokenStack.push([t,n||void 0]),e.position={start:So(t.start),end:void 0}}function s(e){return t;function t(t){e&&e.call(this,t),c.call(this,t)}}function c(e,t){const n=this.stack.pop(),r=this.tokenStack.pop();if(!r)throw new Error("Cannot close `"+e.type+"` ("+cr({start:e.start,end:e.end})+"): its not open");if(r[0].type!==e.type)if(t)t.call(this,e,r[0]);else{(r[1]||Fo).call(this,e,r[0])}n.position.end=So(e.end)}function d(){return Br(this.stack.pop())}function u(){this.data.expectingFirstListItemValue=!0}function p(e){if(this.data.expectingFirstListItemValue){this.stack[this.stack.length-2].start=Number.parseInt(this.sliceSerialize(e),10),this.data.expectingFirstListItemValue=void 0}}function f(){const e=this.resume();this.stack[this.stack.length-1].lang=e}function h(){const e=this.resume();this.stack[this.stack.length-1].meta=e}function g(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function m(){const e=this.resume();this.stack[this.stack.length-1].value=e.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function x(){const e=this.resume();this.stack[this.stack.length-1].value=e.replace(/(\r?\n|\r)$/g,"")}function y(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=qr(this.sliceSerialize(e)).toLowerCase()}function b(){const e=this.resume();this.stack[this.stack.length-1].title=e}function v(){const e=this.resume();this.stack[this.stack.length-1].url=e}function w(e){const t=this.stack[this.stack.length-1];if(!t.depth){const n=this.sliceSerialize(e).length;t.depth=n}}function k(){this.data.setextHeadingSlurpLineEnding=!0}function S(e){this.stack[this.stack.length-1].depth=61===this.sliceSerialize(e).codePointAt(0)?1:2}function C(){this.data.setextHeadingSlurpLineEnding=void 0}function j(e){const t=this.stack[this.stack.length-1].children;let n=t[t.length-1];n&&"text"===n.type||(n=ae(),n.position={start:So(e.start),end:void 0},t.push(n)),this.stack.push(n)}function F(e){const t=this.stack.pop();t.value+=this.sliceSerialize(e),t.position.end=So(e.end)}function E(e){const n=this.stack[this.stack.length-1];if(this.data.atHardBreak){return n.children[n.children.length-1].position.end=So(e.end),void(this.data.atHardBreak=void 0)}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(n.type)&&(j.call(this,e),F.call(this,e))}function z(){this.data.atHardBreak=!0}function A(){const e=this.resume();this.stack[this.stack.length-1].value=e}function I(){const e=this.resume();this.stack[this.stack.length-1].value=e}function T(){const e=this.resume();this.stack[this.stack.length-1].value=e}function B(){const e=this.stack[this.stack.length-1];if(this.data.inReference){const t=this.data.referenceType||"shortcut";e.type+="Reference",e.referenceType=t,delete e.url,delete e.title}else delete e.identifier,delete e.label;this.data.referenceType=void 0}function D(){const e=this.stack[this.stack.length-1];if(this.data.inReference){const t=this.data.referenceType||"shortcut";e.type+="Reference",e.referenceType=t,delete e.url,delete e.title}else delete e.identifier,delete e.label;this.data.referenceType=void 0}function R(e){const t=this.sliceSerialize(e),n=this.stack[this.stack.length-2];n.label=function(e){return e.replace(bo,vo)}(t),n.identifier=qr(t).toLowerCase()}function P(){const e=this.stack[this.stack.length-1],t=this.resume(),n=this.stack[this.stack.length-1];if(this.data.inReference=!0,"link"===n.type){const t=e.children;n.children=t}else n.alt=t}function N(){const e=this.resume();this.stack[this.stack.length-1].url=e}function L(){const e=this.resume();this.stack[this.stack.length-1].title=e}function M(){this.data.inReference=void 0}function O(){this.data.referenceType="collapsed"}function _(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=qr(this.sliceSerialize(e)).toLowerCase(),this.data.referenceType="full"}function W(e){this.data.characterReferenceType=e.type}function $(e){const t=this.sliceSerialize(e),n=this.data.characterReferenceType;let r;if(n)r=Hr(t,"characterReferenceMarkerNumeric"===n?10:16),this.data.characterReferenceType=void 0;else{r=Nr(t)}this.stack[this.stack.length-1].value+=r}function H(e){this.stack.pop().position.end=So(e.end)}function q(e){F.call(this,e);this.stack[this.stack.length-1].url=this.sliceSerialize(e)}function U(e){F.call(this,e);this.stack[this.stack.length-1].url="mailto:"+this.sliceSerialize(e)}function V(){return{type:"blockquote",children:[]}}function G(){return{type:"code",lang:null,meta:null,value:""}}function Q(){return{type:"inlineCode",value:""}}function Y(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function J(){return{type:"emphasis",children:[]}}function X(){return{type:"heading",depth:0,children:[]}}function K(){return{type:"break"}}function Z(){return{type:"html",value:""}}function ee(){return{type:"image",title:null,url:"",alt:null}}function te(){return{type:"link",title:null,url:"",children:[]}}function ne(e){return{type:"list",ordered:"listOrdered"===e.type,start:null,spread:e._spread,children:[]}}function re(e){return{type:"listItem",spread:e._spread,checked:null,children:[]}}function ie(){return{type:"paragraph",children:[]}}function oe(){return{type:"strong",children:[]}}function ae(){return{type:"text",value:""}}function le(){return{type:"thematicBreak"}}}(n)(function(e){for(;!ji(e););return e}(function(e){const t={constructs:_r([mo,...(e||{}).extensions||[]]),content:n(ai),defined:[],document:n(li),flow:n(to),lazy:{},string:n(ro),text:n(io)};return t;function n(e){return function(n){return xo(t,e,n)}}}(n).document().write(function(){let e,t=1,n="",r=!0;return function(i,o,a){const l=[];let s,c,d,u,p;for(i=n+("string"==typeof i?i.toString():new TextDecoder(o||void 0).decode(i)),d=0,n="",r&&(65279===i.charCodeAt(0)&&d++,r=void 0);d<i.length;){if(yo.lastIndex=d,s=yo.exec(i),u=s&&void 0!==s.index?s.index:i.length,p=i.charCodeAt(u),!s){n=i.slice(d);break}if(10===p&&d===u&&e)l.push(-3),e=void 0;else switch(e&&(l.push(-5),e=void 0),d<u&&(l.push(i.slice(d,u)),t+=u-d),p){case 0:l.push(65533),t++;break;case 9:for(c=4*Math.ceil(t/4),l.push(-2);t++<c;)l.push(-1);break;case 10:l.push(-4),t=1;break;default:e=!0,t=1}d=u+1}return a&&(e&&l.push(-5),n&&l.push(n),l.push(null)),l}}()(e,t,!0))))}function So(e){return{line:e.line,column:e.column,offset:e.offset}}function Co(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?Co(e,r):jo(e,r)}}function jo(e,t){let n;for(n in t)if(wo.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function Fo(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+cr({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+cr({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+cr({start:t.start,end:t.end})+") is still open")}function Eo(e){const t=this;t.parser=function(n){return ko(n,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function zo(e,t){const n=t.referenceType;let r="]";if("collapsed"===n?r+="[]":"full"===n&&(r+="["+(t.label||t.identifier)+"]"),"imageReference"===t.type)return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),o=i[0];o&&"text"===o.type?o.value="["+o.value:i.unshift({type:"text",value:"["});const a=i[i.length-1];return a&&"text"===a.type?a.value+=r:i.push({type:"text",value:r}),i}function Ao(e){const t=e.spread;return null==t?e.children.length>1:t}function Io(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const o=[];for(;r;)o.push(To(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return o.push(To(t.slice(i),i>0,!1)),o.join("")}function To(e,t,n){let r=0,i=e.length;if(t){let t=e.codePointAt(r);for(;9===t||32===t;)r++,t=e.codePointAt(r)}if(n){let t=e.codePointAt(i-1);for(;9===t||32===t;)i--,t=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}const Bo={blockquote:function(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)},break:function(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:"\n"}]},code:function(e,t){const n=t.value?t.value+"\n":"",r={},i=t.lang?t.lang.split(/\s+/):[];i.length>0&&(r.className=["language-"+i[0]]);let o={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(o.data={meta:t.meta}),e.patch(t,o),o=e.applyData(t,o),o={type:"element",tagName:"pre",properties:{},children:[o]},e.patch(t,o),o},delete:function(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},emphasis:function(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},footnoteReference:function(e,t){const n="string"==typeof e.options.clobberPrefix?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=ii(r.toLowerCase()),o=e.footnoteOrder.indexOf(r);let a,l=e.footnoteCounts.get(r);void 0===l?(l=0,e.footnoteOrder.push(r),a=e.footnoteOrder.length):a=o+1,l+=1,e.footnoteCounts.set(r,l);const s={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(l>1?"-"+l:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};e.patch(t,s);const c={type:"element",tagName:"sup",properties:{},children:[s]};return e.patch(t,c),e.applyData(t,c)},heading:function(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},html:function(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}},imageReference:function(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return zo(e,t);const i={src:ii(r.url||""),alt:t.alt};null!==r.title&&void 0!==r.title&&(i.title=r.title);const o={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,o),e.applyData(t,o)},image:function(e,t){const n={src:ii(t.url)};null!==t.alt&&void 0!==t.alt&&(n.alt=t.alt),null!==t.title&&void 0!==t.title&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)},inlineCode:function(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)},linkReference:function(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return zo(e,t);const i={href:ii(r.url||"")};null!==r.title&&void 0!==r.title&&(i.title=r.title);const o={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,o),e.applyData(t,o)},link:function(e,t){const n={href:ii(t.url)};null!==t.title&&void 0!==t.title&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)},listItem:function(e,t,n){const r=e.all(t),i=n?function(e){let t=!1;if("list"===e.type){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=Ao(n[r])}return t}(n):Ao(t),o={},a=[];if("boolean"==typeof t.checked){const e=r[0];let n;e&&"element"===e.type&&"p"===e.tagName?n=e:(n={type:"element",tagName:"p",properties:{},children:[]},r.unshift(n)),n.children.length>0&&n.children.unshift({type:"text",value:" "}),n.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let l=-1;for(;++l<r.length;){const e=r[l];(i||0!==l||"element"!==e.type||"p"!==e.tagName)&&a.push({type:"text",value:"\n"}),"element"!==e.type||"p"!==e.tagName||i?a.push(e):a.push(...e.children)}const s=r[r.length-1];s&&(i||"element"!==s.type||"p"!==s.tagName)&&a.push({type:"text",value:"\n"});const c={type:"element",tagName:"li",properties:o,children:a};return e.patch(t,c),e.applyData(t,c)},list:function(e,t){const n={},r=e.all(t);let i=-1;for("number"==typeof t.start&&1!==t.start&&(n.start=t.start);++i<r.length;){const e=r[i];if("element"===e.type&&"li"===e.tagName&&e.properties&&Array.isArray(e.properties.className)&&e.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,o),e.applyData(t,o)},paragraph:function(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},root:function(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)},strong:function(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},table:function(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const n={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],n),i.push(n)}if(n.length>0){const r={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},o=lr(t.children[1]),a=ar(t.children[t.children.length-1]);o&&a&&(r.position={start:o,end:a}),i.push(r)}const o={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,o),e.applyData(t,o)},tableCell:function(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},tableRow:function(e,t,n){const r=n?n.children:void 0,i=0===(r?r.indexOf(t):1)?"th":"td",o=n&&"table"===n.type?n.align:void 0,a=o?o.length:t.children.length;let l=-1;const s=[];for(;++l<a;){const n=t.children[l],r={},a=o?o[l]:void 0;a&&(r.align=a);let c={type:"element",tagName:i,properties:r,children:[]};n&&(c.children=e.all(n),e.patch(n,c),c=e.applyData(n,c)),s.push(c)}const c={type:"element",tagName:"tr",properties:{},children:e.wrap(s,!0)};return e.patch(t,c),e.applyData(t,c)},text:function(e,t){const n={type:"text",value:Io(String(t.value))};return e.patch(t,n),e.applyData(t,n)},thematicBreak:function(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)},toml:Do,yaml:Do,definition:Do,footnoteDefinition:Do};function Do(){}const Ro="object"==typeof self?self:globalThis,Po=e=>((e,t)=>{const n=(t,n)=>(e.set(n,t),t),r=i=>{if(e.has(i))return e.get(i);const[o,a]=t[i];switch(o){case 0:case-1:return n(a,i);case 1:{const e=n([],i);for(const t of a)e.push(r(t));return e}case 2:{const e=n({},i);for(const[t,n]of a)e[r(t)]=r(n);return e}case 3:return n(new Date(a),i);case 4:{const{source:e,flags:t}=a;return n(new RegExp(e,t),i)}case 5:{const e=n(new Map,i);for(const[t,n]of a)e.set(r(t),r(n));return e}case 6:{const e=n(new Set,i);for(const t of a)e.add(r(t));return e}case 7:{const{name:e,message:t}=a;return n(new Ro[e](t),i)}case 8:return n(BigInt(a),i);case"BigInt":return n(Object(BigInt(a)),i);case"ArrayBuffer":return n(new Uint8Array(a).buffer,a);case"DataView":{const{buffer:e}=new Uint8Array(a);return n(new DataView(e),a)}}return n(new Ro[o](a),i)};return r})(new Map,e)(0),No="",{toString:Lo}={},{keys:Mo}=Object,Oo=e=>{const t=typeof e;if("object"!==t||!e)return[0,t];const n=Lo.call(e).slice(8,-1);switch(n){case"Array":return[1,No];case"Object":return[2,No];case"Date":return[3,No];case"RegExp":return[4,No];case"Map":return[5,No];case"Set":return[6,No];case"DataView":return[1,n]}return n.includes("Array")?[1,n]:n.includes("Error")?[7,n]:[2,n]},_o=([e,t])=>0===e&&("function"===t||"symbol"===t),Wo=(e,{json:t,lossy:n}={})=>{const r=[];return((e,t,n,r)=>{const i=(e,t)=>{const i=r.push(e)-1;return n.set(t,i),i},o=r=>{if(n.has(r))return n.get(r);let[a,l]=Oo(r);switch(a){case 0:{let t=r;switch(l){case"bigint":a=8,t=r.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);t=null;break;case"undefined":return i([-1],r)}return i([a,t],r)}case 1:{if(l){let e=r;return"DataView"===l?e=new Uint8Array(r.buffer):"ArrayBuffer"===l&&(e=new Uint8Array(r)),i([l,[...e]],r)}const e=[],t=i([a,e],r);for(const n of r)e.push(o(n));return t}case 2:{if(l)switch(l){case"BigInt":return i([l,r.toString()],r);case"Boolean":case"Number":case"String":return i([l,r.valueOf()],r)}if(t&&"toJSON"in r)return o(r.toJSON());const n=[],s=i([a,n],r);for(const t of Mo(r))!e&&_o(Oo(r[t]))||n.push([o(t),o(r[t])]);return s}case 3:return i([a,r.toISOString()],r);case 4:{const{source:e,flags:t}=r;return i([a,{source:e,flags:t}],r)}case 5:{const t=[],n=i([a,t],r);for(const[i,a]of r)(e||!_o(Oo(i))&&!_o(Oo(a)))&&t.push([o(i),o(a)]);return n}case 6:{const t=[],n=i([a,t],r);for(const i of r)!e&&_o(Oo(i))||t.push(o(i));return n}}const{message:s}=r;return i([a,{name:l,message:s}],r)};return o})(!(t||n),!!t,new Map,r)(e),r},$o="function"==typeof structuredClone?(e,t)=>t&&("json"in t||"lossy"in t)?Po(Wo(e,t)):structuredClone(e):(e,t)=>Po(Wo(e,t));function Ho(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function qo(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}const Uo=function(e){if(null==e)return Go;if("function"==typeof e)return Vo(e);if("object"==typeof e)return Array.isArray(e)?function(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Uo(e[n]);return Vo(r);function r(...e){let n=-1;for(;++n<t.length;)if(t[n].apply(this,e))return!0;return!1}}(e):function(e){const t=e;return Vo(n);function n(n){const r=n;let i;for(i in e)if(r[i]!==t[i])return!1;return!0}}(e);if("string"==typeof e)return function(e){return Vo(t);function t(t){return t&&t.type===e}}(e);throw new Error("Expected function, string, or object as test")};function Vo(e){return function(t,n,r){return Boolean(function(e){return null!==e&&"object"==typeof e&&"type"in e}(t)&&e.call(this,t,"number"==typeof n?n:void 0,r||void 0))}}function Go(){return!0}const Qo=[],Yo=!0,Jo=!1;function Xo(e,t,n,r){let i;"function"==typeof t&&"function"!=typeof n?(r=n,n=t):i=t;const o=Uo(i),a=r?-1:1;!function e(i,l,s){const c=i&&"object"==typeof i?i:{};if("string"==typeof c.type){const e="string"==typeof c.tagName?c.tagName:"string"==typeof c.name?c.name:void 0;Object.defineProperty(d,"name",{value:"node ("+i.type+(e?"<"+e+">":"")+")"})}return d;function d(){let c,d,u,p=Qo;if((!t||o(i,l,s[s.length-1]||void 0))&&(p=function(e){if(Array.isArray(e))return e;if("number"==typeof e)return[Yo,e];return null==e?Qo:[e]}(n(i,s)),p[0]===Jo))return p;if("children"in i&&i.children){const t=i;if(t.children&&"skip"!==p[0])for(d=(r?t.children.length:-1)+a,u=s.concat(t);d>-1&&d<t.children.length;){const n=t.children[d];if(c=e(n,d,u)(),c[0]===Jo)return c;d="number"==typeof c[1]?c[1]:d+a}}return p}}(e,void 0,[])()}function Ko(e,t,n,r){let i,o,a;"function"==typeof t&&"function"!=typeof n?(o=void 0,a=t,i=n):(o=t,a=n,i=r),Xo(e,o,function(e,t){const n=t[t.length-1],r=n?n.children.indexOf(e):void 0;return a(e,r,n)},i)}const Zo={}.hasOwnProperty,ea={};function ta(e,t){e.position&&(t.position=function(e){const t=lr(e),n=ar(e);if(t&&n)return{start:t,end:n}}(e))}function na(e,t){let n=t;if(e&&e.data){const t=e.data.hName,r=e.data.hChildren,i=e.data.hProperties;if("string"==typeof t)if("element"===n.type)n.tagName=t;else{n={type:"element",tagName:t,properties:{},children:"children"in n?n.children:[n]}}"element"===n.type&&i&&Object.assign(n.properties,$o(i)),"children"in n&&n.children&&null!=r&&(n.children=r)}return n}function ra(e,t){const n=t.data||{},r=!("value"in t)||Zo.call(n,"hProperties")||Zo.call(n,"hChildren")?{type:"element",tagName:"div",properties:{},children:e.all(t)}:{type:"text",value:t.value};return e.patch(t,r),e.applyData(t,r)}function ia(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:"\n"});++r<e.length;)r&&n.push({type:"text",value:"\n"}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:"\n"}),n}function oa(e){let t=0,n=e.charCodeAt(t);for(;9===n||32===n;)t++,n=e.charCodeAt(t);return e.slice(t)}function aa(e,t){const n=function(e,t){const n=t||ea,r=new Map,i=new Map,o=new Map,a={...Bo,...n.handlers},l={all:function(e){const t=[];if("children"in e){const n=e.children;let r=-1;for(;++r<n.length;){const i=l.one(n[r],e);if(i){if(r&&"break"===n[r-1].type&&(Array.isArray(i)||"text"!==i.type||(i.value=oa(i.value)),!Array.isArray(i)&&"element"===i.type)){const e=i.children[0];e&&"text"===e.type&&(e.value=oa(e.value))}Array.isArray(i)?t.push(...i):t.push(i)}}}return t},applyData:na,definitionById:r,footnoteById:i,footnoteCounts:o,footnoteOrder:[],handlers:a,one:function(e,t){const n=e.type,r=l.handlers[n];if(Zo.call(l.handlers,n)&&r)return r(l,e,t);if(l.options.passThrough&&l.options.passThrough.includes(n)){if("children"in e){const{children:t,...n}=e,r=$o(n);return r.children=l.all(e),r}return $o(e)}return(l.options.unknownHandler||ra)(l,e,t)},options:n,patch:ta,wrap:ia};return Ko(e,function(e){if("definition"===e.type||"footnoteDefinition"===e.type){const t="definition"===e.type?r:i,n=String(e.identifier).toUpperCase();t.has(n)||t.set(n,e)}}),l}(e,t),r=n.one(e,void 0),i=function(e){const t="string"==typeof e.options.clobberPrefix?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||Ho,r=e.options.footnoteBackLabel||qo,i=e.options.footnoteLabel||"Footnotes",o=e.options.footnoteLabelTagName||"h2",a=e.options.footnoteLabelProperties||{className:["sr-only"]},l=[];let s=-1;for(;++s<e.footnoteOrder.length;){const i=e.footnoteById.get(e.footnoteOrder[s]);if(!i)continue;const o=e.all(i),a=String(i.identifier).toUpperCase(),c=ii(a.toLowerCase());let d=0;const u=[],p=e.footnoteCounts.get(a);for(;void 0!==p&&++d<=p;){u.length>0&&u.push({type:"text",value:" "});let e="string"==typeof n?n:n(s,d);"string"==typeof e&&(e={type:"text",value:e}),u.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+c+(d>1?"-"+d:""),dataFootnoteBackref:"",ariaLabel:"string"==typeof r?r:r(s,d),className:["data-footnote-backref"]},children:Array.isArray(e)?e:[e]})}const f=o[o.length-1];if(f&&"element"===f.type&&"p"===f.tagName){const e=f.children[f.children.length-1];e&&"text"===e.type?e.value+=" ":f.children.push({type:"text",value:" "}),f.children.push(...u)}else o.push(...u);const h={type:"element",tagName:"li",properties:{id:t+"fn-"+c},children:e.wrap(o,!0)};e.patch(i,h),l.push(h)}if(0!==l.length)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...$o(a),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:"\n"},{type:"element",tagName:"ol",properties:{},children:e.wrap(l,!0)},{type:"text",value:"\n"}]}}(n),o=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&o.children.push({type:"text",value:"\n"},i),o}function la(e,t){return e&&"run"in e?async function(n,r){const i=aa(n,{file:r,...t});await e.run(i,r)}:function(n,r){return aa(n,{file:r,...e||t})}}function sa(e){if(e)throw e}var ca,da;const ua=i(function(){if(da)return ca;da=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===t.call(e)},o=function(n){if(!n||"[object Object]"!==t.call(n))return!1;var r,i=e.call(n,"constructor"),o=n.constructor&&n.constructor.prototype&&e.call(n.constructor.prototype,"isPrototypeOf");if(n.constructor&&!i&&!o)return!1;for(r in n);return void 0===r||e.call(n,r)},a=function(e,t){n&&"__proto__"===t.name?n(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},l=function(t,n){if("__proto__"===n){if(!e.call(t,n))return;if(r)return r(t,n).value}return t[n]};return ca=function e(){var t,n,r,s,c,d,u=arguments[0],p=1,f=arguments.length,h=!1;for("boolean"==typeof u&&(h=u,u=arguments[1]||{},p=2),(null==u||"object"!=typeof u&&"function"!=typeof u)&&(u={});p<f;++p)if(null!=(t=arguments[p]))for(n in t)r=l(u,n),u!==(s=l(t,n))&&(h&&s&&(o(s)||(c=i(s)))?(c?(c=!1,d=r&&i(r)?r:[]):d=r&&o(r)?r:{},a(u,{name:n,newValue:e(h,d,s)})):void 0!==s&&a(u,{name:n,newValue:s}));return u}}());function pa(e){if("object"!=typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)}function fa(){const e=[],t={run:function(...t){let n=-1;const r=t.pop();if("function"!=typeof r)throw new TypeError("Expected function as last argument, not "+r);!function i(o,...a){const l=e[++n];let s=-1;if(o)r(o);else{for(;++s<t.length;)null!==a[s]&&void 0!==a[s]||(a[s]=t[s]);t=a,l?function(e,t){let n;return r;function r(...t){const r=e.length>t.length;let l;r&&t.push(i);try{l=e.apply(this,t)}catch(o){if(r&&n)throw o;return i(o)}r||(l&&l.then&&"function"==typeof l.then?l.then(a,i):l instanceof Error?i(l):a(l))}function i(e,...r){n||(n=!0,t(e,...r))}function a(e){i(null,e)}}(l,i)(...a):r(null,...a)}}(null,...t)},use:function(n){if("function"!=typeof n)throw new TypeError("Expected `middelware` to be a function, not "+n);return e.push(n),t}};return t}const ha={basename:function(e,t){if(void 0!==t&&"string"!=typeof t)throw new TypeError('"ext" argument must be a string');ga(e);let n,r=0,i=-1,o=e.length;if(void 0===t||0===t.length||t.length>e.length){for(;o--;)if(47===e.codePointAt(o)){if(n){r=o+1;break}}else i<0&&(n=!0,i=o+1);return i<0?"":e.slice(r,i)}if(t===e)return"";let a=-1,l=t.length-1;for(;o--;)if(47===e.codePointAt(o)){if(n){r=o+1;break}}else a<0&&(n=!0,a=o+1),l>-1&&(e.codePointAt(o)===t.codePointAt(l--)?l<0&&(i=o):(l=-1,i=a));r===i?i=a:i<0&&(i=e.length);return e.slice(r,i)},dirname:function(e){if(ga(e),0===e.length)return".";let t,n=-1,r=e.length;for(;--r;)if(47===e.codePointAt(r)){if(t){n=r;break}}else t||(t=!0);return n<0?47===e.codePointAt(0)?"/":".":1===n&&47===e.codePointAt(0)?"//":e.slice(0,n)},extname:function(e){ga(e);let t,n=e.length,r=-1,i=0,o=-1,a=0;for(;n--;){const l=e.codePointAt(n);if(47!==l)r<0&&(t=!0,r=n+1),46===l?o<0?o=n:1!==a&&(a=1):o>-1&&(a=-1);else if(t){i=n+1;break}}if(o<0||r<0||0===a||1===a&&o===r-1&&o===i+1)return"";return e.slice(o,r)},join:function(...e){let t,n=-1;for(;++n<e.length;)ga(e[n]),e[n]&&(t=void 0===t?e[n]:t+"/"+e[n]);return void 0===t?".":function(e){ga(e);const t=47===e.codePointAt(0);let n=function(e,t){let n,r,i="",o=0,a=-1,l=0,s=-1;for(;++s<=e.length;){if(s<e.length)n=e.codePointAt(s);else{if(47===n)break;n=47}if(47===n){if(a===s-1||1===l);else if(a!==s-1&&2===l){if(i.length<2||2!==o||46!==i.codePointAt(i.length-1)||46!==i.codePointAt(i.length-2))if(i.length>2){if(r=i.lastIndexOf("/"),r!==i.length-1){r<0?(i="",o=0):(i=i.slice(0,r),o=i.length-1-i.lastIndexOf("/")),a=s,l=0;continue}}else if(i.length>0){i="",o=0,a=s,l=0;continue}t&&(i=i.length>0?i+"/..":"..",o=2)}else i.length>0?i+="/"+e.slice(a+1,s):i=e.slice(a+1,s),o=s-a-1;a=s,l=0}else 46===n&&l>-1?l++:l=-1}return i}(e,!t);0!==n.length||t||(n=".");n.length>0&&47===e.codePointAt(e.length-1)&&(n+="/");return t?"/"+n:n}(t)},sep:"/"};function ga(e){if("string"!=typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const ma={cwd:function(){return"/"}};function xa(e){return Boolean(null!==e&&"object"==typeof e&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&void 0===e.auth)}function ya(e){if("string"==typeof e)e=new URL(e);else if(!xa(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if("file:"!==e.protocol){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return function(e){if(""!==e.hostname){const e=new TypeError('File URL host must be "localhost" or empty on darwin');throw e.code="ERR_INVALID_FILE_URL_HOST",e}const t=e.pathname;let n=-1;for(;++n<t.length;)if(37===t.codePointAt(n)&&50===t.codePointAt(n+1)){const e=t.codePointAt(n+2);if(70===e||102===e){const e=new TypeError("File URL path must not include encoded / characters");throw e.code="ERR_INVALID_FILE_URL_PATH",e}}return decodeURIComponent(t)}(e)}const ba=["history","path","basename","stem","extname","dirname"];class va{constructor(e){let t;t=e?xa(e)?{path:e}:"string"==typeof e||function(e){return Boolean(e&&"object"==typeof e&&"byteLength"in e&&"byteOffset"in e)}(e)?{value:e}:e:{},this.cwd="cwd"in t?"":ma.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let n,r=-1;for(;++r<ba.length;){const e=ba[r];e in t&&void 0!==t[e]&&null!==t[e]&&(this[e]="history"===e?[...t[e]]:t[e])}for(n in t)ba.includes(n)||(this[n]=t[n])}get basename(){return"string"==typeof this.path?ha.basename(this.path):void 0}set basename(e){ka(e,"basename"),wa(e,"basename"),this.path=ha.join(this.dirname||"",e)}get dirname(){return"string"==typeof this.path?ha.dirname(this.path):void 0}set dirname(e){Sa(this.basename,"dirname"),this.path=ha.join(e||"",this.basename)}get extname(){return"string"==typeof this.path?ha.extname(this.path):void 0}set extname(e){if(wa(e,"extname"),Sa(this.dirname,"extname"),e){if(46!==e.codePointAt(0))throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=ha.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){xa(e)&&(e=ya(e)),ka(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return"string"==typeof this.path?ha.basename(this.path,this.extname):void 0}set stem(e){ka(e,"stem"),wa(e,"stem"),this.path=ha.join(this.dirname||"",e+(this.extname||""))}fail(e,t,n){const r=this.message(e,t,n);throw r.fatal=!0,r}info(e,t,n){const r=this.message(e,t,n);return r.fatal=void 0,r}message(e,t,n){const r=new fr(e,t,n);return this.path&&(r.name=this.path+":"+r.name,r.file=this.path),r.fatal=!1,this.messages.push(r),r}toString(e){if(void 0===this.value)return"";if("string"==typeof this.value)return this.value;return new TextDecoder(e||void 0).decode(this.value)}}function wa(e,t){if(e&&e.includes(ha.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+ha.sep+"`")}function ka(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function Sa(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}const Ca=function(e){const t=this.constructor.prototype,n=t[e],r=function(){return n.apply(r,arguments)};return Object.setPrototypeOf(r,t),r},ja={}.hasOwnProperty;class Fa extends Ca{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=fa()}copy(){const e=new Fa;let t=-1;for(;++t<this.attachers.length;){const n=this.attachers[t];e.use(...n)}return e.data(ua(!0,{},this.namespace)),e}data(e,t){return"string"==typeof e?2===arguments.length?(Ia("data",this.frozen),this.namespace[e]=t,this):ja.call(this.namespace,e)&&this.namespace[e]||void 0:e?(Ia("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[t,...n]=this.attachers[this.freezeIndex];if(!1===n[0])continue;!0===n[0]&&(n[0]=void 0);const r=t.call(e,...n);"function"==typeof r&&this.transformers.use(r)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const t=Da(e),n=this.parser||this.Parser;return za("parse",n),n(String(t),t)}process(e,t){const n=this;return this.freeze(),za("process",this.parser||this.Parser),Aa("process",this.compiler||this.Compiler),t?r(void 0,t):new Promise(r);function r(r,i){const o=Da(e),a=n.parse(o);function l(e,n){e||!n?i(e):r?r(n):t(void 0,n)}n.run(a,o,function(e,t,r){if(e||!t||!r)return l(e);const i=t,o=n.stringify(i,r);var a;"string"==typeof(a=o)||function(e){return Boolean(e&&"object"==typeof e&&"byteLength"in e&&"byteOffset"in e)}(a)?r.value=o:r.result=o,l(e,r)})}}processSync(e){let t,n=!1;return this.freeze(),za("processSync",this.parser||this.Parser),Aa("processSync",this.compiler||this.Compiler),this.process(e,function(e,r){n=!0,sa(e),t=r}),Ba("processSync","process",n),t}run(e,t,n){Ta(e),this.freeze();const r=this.transformers;return n||"function"!=typeof t||(n=t,t=void 0),n?i(void 0,n):new Promise(i);function i(i,o){const a=Da(t);r.run(e,a,function(t,r,a){const l=r||e;t?o(t):i?i(l):n(void 0,l,a)})}}runSync(e,t){let n,r=!1;return this.run(e,t,function(e,t){sa(e),n=t,r=!0}),Ba("runSync","run",r),n}stringify(e,t){this.freeze();const n=Da(t),r=this.compiler||this.Compiler;return Aa("stringify",r),Ta(e),r(e,n)}use(e,...t){const n=this.attachers,r=this.namespace;if(Ia("use",this.frozen),null==e);else if("function"==typeof e)l(e,t);else{if("object"!=typeof e)throw new TypeError("Expected usable value, not `"+e+"`");Array.isArray(e)?a(e):o(e)}return this;function i(e){if("function"==typeof e)l(e,[]);else{if("object"!=typeof e)throw new TypeError("Expected usable value, not `"+e+"`");if(Array.isArray(e)){const[t,...n]=e;l(t,n)}else o(e)}}function o(e){if(!("plugins"in e)&&!("settings"in e))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(e.plugins),e.settings&&(r.settings=ua(!0,r.settings,e.settings))}function a(e){let t=-1;if(null==e);else{if(!Array.isArray(e))throw new TypeError("Expected a list of plugins, not `"+e+"`");for(;++t<e.length;){i(e[t])}}}function l(e,t){let r=-1,i=-1;for(;++r<n.length;)if(n[r][0]===e){i=r;break}if(-1===i)n.push([e,...t]);else if(t.length>0){let[r,...o]=t;const a=n[i][1];pa(a)&&pa(r)&&(r=ua(!0,a,r)),n[i]=[e,r,...o]}}}}const Ea=(new Fa).freeze();function za(e,t){if("function"!=typeof t)throw new TypeError("Cannot `"+e+"` without `parser`")}function Aa(e,t){if("function"!=typeof t)throw new TypeError("Cannot `"+e+"` without `compiler`")}function Ia(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Ta(e){if(!pa(e)||"string"!=typeof e.type)throw new TypeError("Expected node, got `"+e+"`")}function Ba(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Da(e){return function(e){return Boolean(e&&"object"==typeof e&&"message"in e&&"messages"in e)}(e)?e:new va(e)}const Ra=[],Pa={allowDangerousHtml:!0},Na=/^(https?|ircs?|mailto|xmpp)$/i,La=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Ma(e){const t=function(e){const t=e.rehypePlugins||Ra,n=e.remarkPlugins||Ra,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...Pa}:Pa,i=Ea().use(Eo).use(n).use(la,r).use(t);return i}(e),n=function(e){const t=e.children||"",n=new va;"string"==typeof t&&(n.value=t);return n}(e);return function(e,t){const n=t.allowedElements,i=t.allowElement,o=t.components,a=t.disallowedElements,l=t.skipHtml,s=t.unwrapDisallowed,c=t.urlTransform||Oa;for(const r of La)Object.hasOwn(t,r.from)&&sn((r.from,r.to&&r.to,r.id));return Ko(e,d),vr(e,{Fragment:r.Fragment,components:o,ignoreInvalidStyle:!0,jsx:r.jsx,jsxs:r.jsxs,passKeys:!0,passNode:!0});function d(e,t,r){if("raw"===e.type&&r&&"number"==typeof t)return l?r.children.splice(t,1):r.children[t]={type:"text",value:e.value},t;if("element"===e.type){let t;for(t in Ir)if(Object.hasOwn(Ir,t)&&Object.hasOwn(e.properties,t)){const n=e.properties[t],r=Ir[t];(null===r||r.includes(e.tagName))&&(e.properties[t]=c(String(n||""),t,e))}}if("element"===e.type){let o=n?!n.includes(e.tagName):!!a&&a.includes(e.tagName);if(!o&&i&&"number"==typeof t&&(o=!i(e,t,r)),o&&r&&"number"==typeof t)return s&&e.children?r.children.splice(t,1,...e.children):r.children.splice(t,1),t}}}(t.runSync(t.parse(n),n),e)}function Oa(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return-1===t||-1!==i&&t>i||-1!==n&&t>n||-1!==r&&t>r||Na.test(e.slice(0,t))?e:""}function _a(e,t){const n=String(e);if("string"!=typeof t)throw new TypeError("Expected character");let r=0,i=n.indexOf(t);for(;-1!==i;)r++,i=n.indexOf(t,i+t.length);return r}function Wa(e,t,n){const r=Uo((n||{}).ignore||[]),i=function(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const e=n[r];t.push([$a(e[0]),Ha(e[1])])}return t}(t);let o=-1;for(;++o<i.length;)Xo(e,"text",a);function a(e,t){let n,a=-1;for(;++a<t.length;){const e=t[a],i=n?n.children:void 0;if(r(e,i?i.indexOf(e):void 0,n))return;n=e}if(n)return function(e,t){const n=t[t.length-1],r=i[o][0],a=i[o][1];let l=0;const s=n.children.indexOf(e);let c=!1,d=[];r.lastIndex=0;let u=r.exec(e.value);for(;u;){const n=u.index,i={index:u.index,input:u.input,stack:[...t,e]};let o=a(...u,i);if("string"==typeof o&&(o=o.length>0?{type:"text",value:o}:void 0),!1===o?r.lastIndex=n+1:(l!==n&&d.push({type:"text",value:e.value.slice(l,n)}),Array.isArray(o)?d.push(...o):o&&d.push(o),l=n+u[0].length,c=!0),!r.global)break;u=r.exec(e.value)}c?(l<e.value.length&&d.push({type:"text",value:e.value.slice(l)}),n.children.splice(s,1,...d)):d=[e];return s+d.length}(e,t)}}function $a(e){return"string"==typeof e?new RegExp(function(e){if("string"!=typeof e)throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}(e),"g"):e}function Ha(e){return"function"==typeof e?e:function(){return e}}const qa="phrasing",Ua=["autolink","link","image","label"];function Va(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function Ga(e){this.config.enter.autolinkProtocol.call(this,e)}function Qa(e){this.config.exit.autolinkProtocol.call(this,e)}function Ya(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function Ja(e){this.config.exit.autolinkEmail.call(this,e)}function Xa(e){this.exit(e)}function Ka(e){Wa(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,Za],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),el]],{ignore:["link","linkReference"]})}function Za(e,t,n,r,i){let o="";if(!tl(i))return!1;if(/^w/i.test(t)&&(n=t+n,t="",o="http://"),!function(e){const t=e.split(".");if(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))return!1;return!0}(n))return!1;const a=function(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const i=_a(e,"(");let o=_a(e,")");for(;-1!==r&&i>o;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),o++;return[e,n]}(n+r);if(!a[0])return!1;const l={type:"link",title:null,url:o+t+a[0],children:[{type:"text",value:t+a[0]}]};return a[1]?[l,{type:"text",value:a[1]}]:l}function el(e,t,n,r){return!(!tl(r,!0)||/[-\d_]$/.test(n))&&{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function tl(e,t){const n=e.input.charCodeAt(e.index-1);return(0===e.index||ni(n)||ti(n))&&(!t||47!==n)}function nl(){this.buffer()}function rl(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function il(){this.buffer()}function ol(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function al(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=qr(this.sliceSerialize(e)).toLowerCase(),n.label=t}function ll(e){this.exit(e)}function sl(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=qr(this.sliceSerialize(e)).toLowerCase(),n.label=t}function cl(e){this.exit(e)}function dl(e,t,n,r){const i=n.createTracker(r);let o=i.move("[^");const a=n.enter("footnoteReference"),l=n.enter("reference");return o+=i.move(n.safe(n.associationId(e),{after:"]",before:o})),l(),a(),o+=i.move("]"),o}function ul(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:function(e,n,r,i){const o=r.createTracker(i);let a=o.move("[^");const l=r.enter("footnoteDefinition"),s=r.enter("label");a+=o.move(r.safe(r.associationId(e),{before:a,after:"]"})),s(),a+=o.move("]:"),e.children&&e.children.length>0&&(o.shift(4),a+=o.move((t?"\n":" ")+r.indentLines(r.containerFlow(e,o.current()),t?fl:pl)));return l(),a},footnoteReference:dl},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]}}function pl(e,t,n){return 0===t?e:fl(e,t,n)}function fl(e,t,n){return(n?"":"    ")+e}dl.peek=function(){return"["};const hl=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];function gl(e){this.enter({type:"delete",children:[]},e)}function ml(e){this.exit(e)}function xl(e,t,n,r){const i=n.createTracker(r),o=n.enter("strikethrough");let a=i.move("~~");return a+=n.containerPhrasing(e,{...i.current(),before:a,after:"~"}),a+=i.move("~~"),o(),a}function yl(e){return e.length}function bl(e){return null==e?"":String(e)}function vl(e){const t="string"==typeof e?e.codePointAt(0):0;return 67===t||99===t?99:76===t||108===t?108:82===t||114===t?114:0}function wl(e,t,n){return">"+(n?"":" ")+e}function kl(e,t){return Sl(e,t.inConstruct,!0)&&!Sl(e,t.notInConstruct,!1)}function Sl(e,t,n){if("string"==typeof t&&(t=[t]),!t||0===t.length)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function Cl(e,t,n,r){let i=-1;for(;++i<n.unsafe.length;)if("\n"===n.unsafe[i].character&&kl(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return"\\\n"}function jl(e,t,n){return(n?"":"    ")+e}function Fl(e){const t=e.options.quote||'"';if('"'!==t&&"'"!==t)throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function El(e){return"&#x"+e.toString(16).toUpperCase()+";"}function zl(e,t,n){const r=ci(e),i=ci(t);return void 0===r?void 0===i?"_"===n?{inside:!0,outside:!0}:{inside:!1,outside:!1}:1===i?{inside:!0,outside:!0}:{inside:!1,outside:!0}:1===r?void 0===i?{inside:!1,outside:!1}:1===i?{inside:!0,outside:!0}:{inside:!1,outside:!1}:void 0===i?{inside:!1,outside:!1}:1===i?{inside:!0,outside:!1}:{inside:!1,outside:!1}}function Al(e,t,n,r){const i=function(e){const t=e.options.emphasis||"*";if("*"!==t&&"_"!==t)throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}(n),o=n.enter("emphasis"),a=n.createTracker(r),l=a.move(i);let s=a.move(n.containerPhrasing(e,{after:i,before:l,...a.current()}));const c=s.charCodeAt(0),d=zl(r.before.charCodeAt(r.before.length-1),c,i);d.inside&&(s=El(c)+s.slice(1));const u=s.charCodeAt(s.length-1),p=zl(r.after.charCodeAt(0),u,i);p.inside&&(s=s.slice(0,-1)+El(u));const f=a.move(i);return o(),n.attentionEncodeSurroundingInfo={after:p.outside,before:d.outside},l+s+f}function Il(e){return e.value||""}function Tl(e,t,n,r){const i=Fl(n),o='"'===i?"Quote":"Apostrophe",a=n.enter("image");let l=n.enter("label");const s=n.createTracker(r);let c=s.move("![");return c+=s.move(n.safe(e.alt,{before:c,after:"]",...s.current()})),c+=s.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),c+=s.move("<"),c+=s.move(n.safe(e.url,{before:c,after:">",...s.current()})),c+=s.move(">")):(l=n.enter("destinationRaw"),c+=s.move(n.safe(e.url,{before:c,after:e.title?" ":")",...s.current()}))),l(),e.title&&(l=n.enter(`title${o}`),c+=s.move(" "+i),c+=s.move(n.safe(e.title,{before:c,after:i,...s.current()})),c+=s.move(i),l()),c+=s.move(")"),a(),c}function Bl(e,t,n,r){const i=e.referenceType,o=n.enter("imageReference");let a=n.enter("label");const l=n.createTracker(r);let s=l.move("![");const c=n.safe(e.alt,{before:s,after:"]",...l.current()});s+=l.move(c+"]["),a();const d=n.stack;n.stack=[],a=n.enter("reference");const u=n.safe(n.associationId(e),{before:s,after:"]",...l.current()});return a(),n.stack=d,o(),"full"!==i&&c&&c===u?"shortcut"===i?s=s.slice(0,-1):s+=l.move("]"):s+=l.move(u+"]"),s}function Dl(e,t,n){let r=e.value||"",i="`",o=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++o<n.unsafe.length;){const e=n.unsafe[o],t=n.compilePattern(e);let i;if(e.atBreak)for(;i=t.exec(r);){let e=i.index;10===r.charCodeAt(e)&&13===r.charCodeAt(e-1)&&e--,r=r.slice(0,e)+" "+r.slice(i.index+1)}}return i+r+i}function Rl(e,t){const n=Br(e);return Boolean(!t.options.resourceLink&&e.url&&!e.title&&e.children&&1===e.children.length&&"text"===e.children[0].type&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}function Pl(e,t,n,r){const i=Fl(n),o='"'===i?"Quote":"Apostrophe",a=n.createTracker(r);let l,s;if(Rl(e,n)){const t=n.stack;n.stack=[],l=n.enter("autolink");let r=a.move("<");return r+=a.move(n.containerPhrasing(e,{before:r,after:">",...a.current()})),r+=a.move(">"),l(),n.stack=t,r}l=n.enter("link"),s=n.enter("label");let c=a.move("[");return c+=a.move(n.containerPhrasing(e,{before:c,after:"](",...a.current()})),c+=a.move("]("),s(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(s=n.enter("destinationLiteral"),c+=a.move("<"),c+=a.move(n.safe(e.url,{before:c,after:">",...a.current()})),c+=a.move(">")):(s=n.enter("destinationRaw"),c+=a.move(n.safe(e.url,{before:c,after:e.title?" ":")",...a.current()}))),s(),e.title&&(s=n.enter(`title${o}`),c+=a.move(" "+i),c+=a.move(n.safe(e.title,{before:c,after:i,...a.current()})),c+=a.move(i),s()),c+=a.move(")"),l(),c}function Nl(e,t,n,r){const i=e.referenceType,o=n.enter("linkReference");let a=n.enter("label");const l=n.createTracker(r);let s=l.move("[");const c=n.containerPhrasing(e,{before:s,after:"]",...l.current()});s+=l.move(c+"]["),a();const d=n.stack;n.stack=[],a=n.enter("reference");const u=n.safe(n.associationId(e),{before:s,after:"]",...l.current()});return a(),n.stack=d,o(),"full"!==i&&c&&c===u?"shortcut"===i?s=s.slice(0,-1):s+=l.move("]"):s+=l.move(u+"]"),s}function Ll(e){const t=e.options.bullet||"*";if("*"!==t&&"+"!==t&&"-"!==t)throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function Ml(e){const t=e.options.rule||"*";if("*"!==t&&"-"!==t&&"_"!==t)throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}xl.peek=function(){return"~"},Al.peek=function(e,t,n){return n.options.emphasis||"*"},Il.peek=function(){return"<"},Tl.peek=function(){return"!"},Bl.peek=function(){return"!"},Dl.peek=function(){return"`"},Pl.peek=function(e,t,n){return Rl(e,n)?"<":"["},Nl.peek=function(){return"["};const Ol=Uo(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function _l(e,t,n,r){const i=function(e){const t=e.options.strong||"*";if("*"!==t&&"_"!==t)throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}(n),o=n.enter("strong"),a=n.createTracker(r),l=a.move(i+i);let s=a.move(n.containerPhrasing(e,{after:i,before:l,...a.current()}));const c=s.charCodeAt(0),d=zl(r.before.charCodeAt(r.before.length-1),c,i);d.inside&&(s=El(c)+s.slice(1));const u=s.charCodeAt(s.length-1),p=zl(r.after.charCodeAt(0),u,i);p.inside&&(s=s.slice(0,-1)+El(u));const f=a.move(i+i);return o(),n.attentionEncodeSurroundingInfo={after:p.outside,before:d.outside},l+s+f}_l.peek=function(e,t,n){return n.options.strong||"*"};const Wl={blockquote:function(e,t,n,r){const i=n.enter("blockquote"),o=n.createTracker(r);o.move("> "),o.shift(2);const a=n.indentLines(n.containerFlow(e,o.current()),wl);return i(),a},break:Cl,code:function(e,t,n,r){const i=function(e){const t=e.options.fence||"`";if("`"!==t&&"~"!==t)throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}(n),o=e.value||"",a="`"===i?"GraveAccent":"Tilde";if(function(e,t){return Boolean(!1===t.options.fences&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}(e,n)){const e=n.enter("codeIndented"),t=n.indentLines(o,jl);return e(),t}const l=n.createTracker(r),s=i.repeat(Math.max(function(e,t){const n=String(e);let r=n.indexOf(t),i=r,o=0,a=0;if("string"!=typeof t)throw new TypeError("Expected substring");for(;-1!==r;)r===i?++o>a&&(a=o):o=1,i=r+t.length,r=n.indexOf(t,i);return a}(o,i)+1,3)),c=n.enter("codeFenced");let d=l.move(s);if(e.lang){const t=n.enter(`codeFencedLang${a}`);d+=l.move(n.safe(e.lang,{before:d,after:" ",encode:["`"],...l.current()})),t()}if(e.lang&&e.meta){const t=n.enter(`codeFencedMeta${a}`);d+=l.move(" "),d+=l.move(n.safe(e.meta,{before:d,after:"\n",encode:["`"],...l.current()})),t()}return d+=l.move("\n"),o&&(d+=l.move(o+"\n")),d+=l.move(s),c(),d},definition:function(e,t,n,r){const i=Fl(n),o='"'===i?"Quote":"Apostrophe",a=n.enter("definition");let l=n.enter("label");const s=n.createTracker(r);let c=s.move("[");return c+=s.move(n.safe(n.associationId(e),{before:c,after:"]",...s.current()})),c+=s.move("]: "),l(),!e.url||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),c+=s.move("<"),c+=s.move(n.safe(e.url,{before:c,after:">",...s.current()})),c+=s.move(">")):(l=n.enter("destinationRaw"),c+=s.move(n.safe(e.url,{before:c,after:e.title?" ":"\n",...s.current()}))),l(),e.title&&(l=n.enter(`title${o}`),c+=s.move(" "+i),c+=s.move(n.safe(e.title,{before:c,after:i,...s.current()})),c+=s.move(i),l()),a(),c},emphasis:Al,hardBreak:Cl,heading:function(e,t,n,r){const i=Math.max(Math.min(6,e.depth||1),1),o=n.createTracker(r);if(function(e,t){let n=!1;return Ko(e,function(e){if("value"in e&&/\r?\n|\r/.test(e.value)||"break"===e.type)return n=!0,Jo}),Boolean((!e.depth||e.depth<3)&&Br(e)&&(t.options.setext||n))}(e,n)){const t=n.enter("headingSetext"),r=n.enter("phrasing"),a=n.containerPhrasing(e,{...o.current(),before:"\n",after:"\n"});return r(),t(),a+"\n"+(1===i?"=":"-").repeat(a.length-(Math.max(a.lastIndexOf("\r"),a.lastIndexOf("\n"))+1))}const a="#".repeat(i),l=n.enter("headingAtx"),s=n.enter("phrasing");o.move(a+" ");let c=n.containerPhrasing(e,{before:"# ",after:"\n",...o.current()});return/^[\t ]/.test(c)&&(c=El(c.charCodeAt(0))+c.slice(1)),c=c?a+" "+c:a,n.options.closeAtx&&(c+=" "+a),s(),l(),c},html:Il,image:Tl,imageReference:Bl,inlineCode:Dl,link:Pl,linkReference:Nl,list:function(e,t,n,r){const i=n.enter("list"),o=n.bulletCurrent;let a=e.ordered?function(e){const t=e.options.bulletOrdered||".";if("."!==t&&")"!==t)throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}(n):Ll(n);const l=e.ordered?"."===a?")":".":function(e){const t=Ll(e),n=e.options.bulletOther;if(!n)return"*"===t?"-":"*";if("*"!==n&&"+"!==n&&"-"!==n)throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}(n);let s=!(!t||!n.bulletLastUsed)&&a===n.bulletLastUsed;if(!e.ordered){const t=e.children?e.children[0]:void 0;if("*"!==a&&"-"!==a||!t||t.children&&t.children[0]||"list"!==n.stack[n.stack.length-1]||"listItem"!==n.stack[n.stack.length-2]||"list"!==n.stack[n.stack.length-3]||"listItem"!==n.stack[n.stack.length-4]||0!==n.indexStack[n.indexStack.length-1]||0!==n.indexStack[n.indexStack.length-2]||0!==n.indexStack[n.indexStack.length-3]||(s=!0),Ml(n)===a&&t){let t=-1;for(;++t<e.children.length;){const n=e.children[t];if(n&&"listItem"===n.type&&n.children&&n.children[0]&&"thematicBreak"===n.children[0].type){s=!0;break}}}}s&&(a=l),n.bulletCurrent=a;const c=n.containerFlow(e,r);return n.bulletLastUsed=a,n.bulletCurrent=o,i(),c},listItem:function(e,t,n,r){const i=function(e){const t=e.options.listItemIndent||"one";if("tab"!==t&&"one"!==t&&"mixed"!==t)throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}(n);let o=n.bulletCurrent||Ll(n);t&&"list"===t.type&&t.ordered&&(o=("number"==typeof t.start&&t.start>-1?t.start:1)+(!1===n.options.incrementListMarker?0:t.children.indexOf(e))+o);let a=o.length+1;("tab"===i||"mixed"===i&&(t&&"list"===t.type&&t.spread||e.spread))&&(a=4*Math.ceil(a/4));const l=n.createTracker(r);l.move(o+" ".repeat(a-o.length)),l.shift(a);const s=n.enter("listItem"),c=n.indentLines(n.containerFlow(e,l.current()),function(e,t,n){if(t)return(n?"":" ".repeat(a))+e;return(n?o:o+" ".repeat(a-o.length))+e});return s(),c},paragraph:function(e,t,n,r){const i=n.enter("paragraph"),o=n.enter("phrasing"),a=n.containerPhrasing(e,r);return o(),i(),a},root:function(e,t,n,r){return(e.children.some(function(e){return Ol(e)})?n.containerPhrasing:n.containerFlow).call(n,e,r)},strong:_l,text:function(e,t,n,r){return n.safe(e.value,r)},thematicBreak:function(e,t,n){const r=(Ml(n)+(n.options.ruleSpaces?" ":"")).repeat(function(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}(n));return n.options.ruleSpaces?r.slice(0,-1):r}};function $l(e){const t=e._align;this.enter({type:"table",align:t.map(function(e){return"none"===e?null:e}),children:[]},e),this.data.inTable=!0}function Hl(e){this.exit(e),this.data.inTable=void 0}function ql(e){this.enter({type:"tableRow",children:[]},e)}function Ul(e){this.exit(e)}function Vl(e){this.enter({type:"tableCell",children:[]},e)}function Gl(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,Ql));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function Ql(e,t){return"|"===t?t:e}function Yl(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,i=t.stringLength,o=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:"\n",inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[\t :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:function(e,t,n){let r=Wl.inlineCode(e,t,n);n.stack.includes("tableCell")&&(r=r.replace(/\|/g,"\\$&"));return r},table:function(e,t,n,r){return l(function(e,t,n){const r=e.children;let i=-1;const o=[],a=t.enter("table");for(;++i<r.length;)o[i]=s(r[i],t,n);return a(),o}(e,n,r),e.align)},tableCell:a,tableRow:function(e,t,n,r){const i=l([s(e,n,r)]);return i.slice(0,i.indexOf("\n"))}}};function a(e,t,n,r){const i=n.enter("tableCell"),a=n.enter("phrasing"),l=n.containerPhrasing(e,{...r,before:o,after:o});return a(),i(),l}function l(e,t){return function(e,t){const n=t||{},r=(n.align||[]).concat(),i=n.stringLength||yl,o=[],a=[],l=[],s=[];let c=0,d=-1;for(;++d<e.length;){const t=[],r=[];let o=-1;for(e[d].length>c&&(c=e[d].length);++o<e[d].length;){const a=bl(e[d][o]);if(!1!==n.alignDelimiters){const e=i(a);r[o]=e,(void 0===s[o]||e>s[o])&&(s[o]=e)}t.push(a)}a[d]=t,l[d]=r}let u=-1;if("object"==typeof r&&"length"in r)for(;++u<c;)o[u]=vl(r[u]);else{const e=vl(r);for(;++u<c;)o[u]=e}u=-1;const p=[],f=[];for(;++u<c;){const e=o[u];let t="",r="";99===e?(t=":",r=":"):108===e?t=":":114===e&&(r=":");let i=!1===n.alignDelimiters?1:Math.max(1,s[u]-t.length-r.length);const a=t+"-".repeat(i)+r;!1!==n.alignDelimiters&&(i=t.length+i+r.length,i>s[u]&&(s[u]=i),f[u]=i),p[u]=a}a.splice(1,0,p),l.splice(1,0,f),d=-1;const h=[];for(;++d<a.length;){const e=a[d],t=l[d];u=-1;const r=[];for(;++u<c;){const i=e[u]||"";let a="",l="";if(!1!==n.alignDelimiters){const e=s[u]-(t[u]||0),n=o[u];114===n?a=" ".repeat(e):99===n?e%2?(a=" ".repeat(e/2+.5),l=" ".repeat(e/2-.5)):(a=" ".repeat(e/2),l=a):l=" ".repeat(e)}!1===n.delimiterStart||u||r.push("|"),!1===n.padding||!1===n.alignDelimiters&&""===i||!1===n.delimiterStart&&!u||r.push(" "),!1!==n.alignDelimiters&&r.push(a),r.push(i),!1!==n.alignDelimiters&&r.push(l),!1!==n.padding&&r.push(" "),!1===n.delimiterEnd&&u===c-1||r.push("|")}h.push(!1===n.delimiterEnd?r.join("").replace(/ +$/,""):r.join(""))}return h.join("\n")}(e,{align:t,alignDelimiters:r,padding:n,stringLength:i})}function s(e,t,n){const r=e.children;let i=-1;const o=[],l=t.enter("tableRow");for(;++i<r.length;)o[i]=a(r[i],0,t,n);return l(),o}}function Jl(e){const t=this.stack[this.stack.length-2];t.type,t.checked="taskListCheckValueChecked"===e.type}function Xl(e){const t=this.stack[this.stack.length-2];if(t&&"listItem"===t.type&&"boolean"==typeof t.checked){const e=this.stack[this.stack.length-1];e.type;const n=e.children[0];if(n&&"text"===n.type){const r=t.children;let i,o=-1;for(;++o<r.length;){const e=r[o];if("paragraph"===e.type){i=e;break}}i===e&&(n.value=n.value.slice(1),0===n.value.length?e.children.shift():e.position&&n.position&&"number"==typeof n.position.start.offset&&(n.position.start.column++,n.position.start.offset++,e.position.start=Object.assign({},n.position.start)))}}this.exit(e)}function Kl(e,t,n,r){const i=e.children[0],o="boolean"==typeof e.checked&&i&&"paragraph"===i.type,a="["+(e.checked?"x":" ")+"] ",l=n.createTracker(r);o&&l.move(a);let s=Wl.listItem(e,t,n,{...r,...l.current()});return o&&(s=s.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,function(e){return e+a})),s}const Zl={tokenize:function(e,t,n){let r=0;return function t(o){if((87===o||119===o)&&r<3)return r++,e.consume(o),t;if(46===o&&3===r)return e.consume(o),i;return n(o)};function i(e){return null===e?n(e):t(e)}},partial:!0},es={tokenize:function(e,t,n){let r,i,o;return a;function a(t){return 46===t||95===t?e.check(ns,s,l)(t):null===t||Zr(t)||ni(t)||45!==t&&ti(t)?s(t):(o=!0,e.consume(t),a)}function l(t){return 95===t?r=!0:(i=r,r=void 0),e.consume(t),a}function s(e){return i||r||!o?n(e):t(e)}},partial:!0},ts={tokenize:function(e,t){let n=0,r=0;return i;function i(a){return 40===a?(n++,e.consume(a),i):41===a&&r<n?o(a):33===a||34===a||38===a||39===a||41===a||42===a||44===a||46===a||58===a||59===a||60===a||63===a||93===a||95===a||126===a?e.check(ns,t,o)(a):null===a||Zr(a)||ni(a)?t(a):(e.consume(a),i)}function o(t){return 41===t&&r++,e.consume(t),i}},partial:!0},ns={tokenize:function(e,t,n){return r;function r(a){return 33===a||34===a||39===a||41===a||42===a||44===a||46===a||58===a||59===a||63===a||95===a||126===a?(e.consume(a),r):38===a?(e.consume(a),o):93===a?(e.consume(a),i):60===a||null===a||Zr(a)||ni(a)?t(a):n(a)}function i(e){return null===e||40===e||91===e||Zr(e)||ni(e)?t(e):r(e)}function o(e){return Ur(e)?a(e):n(e)}function a(t){return 59===t?(e.consume(t),r):Ur(t)?(e.consume(t),a):n(t)}},partial:!0},rs={tokenize:function(e,t,n){return function(t){return e.consume(t),r};function r(e){return Vr(e)?n(e):t(e)}},partial:!0},is={name:"wwwAutolink",tokenize:function(e,t,n){const r=this;return function(t){if(87!==t&&119!==t||!cs.call(r,r.previous)||fs(r.events))return n(t);return e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(Zl,e.attempt(es,e.attempt(ts,i),n),n)(t)};function i(n){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(n)}},previous:cs},os={name:"protocolAutolink",tokenize:function(e,t,n){const r=this;let i="",o=!1;return function(t){if((72===t||104===t)&&ds.call(r,r.previous)&&!fs(r.events))return e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(t),e.consume(t),a;return n(t)};function a(t){if(Ur(t)&&i.length<5)return i+=String.fromCodePoint(t),e.consume(t),a;if(58===t){const n=i.toLowerCase();if("http"===n||"https"===n)return e.consume(t),l}return n(t)}function l(t){return 47===t?(e.consume(t),o?s:(o=!0,l)):n(t)}function s(t){return null===t||Qr(t)||Zr(t)||ni(t)||ti(t)?n(t):e.attempt(es,e.attempt(ts,c),n)(t)}function c(n){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(n)}},previous:ds},as={name:"emailAutolink",tokenize:function(e,t,n){const r=this;let i,o;return function(t){if(!ps(t)||!us.call(r,r.previous)||fs(r.events))return n(t);return e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),a(t)};function a(t){return ps(t)?(e.consume(t),a):64===t?(e.consume(t),l):n(t)}function l(t){return 46===t?e.check(rs,c,s)(t):45===t||95===t||Vr(t)?(o=!0,e.consume(t),l):c(t)}function s(t){return e.consume(t),i=!0,l}function c(a){return o&&i&&Ur(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(a)):n(a)}},previous:us},ls={};let ss=48;for(;ss<123;)ls[ss]=as,ss++,58===ss?ss=65:91===ss&&(ss=97);function cs(e){return null===e||40===e||42===e||95===e||91===e||93===e||126===e||Zr(e)}function ds(e){return!Ur(e)}function us(e){return!(47===e||ps(e))}function ps(e){return 43===e||45===e||46===e||95===e||Vr(e)}function fs(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if(("labelLink"===r.type||"labelImage"===r.type)&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}ls[43]=as,ls[45]=as,ls[46]=as,ls[95]=as,ls[72]=[as,os],ls[104]=[as,os],ls[87]=[as,is],ls[119]=[as,is];const hs={tokenize:function(e,t,n){const r=this;return oi(e,function(e){const i=r.events[r.events.length-1];return i&&"gfmFootnoteDefinitionIndent"===i[1].type&&4===i[2].sliceSerialize(i[1],!0).length?t(e):n(e)},"gfmFootnoteDefinitionIndent",5)},partial:!0};function gs(e,t,n){const r=this;let i=r.events.length;const o=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a;for(;i--;){const e=r.events[i][1];if("labelImage"===e.type){a=e;break}if("gfmFootnoteCall"===e.type||"labelLink"===e.type||"label"===e.type||"image"===e.type||"link"===e.type)break}return function(i){if(!a||!a._balanced)return n(i);const l=qr(r.sliceSerialize({start:a.end,end:r.now()}));if(94!==l.codePointAt(0)||!o.includes(l.slice(1)))return n(i);return e.enter("gfmFootnoteCallLabelMarker"),e.consume(i),e.exit("gfmFootnoteCallLabelMarker"),t(i)}}function ms(e,t){let n=e.length;for(;n--;)if("labelImage"===e[n][1].type&&"enter"===e[n][0]){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const o={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},a={type:"chunkString",contentType:"string",start:Object.assign({},o.start),end:Object.assign({},o.end)},l=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",i,t],["exit",i,t],["enter",o,t],["enter",a,t],["exit",a,t],["exit",o,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...l),e}function xs(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o,a=0;return function(t){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(t),e.exit("gfmFootnoteCallLabelMarker"),l};function l(t){return 94!==t?n(t):(e.enter("gfmFootnoteCallMarker"),e.consume(t),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",s)}function s(l){if(a>999||93===l&&!o||null===l||91===l||Zr(l))return n(l);if(93===l){e.exit("chunkString");const o=e.exit("gfmFootnoteCallString");return i.includes(qr(r.sliceSerialize(o)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(l),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(l)}return Zr(l)||(o=!0),a++,e.consume(l),92===l?c:s}function c(t){return 91===t||92===t||93===t?(e.consume(t),a++,s):s(t)}}function ys(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o,a,l=0;return function(t){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(t),e.exit("gfmFootnoteDefinitionLabelMarker"),s};function s(t){return 94===t?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(t),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",c):n(t)}function c(t){if(l>999||93===t&&!a||null===t||91===t||Zr(t))return n(t);if(93===t){e.exit("chunkString");const n=e.exit("gfmFootnoteDefinitionLabelString");return o=qr(r.sliceSerialize(n)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(t),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),u}return Zr(t)||(a=!0),l++,e.consume(t),92===t?d:c}function d(t){return 91===t||92===t||93===t?(e.consume(t),l++,c):c(t)}function u(t){return 58===t?(e.enter("definitionMarker"),e.consume(t),e.exit("definitionMarker"),i.includes(o)||i.push(o),oi(e,p,"gfmFootnoteDefinitionWhitespace")):n(t)}function p(e){return t(e)}}function bs(e,t,n){return e.check(hi,t,e.attempt(hs,t,n))}function vs(e){e.exit("gfmFootnoteDefinition")}function ws(e){let t=(e||{}).singleTilde;const n={name:"strikethrough",tokenize:function(e,n,r){const i=this.previous,o=this.events;let a=0;return function(t){if(126===i&&"characterEscape"!==o[o.length-1][1].type)return r(t);return e.enter("strikethroughSequenceTemporary"),l(t)};function l(o){const s=ci(i);if(126===o)return a>1?r(o):(e.consume(o),a++,l);if(a<2&&!t)return r(o);const c=e.exit("strikethroughSequenceTemporary"),d=ci(o);return c._open=!d||2===d&&Boolean(s),c._close=!s||2===s&&Boolean(d),n(o)}},resolveAll:function(e,t){let n=-1;for(;++n<e.length;)if("enter"===e[n][0]&&"strikethroughSequenceTemporary"===e[n][1].type&&e[n][1]._close){let r=n;for(;r--;)if("exit"===e[r][0]&&"strikethroughSequenceTemporary"===e[r][1].type&&e[r][1]._open&&e[n][1].end.offset-e[n][1].start.offset===e[r][1].end.offset-e[r][1].start.offset){e[n][1].type="strikethroughSequence",e[r][1].type="strikethroughSequence";const i={type:"strikethrough",start:Object.assign({},e[r][1].start),end:Object.assign({},e[n][1].end)},o={type:"strikethroughText",start:Object.assign({},e[r][1].end),end:Object.assign({},e[n][1].start)},a=[["enter",i,t],["enter",e[r][1],t],["exit",e[r][1],t],["enter",o,t]],l=t.parser.constructs.insideSpan.null;l&&Lr(a,a.length,0,di(l,e.slice(r+1,n),t)),Lr(a,a.length,0,[["exit",o,t],["enter",e[n][1],t],["exit",e[n][1],t],["exit",i,t]]),Lr(e,r-1,n-r+3,a),n=r+a.length-2;break}}n=-1;for(;++n<e.length;)"strikethroughSequenceTemporary"===e[n][1].type&&(e[n][1].type="data");return e}};return null==t&&(t=!0),{text:{126:n},insideSpan:{null:[n]},attentionMarkers:{null:[126]}}}class ks{constructor(){this.map=[]}add(e,t,n){!function(e,t,n,r){let i=0;if(0===n&&0===r.length)return;for(;i<e.map.length;){if(e.map[i][0]===t)return e.map[i][1]+=n,void e.map[i][2].push(...r);i+=1}e.map.push([t,n,r])}(this,e,t,n)}consume(e){if(this.map.sort(function(e,t){return e[0]-t[0]}),0===this.map.length)return;let t=this.map.length;const n=[];for(;t>0;)t-=1,n.push(e.slice(this.map[t][0]+this.map[t][1]),this.map[t][2]),e.length=this.map[t][0];n.push(e.slice()),e.length=0;let r=n.pop();for(;r;){for(const t of r)e.push(t);r=n.pop()}this.map.length=0}}function Ss(e,t){let n=!1;const r=[];for(;t<e.length;){const i=e[t];if(n){if("enter"===i[0])"tableContent"===i[1].type&&r.push("tableDelimiterMarker"===e[t+1][1].type?"left":"none");else if("tableContent"===i[1].type){if("tableDelimiterMarker"===e[t-1][1].type){const e=r.length-1;r[e]="left"===r[e]?"center":"right"}}else if("tableDelimiterRow"===i[1].type)break}else"enter"===i[0]&&"tableDelimiterRow"===i[1].type&&(n=!0);t+=1}return r}function Cs(e,t,n){const r=this;let i,o=0,a=0;return function(e){let t=r.events.length-1;for(;t>-1;){const e=r.events[t][1].type;if("lineEnding"!==e&&"linePrefix"!==e)break;t--}const i=t>-1?r.events[t][1].type:null,o="tableHead"===i||"tableRow"===i?v:l;if(o===v&&r.parser.lazy[r.now().line])return n(e);return o(e)};function l(t){return e.enter("tableHead"),e.enter("tableRow"),function(e){if(124===e)return s(e);return i=!0,a+=1,s(e)}(t)}function s(t){return null===t?n(t):Kr(t)?a>1?(a=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),u):n(t):ei(t)?oi(e,s,"whitespace")(t):(a+=1,i&&(i=!1,o+=1),124===t?(e.enter("tableCellDivider"),e.consume(t),e.exit("tableCellDivider"),i=!0,s):(e.enter("data"),c(t)))}function c(t){return null===t||124===t||Zr(t)?(e.exit("data"),s(t)):(e.consume(t),92===t?d:c)}function d(t){return 92===t||124===t?(e.consume(t),c):c(t)}function u(t){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(t):(e.enter("tableDelimiterRow"),i=!1,ei(t)?oi(e,p,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t):p(t))}function p(t){return 45===t||58===t?h(t):124===t?(i=!0,e.enter("tableCellDivider"),e.consume(t),e.exit("tableCellDivider"),f):b(t)}function f(t){return ei(t)?oi(e,h,"whitespace")(t):h(t)}function h(t){return 58===t?(a+=1,i=!0,e.enter("tableDelimiterMarker"),e.consume(t),e.exit("tableDelimiterMarker"),g):45===t?(a+=1,g(t)):null===t||Kr(t)?y(t):b(t)}function g(t){return 45===t?(e.enter("tableDelimiterFiller"),m(t)):b(t)}function m(t){return 45===t?(e.consume(t),m):58===t?(i=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(t),e.exit("tableDelimiterMarker"),x):(e.exit("tableDelimiterFiller"),x(t))}function x(t){return ei(t)?oi(e,y,"whitespace")(t):y(t)}function y(n){return 124===n?p(n):(null===n||Kr(n))&&i&&o===a?(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(n)):b(n)}function b(e){return n(e)}function v(t){return e.enter("tableRow"),w(t)}function w(n){return 124===n?(e.enter("tableCellDivider"),e.consume(n),e.exit("tableCellDivider"),w):null===n||Kr(n)?(e.exit("tableRow"),t(n)):ei(n)?oi(e,w,"whitespace")(n):(e.enter("data"),k(n))}function k(t){return null===t||124===t||Zr(t)?(e.exit("data"),w(t)):(e.consume(t),92===t?S:k)}function S(t){return 92===t||124===t?(e.consume(t),k):k(t)}}function js(e,t){let n,r,i,o=-1,a=!0,l=0,s=[0,0,0,0],c=[0,0,0,0],d=!1,u=0;const p=new ks;for(;++o<e.length;){const f=e[o],h=f[1];"enter"===f[0]?"tableHead"===h.type?(d=!1,0!==u&&(Es(p,t,u,n,r),r=void 0,u=0),n={type:"table",start:Object.assign({},h.start),end:Object.assign({},h.end)},p.add(o,0,[["enter",n,t]])):"tableRow"===h.type||"tableDelimiterRow"===h.type?(a=!0,i=void 0,s=[0,0,0,0],c=[0,o+1,0,0],d&&(d=!1,r={type:"tableBody",start:Object.assign({},h.start),end:Object.assign({},h.end)},p.add(o,0,[["enter",r,t]])),l="tableDelimiterRow"===h.type?2:r?3:1):!l||"data"!==h.type&&"tableDelimiterMarker"!==h.type&&"tableDelimiterFiller"!==h.type?"tableCellDivider"===h.type&&(a?a=!1:(0!==s[1]&&(c[0]=c[1],i=Fs(p,t,s,l,void 0,i)),s=c,c=[s[1],o,0,0])):(a=!1,0===c[2]&&(0!==s[1]&&(c[0]=c[1],i=Fs(p,t,s,l,void 0,i),s=[0,0,0,0]),c[2]=o)):"tableHead"===h.type?(d=!0,u=o):"tableRow"===h.type||"tableDelimiterRow"===h.type?(u=o,0!==s[1]?(c[0]=c[1],i=Fs(p,t,s,l,o,i)):0!==c[1]&&(i=Fs(p,t,c,l,o,i)),l=0):!l||"data"!==h.type&&"tableDelimiterMarker"!==h.type&&"tableDelimiterFiller"!==h.type||(c[3]=o)}for(0!==u&&Es(p,t,u,n,r),p.consume(t.events),o=-1;++o<t.events.length;){const e=t.events[o];"enter"===e[0]&&"table"===e[1].type&&(e[1]._align=Ss(t.events,o))}return e}function Fs(e,t,n,r,i,o){const a=1===r?"tableHeader":2===r?"tableDelimiter":"tableData";0!==n[0]&&(o.end=Object.assign({},zs(t.events,n[0])),e.add(n[0],0,[["exit",o,t]]));const l=zs(t.events,n[1]);if(o={type:a,start:Object.assign({},l),end:Object.assign({},l)},e.add(n[1],0,[["enter",o,t]]),0!==n[2]){const i=zs(t.events,n[2]),o=zs(t.events,n[3]),a={type:"tableContent",start:Object.assign({},i),end:Object.assign({},o)};if(e.add(n[2],0,[["enter",a,t]]),2!==r){const r=t.events[n[2]],i=t.events[n[3]];if(r[1].end=Object.assign({},i[1].end),r[1].type="chunkText",r[1].contentType="text",n[3]>n[2]+1){const t=n[2]+1,r=n[3]-n[2]-1;e.add(t,r,[])}}e.add(n[3]+1,0,[["exit",a,t]])}return void 0!==i&&(o.end=Object.assign({},zs(t.events,i)),e.add(i,0,[["exit",o,t]]),o=void 0),o}function Es(e,t,n,r,i){const o=[],a=zs(t.events,n);i&&(i.end=Object.assign({},a),o.push(["exit",i,t])),r.end=Object.assign({},a),o.push(["exit",r,t]),e.add(n+1,0,o)}function zs(e,t){const n=e[t],r="enter"===n[0]?"start":"end";return n[1][r]}const As={name:"tasklistCheck",tokenize:function(e,t,n){const r=this;return function(t){if(null!==r.previous||!r._gfmTasklistFirstContentOfListItem)return n(t);return e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(t),e.exit("taskListCheckMarker"),i};function i(t){return Zr(t)?(e.enter("taskListCheckValueUnchecked"),e.consume(t),e.exit("taskListCheckValueUnchecked"),o):88===t||120===t?(e.enter("taskListCheckValueChecked"),e.consume(t),e.exit("taskListCheckValueChecked"),o):n(t)}function o(t){return 93===t?(e.enter("taskListCheckMarker"),e.consume(t),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),a):n(t)}function a(r){return Kr(r)?t(r):ei(r)?e.check({tokenize:Is},t,n)(r):n(r)}}};function Is(e,t,n){return oi(e,function(e){return null===e?n(e):t(e)},"whitespace")}const Ts={};function Bs(e){const t=e||Ts,n=this.data(),r=n.micromarkExtensions||(n.micromarkExtensions=[]),i=n.fromMarkdownExtensions||(n.fromMarkdownExtensions=[]),o=n.toMarkdownExtensions||(n.toMarkdownExtensions=[]);r.push(function(e){return _r([{text:ls},{document:{91:{name:"gfmFootnoteDefinition",tokenize:ys,continuation:{tokenize:bs},exit:vs}},text:{91:{name:"gfmFootnoteCall",tokenize:xs},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:gs,resolveTo:ms}}},ws(e),{flow:{null:{name:"table",tokenize:Cs,resolveAll:js}}},{text:{91:As}}])}(t)),i.push([{transforms:[Ka],enter:{literalAutolink:Va,literalAutolinkEmail:Ga,literalAutolinkHttp:Ga,literalAutolinkWww:Ga},exit:{literalAutolink:Xa,literalAutolinkEmail:Ja,literalAutolinkHttp:Qa,literalAutolinkWww:Ya}},{enter:{gfmFootnoteCallString:nl,gfmFootnoteCall:rl,gfmFootnoteDefinitionLabelString:il,gfmFootnoteDefinition:ol},exit:{gfmFootnoteCallString:al,gfmFootnoteCall:ll,gfmFootnoteDefinitionLabelString:sl,gfmFootnoteDefinition:cl}},{canContainEols:["delete"],enter:{strikethrough:gl},exit:{strikethrough:ml}},{enter:{table:$l,tableData:Vl,tableHeader:Vl,tableRow:ql},exit:{codeText:Gl,table:Hl,tableData:Ul,tableHeader:Ul,tableRow:Ul}},{exit:{taskListCheckValueChecked:Jl,taskListCheckValueUnchecked:Jl,paragraph:Xl}}]),o.push(function(e){return{extensions:[{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:qa,notInConstruct:Ua},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:qa,notInConstruct:Ua},{character:":",before:"[ps]",after:"\\/",inConstruct:qa,notInConstruct:Ua}]},ul(e),{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:hl}],handlers:{delete:xl}},Yl(e),{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:Kl}}]}}(t))}const Ds={en:{landing:{title:"Welcome to ClassABC",body:"### Choose Your Portal\n\n**Teachers**\n- Click **Login** to access your Teacher Portal\n- Click **Get Started Free** to create your first class\n\n**Students**\n- Click **Student** role\n- Enter the 5-digit code from your teacher\n- View and complete assignments\n\n**Parents**\n- Click **Parent** role\n- Enter your 5-digit parent code\n- View your child's progress report\n\n---\n\n*After logging in, teachers see their classes and can click any class card to enter the Class Dashboard.*"},"teacher-portal":{title:"Teacher Portal",body:"### Manage Your Classes\n\n**Add a Class**\n- Click **Add Class** button\n- Enter class name\n- Optionally add an avatar\n- Click save\n\n**Open a Class**\n- Click any class card to enter the Class Dashboard\n\n**Edit or Delete**\n- Hover over a class card\n- Click the pencil icon to edit (name/avatar)\n- Click the trash icon to delete (requires confirmation)\n\n---\n\n*All changes save automatically.*"},"class-dashboard":{title:"Class Dashboard",body:"### Your Main Classroom Command Center\n\nThis is where you manage everything for a single class.\n\n---\n\n#### **Sidebar Tools**\n\n| Icon | Tool | Purpose |\n|-------|-------|---------|\n|  | Dashboard | Return to your classes list |\n|  | Assignments | Create worksheets and send to students |\n|  | Messages & Grading | Review student submissions and assign grades |\n|  | Lucky Draw | Randomly select student winners |\n|  | Progress Road | View class milestone progress |\n|  | Attendance | Mark which students are present/absent |\n|  | Access Codes | View student & parent login codes |\n|  | Reports | View class & student analytics |\n|  | Timer | Start countdown timers for activities |\n|  | Attention Buzzer | Get the class's attention quickly |\n|  | Whiteboard | Draw, write, and share with class |\n|  | Settings | Customize point cards and options |\n\n---\n\n#### **Giving Points to Students**\n\n**Individual Students**\n- Click any student card\n- Select a point card from the popup\n- Points are awarded instantly with animation\n\n**Whole Class**\n- Click the **Whole Class** card (first card in grid)\n- Select a point card\n- ALL present students receive the same points\n\n---\n\n#### **Student Management**\n\n**Add a Student**\n- Click **Add Student** button (bottom of grid)\n- Enter student name\n- Choose an avatar or upload a photo\n- Click save\n\n**Edit a Student**\n- Hover over a student card\n- Click the pencil icon\n- Change name or avatar\n- Click save\n\n**Delete a Student**\n- Hover over a student card\n- Click the trash icon\n- Confirm deletion\n\n---\n\n#### **Attendance Mode**\n\n**Mark Absent Students**\n1. Click the  (check) icon in the sidebar\n2. Enter **Attendance Mode**\n3. Tap on absent students (they turn gray)\n4. Click the check icon again to save and exit\n\n**Why Attendance Matters**\n- Absent students are excluded from whole-class point rewards\n- Absent students cannot receive individual points\n- Only present students are affected by class-wide behaviors\n\n---\n\n#### **Display Options**\n\n**Change Grid Size**\n- Click the sliders icon (top right)\n- Choose: Compact, Regular, or Spacious\n\n**Sort Students**\n- Click the up/down arrows icon (top right)\n- Sort by: Name (A-Z) or Highest Points\n\n**Fullscreen Mode**\n- Click the expand icon to show dashboard fullscreen\n- Click again to exit\n\n---\n\n*All point changes, student edits, and settings save automatically.*"},assignments:{title:"Assignments",body:"### Create & Publish Worksheets\n\n**Step 1: Enter Assignment Details**\n- Type a title for your worksheet\n- Add questions using the right panel\n\n---\n\n#### **Question Types**\n\n| Type | Use For |\n|-------|----------|\n| Short Answer | Free-text responses |\n| Multiple Choice | Students pick from options |\n| Fill-in-the-Blank | Type `[blank]` where answers go |\n| Matching | Match items on left to right |\n| Reading Comprehension | Include a passage with questions |\n| True/False | Simple true or false answers |\n| Numeric Answer | Numbers only |\n| Sentence Ordering | Drag parts to reorder sentences |\n| Sorting | Categorize items into groups |\n\n---\n\n**Step 2: Add Questions**\n- Click a question type button in the right panel\n- Type your question\n- **Add images:** Click the image icon inside a question\n- **Delete questions:** Click the trash icon next to a question\n\n---\n\n**Step 3: Assign & Publish**\n- Choose who receives the assignment:\n  - **All students** - everyone in the class\n  - **Select students** - pick specific students\n- Click **Publish to Class**\n\n---\n\n*Empty questions cannot be published. Fill in required fields first.*"},"Messages & Grading":{title:"Inbox  Review Submissions",body:"### Grade Student Work\n\n**View Submissions**\n- Click the  (messages) icon in the sidebar\n- Two sections appear:\n  - **Waiting for Review** - submissions needing grades\n  - **Recently Graded** - completed reviews\n\n---\n\n**Grade a Submission**\n1. Click any submission in the waiting list\n2. View the student's answers on the left\n3. Enter points/grade in the input field\n4. Click the  (check) icon to save\n\n---\n\n**What Happens After Grading**\n- Submission moves to \"Recently Graded\"\n- Grade is added to student's total score\n- If you regrade, only the difference is added\n\n---\n\n**Exit Inbox**\n- Click the close button (X) to return to dashboard\n\n---\n\n*Use the refresh button if students just submitted new work.*"},settings:{title:"Settings",body:'### Configure Your Class\n\nThis page is for managing your class setup.\n\n---\n\n#### **Point Cards**\n\nThese are the rewards and penalties you give students.\n\n**View**\n- Each card shows:\n  - Emoji icon\n  - Card name (e.g., "Great Work")\n  - Type (WOW for positive, NO NO for negative)\n  - Point value (+1, +2, -1, etc.)\n\n**Add a Card**\n- Click **Add Card** in the header\n- Enter card name\n- Choose emoji from the sticker picker\n- Set point value (positive or negative)\n- Click save\n\n**Edit a Card**\n- Click the pencil icon on any card\n- Change name, emoji, or points\n- Click save icon ()\n\n**Delete a Card**\n- Click the trash icon on any card\n- Confirm deletion\n\n---\n\n#### **Reset to Defaults**\n- Click **Reset** to restore the original set of point cards\n- This replaces all your custom cards\n\n---\n\n*Changes save automatically to all your classes.*'},"access-codes":{title:"Access Codes",body:"### Login Codes for Students & Parents\n\nEvery student has two 5-digit codes:\n\n| Code Type | Used By | Purpose |\n|------------|-----------|---------|\n| Student Code | Students | Log in to Student Portal and complete assignments |\n| Parent Code | Parents | View their child's reports and progress |\n\n---\n\n#### **QR Codes**\n\nEach code also displays as a QR code.\n\n**Scan a QR Code**\n- Point your phone/tablet camera at the QR code\n- Automatically logs into the correct portal\n- No typing needed!\n\n**Copy a QR Code**\n- Click **Copy QR** button next to any student\n- QR code is saved to your clipboard as an image\n- Paste into emails, documents, or print for sharing\n\n---\n\n#### **Generated Codes**\n\n- Codes are automatically created when this page opens\n- Each student gets unique codes\n- Codes are permanent and don't change\n\n---\n\n#### **Copy Text Code**\n\n- Click on any 5-digit code to copy it\n- Give the code to parent or student\n- They enter it on the login screen\n\n---\n\n*Parents can only view their own child's data. Students can only see assignments sent to them.*"},"settings-cards":{title:"Point Cards",body:'### Customize Reward & Penalty Cards\n\nThese are the point cards that appear when giving points to students.\n\n---\n\n#### **Card Types**\n\n**WOW Cards (Positive)**\n- Give or add points\n- Example: "Team Player" +1, "Great Job" +3\n- Displayed in green\n\n**NO NO Cards (Negative)**\n- Remove or subtract points\n- Example: "Too Loud" -1, "Distracted" -2\n- Displayed in red\n\n---\n\n#### **Managing Cards**\n\n**Add New Card**\n- Click **Add Card** button (top right)\n- Enter card name\n- Pick an emoji from the sticker picker (100+ options)\n- Set point value\n- Click save\n\n**Edit Card**\n- Click the pencil icon on any card\n- Change name, emoji, or points\n- Use the sticker picker to change the emoji\n- Click save\n\n**Delete Card**\n- Click the trash icon on any card\n- Confirm deletion\n\n---\n\n#### **Sticker Picker**\n\nWhen editing a card, click the emoji icon to open the sticker picker:\n\n**Categories:**\n- Stars & Rewards ()\n- Celebrations ()\n- Fun Characters ()\n- Sports ()\n- Nature ()\n- Food ()\n- Emotions ()\n- Actions ()\n- School & Learning ()\n- And many more!\n\n---\n\n*Use "Reset to Defaults" to restore the original card set.*'},whiteboard:{title:"Whiteboard",body:"### Draw, Write, and Share\n\nThe whiteboard is a blank canvas for classroom activities.\n\n---\n\n#### **Drawing Tools** (right side)\n\n| Tool | What It Does |\n|-------|-------------|\n|  Pencil | Draw freely on the canvas |\n|  Highlighter | Transparent color overlay |\n|  Text | Type text and press Enter to place |\n|  Eraser | Remove drawings |\n|  Emoji | Stamp emojis onto the board |\n\n---\n\n#### **Canvas Options**\n\n**Color Picker**\n- 10 preset colors available\n- Click any color to select\n\n**Line/Stroke Size**\n- Adjust how thick your lines are\n- Use slider or buttons\n\n**Font Options**\n- Family: Modern, Fun, Elegant, Typewriter, Bold\n- Size: Make text larger or smaller\n\n**Add Images**\n- Click the image icon\n- Upload photos from your device\n- Resize and position as needed\n\n---\n\n#### **Actions**\n\n**Export PNG**\n- Click to download the whiteboard as an image\n- Save anywhere on your computer\n- Share with students later\n\n**Clear Canvas**\n- Click the trash icon\n- Wipes the entire board\n\n---\n\n*Use the whiteboard for math problems, diagrams, brainstorming, or any visual lesson.*"},"parent-portal":{title:"Parent Portal",body:"### View Your Child's Progress\n\nParents use a 5-digit code to see their child's information.\n\n---\n\n#### **Login**\n\n1. Enter your 5-digit parent code (from your child's teacher)\n2. Click **Login**\n\n---\n\n#### **What You'll See**\n\n- Your child's current point total\n- Daily behavior chart\n- Behavior breakdown (positive vs needs work)\n- AI-generated teacher feedback\n- Attendance records\n\n---\n\n#### **Time Periods**\n\nChange the view to see data for:\n- This week\n- This month\n- This year\n\n---\n\n#### **Language**\n\nToggle between English and  to change report language.\n\n---\n\n*Your access is read-only. Only teachers can make changes.*"},"student-portal":{title:"Student Portal",body:"### Complete Assignments & Earn Points\n\nStudents log in with a 5-digit code to see their work.\n\n---\n\n#### **Login**\n\n1. Enter your 5-digit student code (from your teacher)\n2. Click **Login**\n\n---\n\n#### **Assignments**\n\nYou'll see all assignments from your teacher:\n\n**Uncompleted** (shown first)\n- Newest to oldest\n- These are waiting for you\n- Click to open and complete\n\n**Completed** (shown below)\n- Newest to oldest\n- Already finished\n- Can hide from view (click hide button)\n\n---\n\n#### **Complete an Assignment**\n\n1. Click any uncompleted assignment\n2. Answer all questions\n3. Click **Submit**\n4. Your work is sent to your teacher\n5. You'll get your grade soon!\n\n---\n\n#### **Your Stats**\n\nAt the top of the page, you can see:\n- **Total Points** - All points you've earned\n- **Completed** - Number of assignments done\n- **To-Do** - Assignments waiting for you\n\n---\n\n*Refresh the page if your teacher just sent a new assignment.*"},inbox:{title:"Messages & Grading",body:"### Review & Grade Student Submissions\n\n---\n\n#### **Two Sections**\n\n**Waiting for Review**\n- These are new submissions from students\n- Click any submission to view answers\n- Enter a grade and click save\n\n**Recently Graded**\n- These are submissions you've already graded\n- Click to review what you gave\n- Can regrade if needed\n\n---\n\n#### **Grading Workflow**\n\n1. Click a submission from the waiting list\n2. See student answers on the left panel\n3. Enter points/grade in the field\n4. Click the  icon to save\n5. Grade is added to student's total score\n6. Submission moves to \"Recently Graded\"\n\n---\n\n#### **Regading**\n\nIf you need to change a grade:\n- Click the submission again\n- Enter the new grade\n- Click save\n- Only the difference is added/subtracted\n\n---\n\n#### **Exit**\n\nClick the **X** or close button to return to the dashboard.\n\n---\n\n*The badge on the messages icon shows how many submissions are waiting for review.*"}},zh:{landing:{title:" ClassABC",body:"### \n\n****\n-  **** \n-  **** \n\n****\n-  **** \n-  5 \n- \n\n****\n-  **** \n-  5 \n- \n\n---\n\n**"},"teacher-portal":{title:"",body:"### \n\n****\n-  **** \n- \n- \n- \n\n****\n- \n\n****\n- \n- /\n- \n\n---\n\n**"},"class-dashboard":{title:"",body:"### \n\n\n\n---\n\n#### ****\n\n|  |  |  |\n|-------|-------|---------|\n|  |  |  |\n|  |  |  |\n|  |  |  |\n|  |  |  |\n|  |  |  |\n|  |  | / |\n|  |  |  |\n|  |  |  |\n|  |  |  |\n|  |  |  |\n|  |  |  |\n|  |  |  |\n\n---\n\n#### ****\n\n****\n- \n- \n- \n\n****\n-  **** \n- \n- \n\n---\n\n#### ****\n\n****\n-  **** \n- \n- \n- \n\n****\n- \n- \n- \n- \n\n****\n- \n- \n- \n\n---\n\n#### ****\n\n****\n1.  \n2.  ****\n3. \n4. \n\n****\n- \n- \n- \n\n---\n\n#### ****\n\n****\n- \n- \n\n****\n- /\n- A-Z\n\n****\n- \n- \n\n---\n\n**"},assignments:{title:"",body:"### \n\n** 1**\n- \n- \n\n---\n\n#### ****\n\n|  |  |\n|-------|----------|\n|  |  |\n|  |  |\n|  |  `[blank]` |\n|  |  |\n|  |  |\n|  | / |\n|  |  |\n|  |  |\n|  |  |\n\n---\n\n** 2**\n- \n- \n- **** \n- **** \n\n---\n\n** 3**\n- \n  - **** - \n  - **** - \n-  ****\n\n---\n\n**"},"Messages & Grading":{title:"",body:'### \n\n****\n-  \n- \n  - **** - \n  - **** - \n\n---\n\n****\n1. \n2. \n3. /\n4.  \n\n---\n\n****\n- ""\n- \n- \n\n---\n\n****\n- X\n\n---\n\n**'},settings:{title:"",body:'### \n\n\n\n---\n\n#### ****\n\n\n\n****\n- \n  - \n  - ""\n  - WOW NO NO \n  - +1+2-1 \n\n****\n-  ****\n- \n- \n- \n- \n\n****\n- \n- \n- \n\n****\n- \n- \n\n---\n\n#### ****\n-  **** \n- \n\n---\n\n**'},"access-codes":{title:"",body:"### \n\n 5 \n\n|  |  |  |\n|------------|-----------|---------|\n|  |  |  |\n|  |  |  |\n\n---\n\n#### ****\n\n\n\n****\n- /\n- \n- \n\n****\n-  **** \n- \n- \n\n---\n\n#### ****\n\n- \n- \n- \n\n---\n\n#### ****\n\n-  5 \n- \n- \n\n---\n\n**"},"settings-cards":{title:"",body:'### \n\n\n\n---\n\n#### ****\n\n**WOW **\n- \n- "" +1"" +3\n- \n\n**NO NO **\n- \n- "" -1"" -2\n- \n\n---\n\n#### ****\n\n****\n-  **** \n- \n- 100+ \n- \n- \n\n****\n- \n- \n- \n- \n\n****\n- \n- \n\n---\n\n#### ****\n\n\n\n****\n- \n- \n- \n- \n- \n- \n- \n- \n- \n- \n\n---\n\n*""*'},whiteboard:{title:"",body:"### \n\n\n\n---\n\n#### ****\n\n|  |  |\n|-------|-------------|\n|   |  |\n|   |  |\n|   |  |\n|   |  |\n|   |  |\n\n---\n\n#### ****\n\n****\n- 10 \n- \n\n**/**\n- \n- \n\n****\n- \n- \n\n****\n- \n- \n- \n\n---\n\n#### ****\n\n** PNG**\n- \n- \n- \n\n****\n- \n- \n\n---\n\n**"},"parent-portal":{title:"",body:"### \n\n 5 \n\n---\n\n#### ****\n\n1.  5 \n2.  ****\n\n---\n\n#### ****\n\n- \n- \n- \n- AI \n- \n\n---\n\n#### ****\n\n\n- \n- \n- \n\n---\n\n#### ****\n\n\n\n---\n\n**"},"student-portal":{title:"",body:"### \n\n 5 \n\n---\n\n#### ****\n\n1.  5 \n2.  ****\n\n---\n\n#### ****\n\n\n\n****\n- \n- \n- \n\n****\n- \n- \n- \n\n---\n\n#### ****\n\n1. \n2. \n3.  ****\n4. \n5. \n\n---\n\n#### ****\n\n\n- **** - \n- **** - \n- **** - \n\n---\n\n**"},inbox:{title:"",body:'### \n\n---\n\n#### ****\n\n****\n- \n- \n- \n\n****\n- \n- \n- \n\n---\n\n#### ****\n\n1. \n2. \n3. /\n4.   \n5. \n6. ""\n\n---\n\n#### ****\n\n\n- \n- \n- \n- /\n\n---\n\n#### ****\n\n **X** \n\n---\n\n**'}}};function Rs(e=null,n=null,r=!0){!function(e={},n=!0,r=[]){t.useEffect(()=>{if(!n)return;const t=t=>{const n=t.target;if(("INPUT"===n.tagName||"TEXTAREA"===n.tagName||n.isContentEditable)&&"Enter"!==t.key&&"Escape"!==t.key)return;const r=t.key.toLowerCase(),i=e[r];i&&(t.preventDefault(),t.stopPropagation(),i(t))};return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)},[n,...r])}({escape:n,enter:e},r,[e,n])}function Ps({pageId:e,onClose:t}){const{lang:n}=yt();let i=Ds&&Ds[n]&&Ds[n][e]||Ds&&Ds.en&&Ds.en[e];i||"inbox"!==e||(i=Ds&&Ds[n]&&Ds[n]["Messages & Grading"]||Ds&&Ds.en&&Ds.en["Messages & Grading"]),i||(i={title:"Help",body:"No help available for this page."}),Rs(null,t,!0);const a=r.jsx("div",{style:Ns.overlay,onClick:t,className:"modal-overlay-in",children:r.jsxs("div",{style:Ns.modal,onClick:e=>e.stopPropagation(),className:"animated-modal-content modal-animate-center",children:[r.jsxs("div",{style:Ns.header,children:[r.jsxs("div",{children:[r.jsx("div",{style:Ns.badge,children:"Help"}),r.jsx("h2",{style:Ns.title,children:i.title})]}),r.jsx("button",{onClick:t,style:Ns.close,children:r.jsx(o,{size:18})})]}),r.jsx("div",{style:Ns.content,children:r.jsx(Ma,{remarkPlugins:[Bs],components:{table:({children:e})=>r.jsx("table",{style:Ns.table,children:e}),thead:({children:e})=>r.jsx("thead",{style:Ns.tableHeader,children:e}),tbody:({children:e})=>r.jsx("tbody",{children:e}),tr:({children:e})=>r.jsx("tr",{style:Ns.tableRow,children:e}),th:({children:e})=>r.jsx("th",{style:{...Ns.tableCell,padding:"12px"},children:e}),td:({children:e,node:t})=>{const n=t?.parent?.parent?.children?.[0]===t;return r.jsx("td",{style:n?{...Ns.tableCell,textAlign:"center"}:Ns.tableCell,children:e})},h1:({children:e})=>r.jsx("h1",{style:{margin:"16px 0 8px",fontSize:18,fontWeight:700,color:"#0F172A"},children:e}),h2:({children:e})=>r.jsx("h2",{style:{margin:"14px 0 8px",fontSize:16,fontWeight:700,color:"#1E293B"},children:e}),h3:({children:e})=>r.jsx("h3",{style:{margin:"12px 0 6px",fontSize:15,fontWeight:700,color:"#334155"},children:e}),p:({children:e})=>r.jsx("p",{style:{margin:"8px 0"},children:e}),ul:({children:e})=>r.jsx("ul",{style:{margin:"8px 0",paddingLeft:20},children:e}),ol:({children:e})=>r.jsx("ol",{style:{margin:"8px 0",paddingLeft:20},children:e}),li:({children:e})=>r.jsx("li",{style:{margin:"4px 0"},children:e}),strong:({children:e})=>r.jsx("strong",{style:{fontWeight:700,color:"#1E293B"},children:e}),hr:()=>r.jsx("hr",{style:{border:"none",borderTop:"2px solid #E2E8F0",margin:"16px 0"}})},children:i.body})})]})});return"undefined"!=typeof document?Xe.createPortal(a,document.body):a}const Ns={overlay:{position:"fixed",inset:0,background:"rgba(2,6,23,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:99999,padding:24},modal:{width:"640px",maxWidth:"96%",background:"#ffffff",borderRadius:20,padding:22,boxShadow:"0 30px 80px rgba(2,6,23,0.35)",border:"1px solid rgba(15,23,42,0.04)"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:14},badge:{background:"#EEF2FF",color:"#4F46E5",padding:"6px 12px",borderRadius:10,fontSize:12,fontWeight:800,marginBottom:6},title:{margin:0,fontSize:20,color:"#0F172A"},close:{border:"none",background:"#F1F5F9",padding:8,borderRadius:10,cursor:"pointer",boxShadow:"0 6px 18px rgba(2,6,23,0.06)"},content:{maxHeight:"60vh",overflowY:"auto",color:"#475569",lineHeight:1.65,fontSize:15},table:{width:"100%",borderCollapse:"collapse",margin:"12px 0",fontSize:14,background:"#FAFAFA",borderRadius:8,overflow:"hidden"},tableHeader:{background:"#EEF2FF",color:"#1E293B",fontWeight:700,fontSize:13,textTransform:"uppercase",letterSpacing:"0.5px"},tableRow:{borderBottom:"1px solid #E2E8F0"},tableCell:{padding:"10px 12px",textAlign:"left"}};function Ls({pageId:e,size:n=18}){const{t:i}=yt(),[o,l]=t.useState(!1),[s,c]=t.useState(!1),d={background:s?"#EEF2FF":"#F8FAFF",border:"1px solid rgba(79,70,229,0.12)",cursor:"pointer",padding:8,display:"inline-flex",alignItems:"center",justifyContent:"center",borderRadius:10,transition:"transform 0.12s ease, box-shadow 0.12s ease, background 0.12s ease",transform:s?"scale(1.06)":"scale(1)",boxShadow:s?"0 6px 14px rgba(79,70,229,0.08)":"none"};return r.jsxs("div",{style:{display:"inline-flex",alignItems:"center"},children:[r.jsx("button",{onClick:e=>{e.stopPropagation(),l(!0)},title:i("nav.help"),"aria-label":`${i("nav.help")}  ${e}`,onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),style:d,children:r.jsx(a,{size:n,color:"#4F46E5"})}),r.jsx("div",{style:{marginLeft:8,minWidth:0},children:o&&r.jsx(Ps,{pageId:e,onClose:()=>l(!1)})})]})}We.register($e,He,qe,Ue,Ve,Ge,Qe);const Ms={en:{mainTitle:(e,t)=>e?"Student Progress Report":`${t} Reports`,week:"Week",month:"Month",year:"Year",emptyState:"No records found for this selection.",aiSummary:"Teacher Feedback:",positive:"Positive",needsWork:"Needs Work",behaviorDistribution:"Behavior Distribution",ratio:"Ratio",totalPoints:"Total Points"},zh:{mainTitle:(e,t)=>e?"":`${t} `,week:"",month:"",year:"",emptyState:"",aiSummary:"",positive:"",needsWork:"",behaviorDistribution:"",ratio:"",totalPoints:""}};function Os(e,t,n,r="en"){if(!function(e){return e.positive.total>0||e.negative.total<0}(t))return"zh"===r?`${e.name} `:`${e.name} has not yet participated in any activities or earned any points. Please encourage your child to engage in class activities so we can better assess their progress.`;const i=function(e){return{positiveDominant:e.positive.total>Math.abs(e.negative.total),balanced:Math.abs(e.positive.total-Math.abs(e.negative.total))<=5,concerning:e.negative.total<0&&Math.abs(e.negative.total)>e.positive.total,highlyActive:e.positive.total+Math.abs(e.negative.total)>20,consistent:e.positive.total>10&&0===e.negative.total,improving:e.positive.total>0&&0===e.negative.total&&e.positive.total<10}}(t),o=function(e,t=2,n="en"){const r=[];return Object.entries(e.positive.byCard||{}).forEach(([e,t])=>{t>0&&r.push({type:"positive",card:e,points:t})}),Object.entries(e.negative.byCard||{}).forEach(([e,t])=>{t>0&&r.push({type:"negative",card:e,points:t})}),r.sort((e,t)=>t.points-e.points),r.slice(0,t).map(e=>{if("positive"===e.type){if("zh"===n){const t={"Great work":"",Homework:"","Helping others":"",Participation:"",Kindness:""}[e.card]||e.card;return e.points>=10?`${t}${e.points}`:e.points>=5?`${t}${e.points}`:`${t}${e.points}`}return e.points>=10?`${e.card} (excellent performance with ${e.points} points)`:e.points>=5?`${e.card} (strong showing with ${e.points} points)`:`${e.card} (positive contribution with ${e.points} points)`}if("zh"===n){const t={"Off-task":"",Disrespectful:"",Late:"","Incomplete work":"",Disruptive:""}[e.card]||e.card;return e.points>=10?`${t}${e.points}`:e.points>=5?`${t}${e.points}`:`${t}${e.points}`}return e.points>=10?`${e.card} (needs attention, ${e.points} points deducted)`:e.points>=5?`${e.card} (some issues, ${e.points} points deducted)`:`${e.card} (minor issues, ${e.points} points deducted)`}).join(", ")}(t,3,r),a="week"===n?"this past week":"month"===n?"the last month":"this year",l="week"===n?"":"month"===n?"":"";let s;return s=i.consistent?"zh"===r?`${e.name}${l}${o}`:`${e.name} has shown exceptional performance ${a}! They excelled in ${o}. Keep up this excellent work!`:i.improving?"zh"===r?`${e.name}${l}${o}`:`${e.name} showed positive engagement ${a}, particularly in ${o}. Keep building on this momentum!`:i.positiveDominant?"zh"===r?`${e.name}${l}${o}`:`${e.name} showed good overall performance ${a} with strengths in ${o}. Continue building these strengths while working on areas needing improvement.`:i.balanced?"zh"===r?`${e.name}${l}${o}`:`${e.name} showed a mixed performance ${a} with highlights in ${o} but also areas needing improvement. We'll continue guiding balanced development.`:i.concerning?"zh"===r?`${e.name}${l}${o}`:`${e.name} needs additional support ${a}. Challenges appeared in ${o}, and we're working with the student to address these issues.`:i.highlyActive?"zh"===r?`${e.name}${l}${o}`:`${e.name} was very active ${a} across multiple areas including ${o}. We'll help channel this energy positively.`:"zh"===r?`${e.name}${l}${o}`:`${e.name}'s performance ${a} reflected ${o}. We'll continue monitoring and supporting their growth.`,s}function _s({activeClass:e,studentId:n,isParentView:i,onBack:a}){const[l,s]=t.useState({}),[c,d]=t.useState({}),[u,p]=t.useState("week"),[f,h]=t.useState("en"),[g,m]=t.useState(n||""),[x,y]=t.useState({}),[b,v]=t.useState(window.innerWidth);t.useEffect(()=>{const e=()=>v(window.innerWidth);return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);const w=b<768,k=b<1024,S=t.useMemo(()=>e&&e.students?n?e.students.filter(e=>e.id.toString()===n.toString()):g?e.students.filter(e=>e.id.toString()===g.toString()):e.students:[],[e,n,g]);t.useEffect(()=>{S.length>0&&(async()=>{const e={};for(const t of S){const n=t.history||[],r=C(n,u),i=r.filter(e=>e.pts>0),o=r.filter(e=>e.pts<0),a=i.reduce((e,t)=>e+t.pts,0),l=o.reduce((e,t)=>e+t.pts,0),s={},c={};i.forEach(e=>{s[e.label]=(s[e.label]||0)+e.pts}),o.forEach(e=>{c[e.label]=(c[e.label]||0)+Math.abs(e.pts)}),e[t.id]={positive:{total:a,byCard:s,wowCount:i.length},negative:{total:l,byCard:c,nonoCount:o.length}}}y(e)})()},[S,u]);const C=(e,t)=>{const n=new Date;let r;switch(t){case"week":default:r=new Date(n.getTime()-6048e5);break;case"month":r=new Date(n.getFullYear(),n.getMonth()-1,n.getDate());break;case"year":r=new Date(n.getFullYear()-1,n.getMonth(),n.getDate())}return e.filter(e=>new Date(e.timestamp)>=r)},j=e=>{const t=e.history||[],n=C(t,u),r={};n.forEach(e=>{const t=new Date(e.timestamp);let n;if("week"===u){n=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][t.getDay()]}else if("month"===u)n=`Day ${t.getDate()}`;else{n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()]}r[n]=(r[n]||0)+e.pts});let i=[];i="week"===u?["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]:"month"===u?Array.from({length:10},(e,t)=>`Day ${t+1}`):["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];const o=i.map(e=>r[e]||0);return{labels:i,datasets:[{label:"Total Points",data:o,backgroundColor:"#4CAF50",borderRadius:8}]}},F=Ms[f];return r.jsxs("div",{style:{...Ws.container,padding:w?"20px":"40px"},children:[r.jsxs("div",{style:{...Ws.header,flexDirection:"row",alignItems:"center",justifyContent:"space-between",gap:w?"10px":"0",position:"relative",paddingBottom:w?"10px":"20px"},children:[r.jsx("div",{style:{display:"flex",alignItems:"center",gap:8},children:!i&&r.jsx("h1",{style:{...Ws.mainTitle,fontSize:w?"18px":"24px",margin:0},children:g&&!i?`${e?.students?.find(e=>e.id===g)?.name||""} - ${F.mainTitle(i,e?.name)}`:F.mainTitle(i,e?.name)})}),r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:w?6:12,position:"relative",width:w?"100%":"auto"},children:[r.jsx("div",{style:{position:w?"relative":"static",flex:w?1:"none"},children:r.jsxs("select",{value:f,onChange:e=>h(e.target.value),style:{width:w?"100%":void 0,padding:w?"6px 10px":"8px 16px",borderRadius:"8px",border:"1px solid #e0e0e0",fontWeight:700,fontSize:w?"13px":"15px",background:"#f5f5f7",color:"#333",marginRight:w?0:4,zIndex:w?10:void 0},"aria-label":"Select language",children:[r.jsx("option",{value:"en",children:"English"}),r.jsx("option",{value:"zh",children:""})]})}),r.jsx("div",{style:{position:w?"relative":"static",flex:w?1:"none"},children:r.jsxs("select",{value:u||"week",onChange:e=>p(e.target.value),style:{width:w?"100%":void 0,padding:w?"6px 10px":"8px 16px",borderRadius:"8px",border:"1px solid #e0e0e0",fontWeight:700,fontSize:w?"13px":"15px",background:"#f5f5f7",color:"#333",marginRight:w?0:4,zIndex:w?10:void 0},"aria-label":"Select period",children:[r.jsx("option",{value:"week",children:F.week}),r.jsx("option",{value:"month",children:F.month}),r.jsx("option",{value:"year",children:F.year})]})}),!n&&e&&e.students&&e.students.length>1&&r.jsx("div",{style:{position:w?"relative":"static",flex:w?1:"none"},children:r.jsxs("select",{value:g,onChange:e=>m(e.target.value),style:{width:w?"100%":void 0,padding:w?"6px 10px":"8px 16px",borderRadius:"8px",border:"1px solid #e0e0e0",fontWeight:600,fontSize:w?"13px":"14px",background:"#fff",color:"#333",minWidth:"100px",marginRight:w?0:4,zIndex:w?10:void 0},"aria-label":"Select student",children:[r.jsx("option",{value:"",children:"Select Students"}),e.students.map(e=>r.jsx("option",{value:e.id,children:e.name},e.id))]})}),!i&&r.jsx("button",{onClick:a||(()=>window.history.back()),style:{...Ws.goBackBtn,padding:w?"1px 0px":"2px 8px",fontSize:w?"16px":"18px",marginLeft:1,position:w?"absolute":"static",right:w?-15:void 0,top:w?0:void 0,zIndex:2,background:"#fff",border:"1.5px solid #e0e0e0",boxShadow:w?"0 2px 8px rgba(0,0,0,0.07)":void 0},"aria-label":"Go back",children:r.jsx(o,{size:w?22:24})})]})]}),0===S.length?r.jsx("div",{style:Ws.emptyState,children:F.emptyState}):S.map(e=>{const t=(e=>x[e.id]||{positive:{total:0,byCard:{},wowCount:0},negative:{total:0,byCard:{},nonoCount:0}})(e),n=Os(e,t,u,f),o={labels:["zh"===f?"":"Positive Behaviors","zh"===f?"":"Needs Work"],datasets:[{data:[Math.abs(t.positive.total)||0,Math.abs(t.negative.total)||0],backgroundColor:["#4CAF50","#FF5252"],borderWidth:0}]};return r.jsxs("div",{style:{...Ws.reportCard,padding:w?"20px":"30px"},children:[r.jsxs("div",{style:Ws.cardTop,children:[r.jsxs("div",{style:Ws.studentMeta,children:[r.jsx("div",{style:Ws.avatarCircle,children:e.avatar||e.character?r.jsx("img",{src:e.avatar||nn(e.gender||"boy",e.id),alt:e.name,style:{width:"100%",height:"100%",objectFit:"cover"},onError:t=>{t.target.style.display="none",t.target.parentNode.innerText=e.name.charAt(0)}}):r.jsx("span",{children:e.name.charAt(0).toUpperCase()})}),r.jsxs("div",{children:[r.jsx("h2",{style:Ws.sName,children:e.name}),r.jsxs("div",{style:Ws.idTag,children:["ID: ",e.id]})]})]}),r.jsxs("div",{style:Ws.scoreBox,children:[r.jsx("div",{style:Ws.bigScore,children:e.score||0}),r.jsx("div",{style:Ws.scoreLabel,children:F.totalPoints})]})]}),r.jsxs("div",{style:Ws.aiInsightSection,children:[r.jsx("div",{style:Ws.aiPulse}),r.jsx("p",{style:Ws.aiText,children:r.jsx("strong",{children:F.aiSummary})}),i?r.jsx("div",{style:{marginTop:8,fontSize:15},dangerouslySetInnerHTML:{__html:c[e.id]||n}}):r.jsxs(r.Fragment,{children:[l[e.id]?r.jsx(Xt,{value:"string"==typeof c[e.id]?c[e.id]:"string"==typeof n?n:"",onChange:t=>d(n=>({...n,[e.id]:t&&t.target&&"string"==typeof t.target.value?t.target.value:""})),style:{width:"100%",minHeight:80,marginTop:8,borderRadius:8}}):r.jsx("div",{style:{marginTop:8,fontSize:15},dangerouslySetInnerHTML:{__html:c[e.id]||n}}),r.jsx("div",{style:{marginTop:8},children:l[e.id]?r.jsx("button",{style:{...Ws.goBackBtn,color:"#4CAF50",borderColor:"#4CAF50",marginRight:8},onClick:()=>s(t=>({...t,[e.id]:!1})),children:"Save"}):r.jsx("button",{style:{...Ws.goBackBtn,color:"#6366f1",borderColor:"#6366f1",marginRight:8},onClick:()=>s(t=>({...t,[e.id]:!0})),children:"Edit"})})]})]}),r.jsxs("div",{style:{...Ws.bentoGrid,flexDirection:k?"column":"row"},children:[r.jsxs("div",{style:Ws.gridItemLarge,children:[r.jsx("h4",{style:Ws.chartTitle,children:F.behaviorDistribution}),r.jsx("div",{style:{height:"200px"},children:r.jsx(Ye,{data:j(e),options:{maintainAspectRatio:!1,plugins:{legend:{display:!0},tooltip:{callbacks:{label:function(e){return`${e.dataset.label}: ${e.parsed.y} points`}}}}}})})]}),r.jsxs("div",{style:Ws.gridItemSmall,children:[r.jsx("h4",{style:Ws.chartTitle,children:F.ratio}),r.jsx("div",{style:{height:"140px"},children:r.jsx(Je,{data:o,options:{maintainAspectRatio:!1,cutout:"70%",plugins:{legend:{position:"bottom",labels:{boxWidth:12,padding:10,font:{size:10}}}}}})}),r.jsxs("div",{style:{marginTop:8,fontSize:14},children:[r.jsxs("span",{style:{color:"#4CAF50",fontWeight:"bold"},children:[F.positive,": ",Math.abs(t.positive.total)||0]})," ","|"," ",r.jsxs("span",{style:{color:"#FF5252",fontWeight:"bold"},children:[F.needsWork,": ",Math.abs(t.negative.total)||0]})]})]})]})]},e.id)})]})}const Ws={container:{background:"#fff",minHeight:"100vh",boxSizing:"border-box"},header:{display:"flex",justifyContent:"space-between",marginBottom:"30px",borderBottom:"1px solid #f0f0f0",paddingBottom:"20px"},goBackBtn:{padding:"8px 16px",border:"1px solid #e0e0e0",background:"#fff",cursor:"pointer",borderRadius:"8px",fontWeight:"900",color:"#e93535ff",fontSize:"14px",width:"fit-content"},mainTitle:{fontWeight:"900",color:"#1a1a1a",margin:0},reportCard:{background:"#fff",borderRadius:"24px",border:"1px solid #eee",padding:"30px",marginBottom:"40px",boxShadow:"0 10px 30px rgba(0,0,0,0.02)"},cardTop:{display:"flex",justifyContent:"space-between",marginBottom:"25px",alignItems:"center"},studentMeta:{display:"flex",alignItems:"center",gap:"15px"},avatarCircle:{width:"60px",height:"60px",background:"#E8F5E9",color:"#2E7D32",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"24px",fontWeight:"900",border:"2px solid #4CAF50",overflow:"hidden",flexShrink:0,position:"relative"},sName:{margin:0,fontSize:"20px",fontWeight:"800"},idTag:{fontSize:"12px",color:"#aaa"},scoreBox:{textAlign:"center",background:"#F8FFF8",padding:"10px 20px",borderRadius:"16px",border:"1px solid #E8F5E9"},bigScore:{fontSize:"28px",fontWeight:"900",color:"#4CAF50"},scoreLabel:{fontSize:"10px",textTransform:"uppercase",fontWeight:"bold",color:"#888"},aiInsightSection:{background:"#F8F9FA",padding:"20px",borderRadius:"18px",border:"1px solid #EDF2F7",marginBottom:"25px",position:"relative"},aiText:{fontSize:"15px",lineHeight:"1.6",color:"#4A5568",margin:0},aiPulse:{position:"absolute",top:"15px",right:"15px",width:"8px",height:"8px",background:"#6366f1",borderRadius:"50%",boxShadow:"0 0 10px #6366f1"},bentoGrid:{display:"flex",gap:"20px"},gridItemLarge:{flex:2,background:"#fcfcfc",padding:"20px",borderRadius:"24px",border:"1px solid #f0f0f0"},gridItemSmall:{flex:1,background:"#fcfcfc",padding:"20px",borderRadius:"24px",border:"1px solid #f0f0f0",textAlign:"center"},chartTitle:{fontSize:"14px",fontWeight:"bold",marginBottom:"15px",color:"#444"},emptyState:{textAlign:"center",padding:"50px",color:"#ccc"}};function $s({onBack:e,initialStudentData:n}){const[i,o]=t.useState(""),[a,c]=t.useState(n||null),[d,u]=t.useState("");return a?r.jsxs("div",{style:{background:"#F8FAFC",minHeight:"100vh",padding:"20px"},children:[r.jsxs("div",{style:{maxWidth:"1000px",margin:"0 auto",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"30px"},children:[r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[r.jsxs("div",{children:[r.jsx("h2",{style:{fontSize:"26px",fontWeight:900,color:"#1E293B",margin:0},children:a.studentName}),r.jsx("p",{style:{color:"#64748B",margin:0,fontWeight:600},children:"Student Progress Report"})]}),r.jsx(Ls,{pageId:"parent-portal"})]}),r.jsxs("button",{onClick:()=>c(null),className:"logout-btn-animated",style:Hs.bigLogoutBtn,children:[r.jsx(l,{size:20}),"Logout"]})]}),r.jsx("div",{style:Hs.reportContainer,children:r.jsx(_s,{activeClass:a.classData,studentId:a.studentId,isParentView:!0})}),r.jsx("style",{children:"\n          .logout-btn-animated {\n            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n          }\n          .logout-btn-animated:hover {\n            transform: translateY(-2px);\n            background: #FFF1F2 !important;\n            color: #EF4444 !important;\n            box-shadow: 0 10px 15px -3px rgba(239, 68, 68, 0.1);\n          }\n          .logout-btn-animated:active {\n            transform: translateY(0);\n          }\n        "})]}):r.jsx("div",{style:Hs.container,children:r.jsxs("div",{style:Hs.loginCard,children:[r.jsx("div",{style:Hs.iconCircle,children:r.jsx(s,{color:"#FF5252"})}),r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[r.jsxs("div",{children:[r.jsx("h2",{style:{fontWeight:900,marginBottom:"10px",fontSize:"24px"},children:"Parent Access"}),r.jsx("p",{style:{color:"#64748B",marginBottom:"30px"},children:"Enter your 5-digit parent code"})]}),r.jsx(Ls,{pageId:"parent-portal"})]}),r.jsxs("form",{onSubmit:async e=>{e.preventDefault(),u("");try{const e=await ht.getStudentByParentCode(i);e?c(e):u("Invalid Access Code.")}catch{u("Connection error.")}},children:[r.jsx("input",{style:Hs.codeInput,value:i,onChange:e=>o(e.target.value.toUpperCase()),placeholder:"00000",maxLength:5}),d&&r.jsx("p",{style:Hs.errorText,children:d}),r.jsx("button",{type:"submit",style:Hs.submitBtn,children:"Enter Portal"}),r.jsx("button",{type:"button",onClick:e,style:Hs.cancelBtn,children:"Cancel"})]})]})})}const Hs={container:{height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"#F8FAFC"},loginCard:{background:"#fff",padding:"50px",borderRadius:"32px",boxShadow:"0 20px 60px rgba(0,0,0,0.05)",textAlign:"center",width:"420px",border:"1px solid #E2E8F0"},iconCircle:{width:"70px",height:"70px",background:"#FFF1F2",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 20px"},codeInput:{fontSize:"40px",textAlign:"center",letterSpacing:"8px",width:"100%",padding:"16px",borderRadius:"16px",border:"2px solid #F1F5F9",background:"#F8FAFC",marginBottom:"20px",fontWeight:"900",outline:"none"},submitBtn:{width:"100%",background:"#2D2D30",color:"#fff",padding:"18px",borderRadius:"16px",border:"none",fontWeight:"800",cursor:"pointer",fontSize:"17px"},cancelBtn:{width:"100%",background:"none",border:"none",color:"#64748B",marginTop:"20px",cursor:"pointer",fontWeight:"700"},bigLogoutBtn:{display:"flex",alignItems:"center",gap:"10px",padding:"14px 28px",borderRadius:"16px",background:"#fff",border:"1px solid #E2E8F0",fontWeight:"800",cursor:"pointer",color:"#64748B",fontSize:"15px"},reportContainer:{maxWidth:"1000px",margin:"0 auto",background:"#fff",borderRadius:"32px",border:"1px solid #E2E8F0",overflow:"hidden",boxShadow:"0 4px 20px rgba(0,0,0,0.02)"},errorText:{color:"#EF4444",fontSize:"14px",fontWeight:700,marginBottom:"15px"}},qs=({worksheet:e,onClose:i,studentName:o,studentId:a,classId:l,onCompletion:s,lang:p})=>{const[f,h]=t.useState({}),[g,m]=t.useState(!1),[x,y]=t.useState(!1),[b,v]=t.useState(window.innerWidth<=768);t.useEffect(()=>{const e=()=>v(window.innerWidth<=768);return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),t.useEffect(()=>{},[e]);const w=(t,n,r)=>{if("blank"===r){const r=e.questions.find(e=>e.id===t)?.question.match(/\[blank\]/gi);if(r){const e=Array.isArray(f[t])?[...f[t]]:[];e[n.index]=n.answer,h(n=>({...n,[t]:e}))}}else if("match"===r){const e=f[t]||{};h(r=>({...r,[t]:{...e,[n.key]:n.value}}))}else h("ordering"===r?e=>({...e,[t]:n}):"sorting"===r?e=>({...e,[t]:n}):e=>({...e,[t]:n}))};if(x)return r.jsx("div",{style:{height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"#F8FAFC",textAlign:"center",padding:"20px"},children:r.jsxs("div",{style:{background:"#fff",padding:"50px",borderRadius:"40px",boxShadow:"0 20px 50px rgba(0,0,0,0.05)",maxWidth:"500px",width:"100%"},children:[r.jsx("div",{style:{background:"#DCFCE7",width:"100px",height:"100px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 30px"},children:r.jsx(c,{size:50,color:"#16A34A"})}),r.jsx("h2",{style:{fontSize:"32px",fontWeight:900,marginBottom:"10px",color:"#1E293B"},children:"Great Job!"}),r.jsxs("p",{style:{color:"#64748B",fontSize:"18px",marginBottom:"40px",lineHeight:1.5},children:['Your worksheet "',r.jsx("strong",{children:e.title}),'" has been submitted to your teacher.']}),r.jsxs("button",{onClick:i,style:{width:"100%",background:"#2D2D30",color:"#fff",padding:"18px",borderRadius:"16px",border:"none",fontWeight:800,fontSize:"16px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"10px"},children:["Back to Dashboard ",r.jsx(d,{size:20})]})]})});const k=e=>{switch(e.type){case"choice":return r.jsx("div",{style:{display:"grid",gap:"10px"},children:e.options.map((t,n)=>r.jsx("button",{onClick:()=>w(e.id,t,e.type),style:{padding:"15px",borderRadius:"12px",textAlign:"left",border:"2px solid",borderColor:f[e.id]===t?"#6366F1":"#E2E8F0",background:f[e.id]===t?"#EEF2FF":"#fff",fontWeight:600,cursor:"pointer"},children:t},n))});case"blank":{const t=e.question.split("[blank]");return r.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:r.jsx("div",{style:{display:"flex",alignItems:"center",flexWrap:"wrap"},children:t.map((i,o)=>r.jsxs(n.Fragment,{children:[r.jsx("span",{style:{marginRight:"5px"},children:i}),o<t.length-1&&r.jsx("input",{style:{width:"80px",padding:"8px",margin:"0 5px",borderRadius:"8px",border:"2px solid #E2E8F0",fontSize:"16px"},placeholder:"Answer",onChange:t=>w(e.id,{index:o,answer:t.target.value},e.type)})]},o))})})}case"match":return r.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"15px"},children:e.pairs.map((t,n)=>r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[r.jsx("div",{style:{flex:1,padding:"10px",background:"#F1F5F9",borderRadius:"8px"},children:t.left}),r.jsx("div",{style:{width:"30px",textAlign:"center"},children:""}),r.jsx("input",{style:{flex:1,padding:"10px",borderRadius:"8px",border:"2px solid #E2E8F0",fontSize:"16px"},placeholder:`Match for "${t.left}"`,onChange:n=>w(e.id,{key:t.left,value:n.target.value},e.type)})]},n))});case"comprehension":return r.jsx("textarea",{style:{width:"100%",padding:"15px",borderRadius:"12px",border:"2px solid #E2E8F0",fontSize:"16px",minHeight:"120px",resize:"vertical"},placeholder:"Type your answer here...",onChange:t=>w(e.id,t.target.value,e.type)});case"truefalse":return r.jsxs("div",{style:{display:"flex",gap:"12px"},children:[r.jsx("button",{onClick:()=>w(e.id,"true",e.type),style:{flex:1,padding:"16px",borderRadius:"12px",border:"2px solid",borderColor:"true"===f[e.id]?"#4CAF50":"#E2E8F0",background:"true"===f[e.id]?"#E8F5E9":"#fff",color:"true"===f[e.id]?"#4CAF50":"#64748B",fontWeight:700,fontSize:"16px",cursor:"pointer",transition:"all 0.2s"},children:"True"}),r.jsx("button",{onClick:()=>w(e.id,"false",e.type),style:{flex:1,padding:"16px",borderRadius:"12px",border:"2px solid",borderColor:"false"===f[e.id]?"#EF4444":"#E2E8F0",background:"false"===f[e.id]?"#FEF2F2":"#fff",color:"false"===f[e.id]?"#EF4444":"#64748B",fontWeight:700,fontSize:"16px",cursor:"pointer",transition:"all 0.2s"},children:"False"})]});case"numeric":return r.jsx("input",{type:"number",style:{width:"100%",padding:"15px",borderRadius:"12px",border:"2px solid #E2E8F0",fontSize:"16px"},placeholder:"Enter a number...",value:f[e.id]||"",onChange:t=>w(e.id,t.target.value,e.type)});case"ordering":return r.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:e.sentenceParts?.map((t,n)=>r.jsxs("div",{style:{padding:"14px 18px",borderRadius:"12px",border:"2px solid #E2E8F0",background:"#F8FAFC",display:"flex",alignItems:"center",gap:"12px"},children:[r.jsx("span",{style:{width:"28px",height:"28px",borderRadius:"50%",background:"#4F46E5",color:"#fff",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"800",fontSize:"12px",flexShrink:0},children:f[e.id]?.indexOf(t)+1||n+1}),r.jsx("span",{style:{fontSize:"16px",fontWeight:500},children:t})]},n))});case"sorting":return r.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:[e.items?.map((e,t)=>r.jsx("div",{style:{padding:"14px 18px",borderRadius:"12px",border:"2px solid #E2E8F0",background:"#F8FAFC",display:"flex",alignItems:"center",gap:"12px",fontSize:"16px",fontWeight:500},children:r.jsx("span",{style:{color:"#64748B",fontSize:"14px"},children:e})},t)),r.jsx("textarea",{style:{width:"100%",padding:"15px",borderRadius:"12px",border:"2px solid #E2E8F0",fontSize:"16px",minHeight:"100px",resize:"vertical",marginTop:"10px"},placeholder:"Type how you sorted these items...",value:f[e.id]||"",onChange:t=>w(e.id,t.target.value,e.type)})]});default:return r.jsx("input",{style:{width:"100%",padding:"15px",borderRadius:"12px",border:"2px solid #E2E8F0",fontSize:"16px"},placeholder:"Type your answer here...",value:f[e.id]||"",onChange:t=>w(e.id,t.target.value,e.type)})}};return r.jsxs("div",{style:{background:"#fff",minHeight:"100vh",display:"flex",flexDirection:"column"},children:[r.jsxs("header",{style:{padding:b?"12px 16px":"20px 40px",borderBottom:"1px solid #E2E8F0",display:"flex",justifyContent:"space-between",alignItems:"center",background:"#fff",position:"sticky",top:0,zIndex:10},children:[r.jsxs("button",{onClick:i,style:{border:"none",background:b?"#F1F5F9":"none",borderRadius:b?"12px":"0",padding:b?"8px":"0",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",fontWeight:700},children:[r.jsx(u,{size:b?24:20}),!b&&"Quit"]}),r.jsx("h2",{style:{margin:0,fontSize:b?"16px":"18px",fontWeight:900,flex:1,textAlign:"center",padding:"0 10px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:e.title}),r.jsx("button",{onClick:async()=>{if(!l)return void alert("Error: Class ID is missing. Please refresh and try again.");let t=e.id;if(t||(t=e.assignment_id),t||(t=e._id),!t)if(console.warn("WARNING: No worksheet ID found. Generating ID from title and date."),e.title){t=`${e.title.replace(/\s+/g,"_").toLowerCase()}_${e.date?new Date(e.date).getTime():Date.now()}`}else t=Date.now().toString();m(!0);try{const e=`student_id='${String(a)}' && assignment_id='${String(t)}'`,n=await ht.pbRequest(`/collections/submissions/records?filter=${encodeURIComponent(e)}`);if(n.items&&n.items.length>0)return alert("You have already submitted this worksheet."),m(!1),void(s&&await s())}catch(r){console.error("Error checking existing submission:",r)}const n={class_id:String(l),assignment_id:String(t),assignment_title:e.title||"N/A",student_id:String(a),student_name:o,answers:f,status:"submitted",grade_data:{},grade:0};try{await ht.pbRequest("/collections/submissions/records",{method:"POST",body:JSON.stringify(n)}),s&&await s(),m(!1),y(!0)}catch(r){console.error("Submission Error:",r),r.message&&r.message.includes("duplicate")?alert("You have already submitted this worksheet."):alert(`Error: ${r.message}`),m(!1)}},disabled:g,style:{background:g?"#94A3B8":"#4F46E5",color:"#fff",border:"none",padding:b?"10px 18px":"10px 25px",borderRadius:"12px",fontWeight:700,cursor:g?"wait":"pointer",whiteSpace:"nowrap"},children:g?b?"...":"Submitting...":b?"Submit":"Finish & Submit"})]}),r.jsx("main",{style:{flex:1,overflowY:"auto",padding:"40px 20px",background:"#F8FAFC"},children:r.jsx("div",{style:{maxWidth:"700px",margin:"0 auto"},children:e.questions.map((e,t)=>r.jsxs("div",{style:{background:"#fff",borderRadius:"24px",padding:"30px",marginBottom:"25px",boxShadow:"0 2px 10px rgba(0,0,0,0.03)"},children:[r.jsxs("span",{style:{fontSize:"12px",fontWeight:900,color:"#6366F1",textTransform:"uppercase"},children:["Question ",t+1]}),e.paragraph&&r.jsx("div",{style:{background:"#F1F5F9",padding:"20px",borderRadius:"16px",margin:"15px 0",lineHeight:"1.6",fontSize:"16px"},children:e.paragraph}),r.jsx("h3",{style:{fontSize:"20px",margin:"15px 0"},children:e.question}),e.image&&r.jsx("img",{src:e.image,style:{width:"100%",borderRadius:"16px",marginBottom:"20px"},alt:"question"}),k(e)]},e.id))})})]})},Us={en:{logout:"Logout",refresh:"Refresh",points:"Total Points",completed:"Completed",todo:"To Do",title:"My Assignments",questions:"Questions",done:"Done",open:"Open",hideTask:"Hide Task?",hideWarn:"This will remove the assignment from your dashboard. You won't be able to see it again.",cancel:"Cancel",yesHide:"Yes, Hide it",noAsn:"No assignments yet!",refreshPrompt:'If your teacher just sent one, click "Refresh".',langToggle:""},zh:{logout:"",refresh:"",points:"",completed:"",todo:"",title:"",questions:"",done:"",open:"",hideTask:"",hideWarn:"",cancel:"",yesHide:"",noAsn:"",refreshPrompt:"",langToggle:"English"}},Vs="classABC_cache_version",Gs=({onBack:e,classes:n=[],refreshClasses:i})=>{const o=bt(768);t.useEffect(()=>{"2.0"!==localStorage.getItem(Vs)&&(localStorage.removeItem("classABC_completed_assignments"),localStorage.removeItem("classABC_hidden_assignments"),localStorage.setItem(Vs,"2.0"))},[]);const[a,s]=t.useState(null),[c,d]=t.useState(null),[u,b]=t.useState("en"),v=Us[u],w=t.useMemo(()=>{try{const e=localStorage.getItem("classABC_student_portal");return e?JSON.parse(e):null}catch(e){return null}},[]),[k,S]=t.useState([]),[C,j]=t.useState(!0);t.useEffect(()=>{(async()=>{if(w&&n.length)try{const e=String(w.studentId),t=`student_id='${e}'`,r=await ht.pbRequest(`/collections/submissions/records?filter=${encodeURIComponent(t)}`),i=n.find(t=>t.students?.some(t=>String(t.id)===e));if(!i)return void j(!1);const o=e=>{if(e.id&&void 0!==e.id&&null!==e.id)return String(e.id);return`${(e.title||"").replace(/\s+/g,"_").toLowerCase()}_${e.date?new Date(e.date).getTime():Date.now()}`},a=new Map;(i.assignments||[]).forEach((e,t)=>{const n=o(e);a.set(n,n),e.title&&(a.set(e.title,n),a.set(`${e.title}_1`,n))});const l=[];r.items?.forEach(e=>{const t=String(e.assignment_id);a.has(t)&&l.push(a.get(t))}),S(l),localStorage.setItem("classABC_completed_assignments",JSON.stringify(l))}catch(e){console.error("Failed to load completed assignments:",e),localStorage.removeItem("classABC_completed_assignments"),S([])}finally{j(!1)}else j(!1)})()},[w,n]),t.useEffect(()=>{if(!w||!n.length)return;const e=String(w.studentId),t=n.find(t=>t.students?.some(t=>String(t.id)===e));if(!t)return;const r=(t.assignments||[]).map(e=>String(e.id)),i=k.filter(e=>r.includes(String(e)));i.length!==k.length&&(S(i),localStorage.setItem("classABC_completed_assignments",JSON.stringify(i)))},[n,w,k]);const[F,E]=t.useState(()=>{try{const e=localStorage.getItem("classABC_hidden_assignments");return e?JSON.parse(e):[]}catch(e){return[]}}),{liveClass:z,studentAssignments:A,currentStudent:I}=t.useMemo(()=>{if(!w||!n.length)return{liveClass:null,studentAssignments:[],currentStudent:null};const e=String(w.studentId);let t=n.find(t=>t.students?.some(t=>String(t.id)===e));if(!t)return{liveClass:null,studentAssignments:[],currentStudent:null};return{liveClass:t,studentAssignments:(t.assignments||[]).map((e,t)=>(e=>{if(!e.id||void 0===e.id||null===e.id){const t=(e.title||"").replace(/\s+/g,"_").toLowerCase(),n=e.date?new Date(e.date).getTime():Date.now();return{...e,id:`${t}_${n}`}}return e})(e)).filter(t=>{if(!t||F.includes(t.id))return!1;const n=!0===t.assignedToAll||"all"===t.assignedTo||!t.assignedTo,r=Array.isArray(t.assignedTo)&&t.assignedTo.some(t=>String(t)===e);return n||r}).sort((e,t)=>{const n=k.includes(String(e.id));if(n!==k.includes(String(t.id)))return n?1:-1;const r=e.created||e.id;return(t.created||t.id)-r}),currentStudent:t.students?.find(t=>String(t.id)===e)}},[n,w,F,k]),T=A.filter(e=>!k.includes(String(e.id))).length,B=A.filter(e=>k.includes(String(e.id))).length;return a?r.jsx(qs,{lang:u,worksheet:a,onClose:()=>s(null),studentName:I?.name||w.studentName,studentId:I?.id||w.studentId,classId:z?.id,onCompletion:async()=>{if(w&&n.length)try{const e=String(w.studentId),t=n.find(t=>t.students?.some(t=>String(t.id)===e));if(!t)return;const r=`student_id='${e}'`,i=await ht.pbRequest(`/collections/submissions/records?filter=${encodeURIComponent(r)}`),o=e=>{if(e.id&&void 0!==e.id&&null!==e.id)return String(e.id);return`${(e.title||"").replace(/\s+/g,"_").toLowerCase()}_${e.date?new Date(e.date).getTime():Date.now()}`},a=new Map;(t.assignments||[]).forEach(e=>{const t=o(e);a.set(t,t),e.title&&(a.set(e.title,t),a.set(`${e.title}_1`,t))});const l=[];i.items?.forEach(e=>{const t=String(e.assignment_id);a.has(t)&&l.push(a.get(t))}),S(l),localStorage.setItem("classABC_completed_assignments",JSON.stringify(l))}catch(e){console.error("Failed to reload completed assignments:",e)}}}):r.jsxs("div",{className:"student-portal",style:{background:"#F8FAFC",minHeight:"100vh",fontFamily:"'Inter', sans-serif",paddingTop:"env(safe-area-inset-top, 0px)"},children:[r.jsx("style",{children:"\n        .student-portal .topBar { padding: calc(12px + env(safe-area-inset-top, 0px)) 16px !important; }\n        .student-portal h2 { font-size: 18px !important; }\n        .student-portal .StatCard { padding: 12px !important; }\n        @media (max-width: 768px) {\n          .student-portal { padding-bottom: 80px; }\n          .student-portal .topBar { flex-direction: column; gap: 8px; align-items: flex-start; }\n          .student-portal .scrollArea { padding: 12px !important; }\n          .student-portal .workstation { padding: 12px !important; }\n        }\n      "}),c&&r.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(15, 23, 42, 0.6)",backdropFilter:"blur(8px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:2e3},children:r.jsxs("div",{style:{background:"#fff",padding:"40px",borderRadius:"32px",maxWidth:"450px",width:"90%",textAlign:"center",boxShadow:"0 25px 50px -12px rgba(0,0,0,0.25)"},children:[r.jsx("div",{style:{background:"#FEF2F2",width:"80px",height:"80px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 25px"},children:r.jsx(p,{size:40,color:"#EF4444"})}),r.jsx("h2",{style:{fontSize:"24px",fontWeight:900,marginBottom:"10px"},children:v.hideTask}),r.jsx("p",{style:{color:"#64748B",lineHeight:1.6,marginBottom:"30px"},children:v.hideWarn}),r.jsxs("div",{style:{display:"flex",gap:"15px"},children:[r.jsx("button",{onClick:()=>d(null),style:{flex:1,padding:"15px",borderRadius:"16px",border:"1px solid #E2E8F0",background:"#fff",fontWeight:700,cursor:"pointer"},children:v.cancel}),r.jsx("button",{onClick:()=>{if(!c)return;const e=[...F,c];E(e),localStorage.setItem("classABC_hidden_assignments",JSON.stringify(e)),d(null)},style:{flex:1,padding:"15px",borderRadius:"16px",border:"none",background:"#EF4444",color:"#fff",fontWeight:700,cursor:"pointer"},children:v.yesHide})]})]})}),r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"20px 40px",background:"rgba(255,255,255,0.9)",backdropFilter:"blur(10px)",borderBottom:"1px solid #E2E8F0",position:"sticky",top:0,zIndex:100},children:[r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[r.jsxs("div",{children:[r.jsx("h2",{style:{margin:0,fontWeight:900,fontSize:"24px"},children:I?.name||w.studentName}),r.jsx("span",{style:{color:"#64748B",fontSize:"14px",fontWeight:700},children:z?.name||"Classroom"})]}),r.jsx(Ls,{pageId:"student-portal"})]}),r.jsxs("div",{style:{display:"flex",gap:"12px"},children:[r.jsxs("button",{onClick:()=>b("en"===u?"zh":"en"),style:{background:"#F1F5F9",border:"none",padding:"12px 20px",borderRadius:"16px",fontWeight:800,cursor:"pointer",display:"flex",alignItems:"center",gap:"8px"},children:[r.jsx(f,{size:18})," ",v.langToggle]}),r.jsxs("button",{onClick:()=>{localStorage.removeItem("classABC_student_portal"),e()},style:{minWidth:o?"48px":"auto",background:"linear-gradient(135deg, #6366F1 0%, #8B5CF6 100%)",color:"#fff",border:"none",borderRadius:"16px",fontWeight:800,cursor:"pointer",display:"flex",alignItems:"center",gap:o?"0":"8px",padding:o?"12px":"12px 24px"},children:[r.jsx(l,{size:o?22:18})," ",!o&&v.logout]})]})]}),r.jsxs("div",{style:{maxWidth:"1200px",margin:"0 auto",padding:"40px 20px"},children:[r.jsxs("div",{style:{display:"flex",gap:"20px",marginBottom:"40px",flexWrap:"wrap"},children:[r.jsx(Qs,{icon:r.jsx(h,{color:"#F59E0B",fill:"#F59E0B",size:32}),val:I?.score||0,label:v.points}),r.jsx(Qs,{icon:r.jsx(g,{color:"#10B981",fill:"#10B981",size:32}),val:B,label:v.completed}),r.jsx(Qs,{icon:r.jsx(m,{color:"#6366F1",size:32}),val:T,label:v.todo})]}),r.jsxs("h3",{style:{fontSize:"28px",fontWeight:900,marginBottom:"20px",display:"flex",alignItems:"center",gap:"12px"},children:[r.jsx(m,{size:28,color:"#6366F1"})," ",v.todo]}),(()=>{const e=A.filter(e=>!k.includes(String(e.id)));return e.length>0?r.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(340px, 1fr))",gap:"25px",marginBottom:"60px"},children:e.map(e=>r.jsx("div",{onClick:()=>s(e),style:{background:"#fff",padding:"28px",borderRadius:"28px",border:"1px solid #E2E8F0",cursor:"pointer",position:"relative",transition:"transform 0.2s, box-shadow 0.2s",boxShadow:"0 2px 10px rgba(0,0,0,0.03)"},onMouseEnter:e=>e.currentTarget.style.transform="translateY(-4px)",onMouseLeave:e=>e.currentTarget.style.transform="translateY(0)",children:r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"20px"},children:[r.jsx("div",{style:{width:"65px",height:"65px",background:"#EEF2FF",borderRadius:"20px",display:"flex",alignItems:"center",justifyContent:"center"},children:r.jsx(m,{size:32,color:"#4F46E5"})}),r.jsxs("div",{children:[r.jsx("h4",{style:{margin:"0 0 5px 0",fontSize:"18px",fontWeight:900},children:e.title}),r.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:[r.jsxs("span",{style:{fontSize:"13px",color:"#64748B"},children:[e.questions?.length||0," ",v.questions]}),r.jsx("span",{style:{fontSize:"12px",fontWeight:800,padding:"4px 10px",borderRadius:"10px",background:"#EEF2FF",color:"#4F46E5"},children:v.open})]})]})]})},e.id))}):r.jsxs("div",{style:{textAlign:"center",padding:"40px",background:"#EEF2FF",borderRadius:"16px",border:"2px dashed #A78BFA"},children:[r.jsx(x,{size:48,color:"#A78BFA",style:{marginBottom:"15px"}}),r.jsx("h3",{style:{fontSize:"18px",fontWeight:900,color:"#4F46E5",margin:"0 0 10px 0"},children:"All caught up!"}),r.jsx("p",{style:{color:"#64748B",fontSize:"14px"},children:"You've completed all your assignments."})]})})(),(()=>{const e=A.filter(e=>k.includes(String(e.id)));return e.length>0&&r.jsxs("div",{style:{background:"#F8FAFC",borderRadius:"24px",padding:"40px",border:"2px dashed #CBD5E1"},children:[r.jsxs("h3",{style:{fontSize:"28px",fontWeight:900,marginBottom:"25px",display:"flex",alignItems:"center",gap:"12px"},children:[r.jsx(x,{size:28,color:"#10B981"})," ",v.completed," ",r.jsxs("span",{style:{fontSize:"16px",fontWeight:600,color:"#94A3B8",marginLeft:"10px"},children:["(",e.length,")"]})]}),r.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(340px, 1fr))",gap:"20px"},children:e.map(e=>r.jsxs("div",{style:{background:"#fff",padding:"24px",borderRadius:"20px",border:"1px solid #DCFCE7",position:"relative",opacity:"0.85"},children:[r.jsx("button",{onClick:t=>{t.stopPropagation(),d(e.id)},style:{position:"absolute",top:"12px",right:"12px",background:"#FEF2F2",border:"none",borderRadius:"10px",padding:"6px",cursor:"pointer",color:"#E11D48",transition:"all 0.2s"},onMouseEnter:e=>e.currentTarget.style.background="#FEE2E2",onMouseLeave:e=>e.currentTarget.style.background="#FEF2F2",children:r.jsx(y,{size:14})}),r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[r.jsx("div",{style:{width:"56px",height:"56px",background:"#DCFCE7",borderRadius:"16px",display:"flex",alignItems:"center",justifyContent:"center"},children:r.jsx(x,{size:28,color:"#10B981"})}),r.jsxs("div",{style:{flex:1},children:[r.jsx("h4",{style:{margin:"0 0 4px 0",fontSize:"16px",fontWeight:900,color:"#1E293B"},children:e.title}),r.jsx("span",{style:{fontSize:"12px",fontWeight:700,padding:"3px 8px",borderRadius:"8px",background:"#DCFCE7",color:"#16A34A"},children:v.done})]})]})]},e.id))})]})})(),0===A.length&&r.jsxs("div",{style:{textAlign:"center",padding:"100px 20px",background:"#fff",borderRadius:"32px",border:"2px dashed #E2E8F0"},children:[r.jsx(y,{size:60,color:"#CBD5E1",style:{marginBottom:"20px"}}),r.jsx("h3",{style:{fontSize:"24px",color:"#1E293B"},children:v.noAsn}),r.jsx("p",{style:{color:"#64748B"},children:v.refreshPrompt})]})]})]})},Qs=({icon:e,val:t,label:n})=>r.jsxs("div",{style:{background:"#fff",padding:"24px",borderRadius:"24px",border:"1px solid #E2E8F0",display:"flex",alignItems:"center",gap:"20px",flex:"1",minWidth:"250px"},children:[e,r.jsxs("div",{children:[r.jsx("div",{style:{fontSize:"32px",fontWeight:900},children:t}),r.jsx("div",{style:{fontSize:"12px",color:"#64748B",fontWeight:800,textTransform:"uppercase",letterSpacing:"0.5px"},children:n})]})]}),Ys=()=>r.jsx("div",{style:{display:"flex",alignItems:"center",gap:8,fontSize:"clamp(18px, 1.5vw, 36px)",width:"clamp(120px, 20vw, 420px)"},children:r.jsxs("svg",{width:"100%",style:{height:"auto"},viewBox:"0 0 360 140",preserveAspectRatio:"xMinYMid meet",xmlns:"http://www.w3.org/2000/svg",children:[r.jsx("circle",{cx:"70",cy:"70",r:"60",fill:"#E0F2FE"}),r.jsx("polygon",{points:"70,20 82,52 116,52 88,72\n            100,104 70,84 40,104\n            52,72 24,52 58,52",fill:"#FACC15",stroke:"#F59E0B",strokeWidth:"2"}),r.jsx("circle",{cx:"60",cy:"66",r:"3",fill:"#1F2937"}),r.jsx("circle",{cx:"80",cy:"66",r:"3",fill:"#1F2937"}),r.jsx("path",{d:"M62 76 Q70 82 78 76",stroke:"#1F2937",strokeWidth:"2",fill:"none",strokeLinecap:"round"}),r.jsx("rect",{x:"26",y:"86",width:"28",height:"32",rx:"4",fill:"#FFFFFF",stroke:"#CBD5E1"}),r.jsx("rect",{x:"32",y:"92",width:"16",height:"4",fill:"#22C55E"}),r.jsx("rect",{x:"32",y:"100",width:"16",height:"4",fill:"#CBD5E1"}),r.jsx("rect",{x:"86",y:"86",width:"36",height:"32",rx:"4",fill:"#FFFFFF",stroke:"#CBD5E1"}),r.jsx("rect",{x:"92",y:"104",width:"6",height:"10",fill:"#2563EB"}),r.jsx("rect",{x:"102",y:"98",width:"6",height:"16",fill:"#2563EB"}),r.jsx("rect",{x:"112",y:"92",width:"6",height:"22",fill:"#22C55E"}),r.jsx("path",{d:"M88 36 L94 42 L106 30",stroke:"#22C55E",strokeWidth:"3",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}),r.jsx("text",{x:"150",y:"78",fontFamily:"Cmic Sans Ms, Arial, sans-serif",fontSize:"36",fontWeight:"700",fill:"#2563EB",children:"Class"}),r.jsx("text",{x:"230",y:"104",fontFamily:"Chulkbuster, Arial, sans-serif",fontSize:"36",fontWeight:"700",fill:"#F97316",children:"ABC"}),r.jsx("text",{x:"150",y:"124",fontFamily:"Inter, Arial, sans-serif",fontSize:"14",fill:"#64748B",children:"Track  Reward  Report"})]})});function Js(){const[e,n]=t.useState(()=>{if("undefined"==typeof window)return!1;const e=localStorage.getItem("classABC_darkMode");return null!==e&&"true"===e});return t.useEffect(()=>{if("undefined"==typeof window)return;if(!window.matchMedia)return;const e=window.matchMedia("(prefers-color-scheme: dark)"),t=e=>{null===localStorage.getItem("classABC_darkMode")&&n(e.matches)};return e.addEventListener?(e.addEventListener("change",t),()=>e.removeEventListener("change",t)):(e.addListener(t),()=>e.removeListener(t))},[]),[e,e=>{n(e),localStorage.setItem("classABC_darkMode",e.toString()),"undefined"!=typeof document&&(e?document.documentElement.setAttribute("data-theme","dark"):document.documentElement.removeAttribute("data-theme"))}]}function Xs({children:e,className:n,style:i,...o}){const a=O(),[l,s]=t.useState(!1),c=_(0),d=_(0),u=W(c,{stiffness:300,damping:24}),p=W(d,{stiffness:300,damping:24}),f=$(u,e=>7*e*1),h=$(p,e=>7*-e*1),g=$(u,e=>1+Math.min(.16,.09*Math.abs(e)*1));if(a)return r.jsx("div",{className:n,style:i,...o,children:e});return r.jsx("div",{style:{perspective:"900px",display:"inline-block"},children:r.jsx(P.div,{className:n,style:{...i,rotateX:h,rotateY:f,scale:g,transformStyle:"preserve-3d",pointerEvents:"auto"},onPointerMove:e=>{if("touch"===e.pointerType)return;const t=e.currentTarget.getBoundingClientRect(),n=(e.clientX-t.left)/t.width-.5,r=(e.clientY-t.top)/t.height-.5;c.set(n),d.set(r)},onPointerLeave:()=>{s(!1),c.set(0),d.set(0)},onPointerEnter:()=>{s(!0),c.set(0),d.set(0)},whileHover:{scale:1.08},...o,children:e})})}function Ks({children:e,className:t,style:n,...i}){const o=O(),a=_(0),l=_(0),s=W(a,{stiffness:220,damping:24}),c=W(l,{stiffness:220,damping:24}),d=$(s,e=>6*e),u=$(c,e=>6*-e),p=$(s,e=>1+Math.min(.025,.025*Math.abs(e)));if(o)return r.jsx("button",{className:t,style:n,...i,children:e});return r.jsx(P.button,{className:t,style:{...n,rotateX:u,rotateY:d,scale:p,transformStyle:"preserve-3d"},whileHover:{scale:1.06},onPointerMove:e=>{if("touch"===e.pointerType)return;const t=e.currentTarget.getBoundingClientRect(),n=(e.clientX-t.left)/t.width-.5,r=(e.clientY-t.top)/t.height-.5;a.set(n),l.set(r)},onPointerLeave:()=>{a.set(0),l.set(0)},...i,children:e})}const Zs="undefined"!=typeof window&&window.Capacitor?.isNativePlatform?.();function ec({onLoginSuccess:e,classes:i,setClasses:l,refreshClasses:s,showSearchGuide:c,openModal:u}){const[p,f]=t.useState(Zs?"role":null),[x,O]=t.useState(null),_=bt(768),[W,$]=Js(),[H,q]=t.useState(""),[U,V]=t.useState(""),[G,Q]=t.useState(""),[Y,J]=t.useState(""),[X,K]=t.useState(""),[Z,ee]=t.useState(null),[te,ne]=t.useState(""),[re,ie]=t.useState(!1),[oe,ae]=t.useState(""),[le,se]=t.useState(!1),[ce,de]=t.useState(!1),{t:ue}=yt();n.useEffect(()=>{"signup"===u&&f("signup"),"login"===u&&f("login")},[u]),n.useEffect(()=>{const e=window.location.hash,t=e.match(/#\/parent-login\/([^/]+)/);if(t&&t[1]){K(t[1]);return void(async()=>{try{const e=await ht.getStudentByParentCode(t[1]);e?(O("parent"),ee(e),window.location.hash=""):(ne("Invalid Parent Access Code"),f("role"))}catch(e){ne("Connection error. Please try again."),f("role")}})()}const n=e.match(/#\/student-login\/([^/]+)/);if(n&&n[1]){const e=n[1];K(e);const t=e.replace(/[^0-9]/g,"");if(5===t.length){(async()=>{try{let e=null,n=null;if(i&&i.length>0)for(const r of i){const i=r.students?.find(e=>String(e.accessCode)===t);if(i){e=i,n=r;break}}if(!e){const r=await ht.getStudentByCode(t,"student");r&&(e={id:r.studentId,name:r.studentName,accessCode:t},r.classData&&(n=r.classData,l&&l([r.classData])))}if(e&&n){const r={studentId:String(e.id),studentName:e.name,accessCode:t,classId:String(n.id)};localStorage.setItem("classABC_student_portal",JSON.stringify(r)),f(null),O("student"),window.location.hash=""}else ne("Invalid Student Access Code"),f("role")}catch(e){ne("Connection error. Please try again."),f("role")}})()}}},[i,l]),n.useEffect(()=>{const e=e=>{const t=e.detail;switch(console.log("Guide action received:",t),t){case"signup":f("signup");break;case"login":case"home":case"dashboard":case"settings":case"attendance":case"assignments":case"luckydraw":case"road":case"whiteboard":case"timer":case"buzzer":case"codes":case"inbox":case"reports":f("role");break;default:console.log("Unknown action:",t)}};return window.addEventListener("guide-action",e),()=>window.removeEventListener("guide-action",e)},[]);const pe=async e=>{if(e.preventDefault(),U!==Y)return ne("Passwords do not match. Please check again New Teacher.");try{await ht.register({email:H,password:U,name:G}),f("verify-email-info"),ne("")}catch(t){ne(t.message)}},fe=async t=>{t.preventDefault();try{const t=await ht.login({email:H,password:U});t.token&&(ht.setToken(t.token),e({...t.user,token:t.token}))}catch(n){ne(n.message)}},he=async e=>{e.preventDefault();try{await ht.forgotPassword(oe),se(!0),ne("")}catch(t){ne("Could not send reset email. "+(t.message||"Please try again."))}},ge=async e=>{e.preventDefault(),ne("");const t=X.replace(/[^0-9]/g,"");if(t.length<5)return ne("Enter 5-digit code.");ie(!0);try{let e=null,n=null;if(i&&i.length>0)for(const r of i){const i=r.students?.find(e=>String(e.accessCode)===t);if(i){e=i,n=r;break}}if(!e){const r=await ht.getStudentByCode(t,"student");r&&(e={id:r.studentId,name:r.studentName,accessCode:t},r.classData&&(n=r.classData,l&&l([r.classData])))}if(e&&n){const r={studentId:String(e.id),studentName:e.name,accessCode:t,classId:String(n.id)};localStorage.setItem("classABC_student_portal",JSON.stringify(r)),ie(!1),f(null),O("student")}else ne("Invalid student code or class not found.")}catch(n){console.error(n),ne("Connection error. Please try again.")}finally{ie(!1)}};return"parent"===x?r.jsx($s,{onBack:()=>{O(null),ee(null)},initialStudentData:Z}):"student"===x?r.jsx(Gs,{onBack:()=>{O(null),f("student-login")},classes:i,setClasses:l,refreshClasses:s}):Zs?r.jsxs("div",{style:{...tc.container,alignItems:"center",justifyContent:"center",display:"flex",position:"relative",overflow:"hidden"},children:[r.jsx("div",{style:tc.meshBackground}),r.jsxs("div",{style:{...tc.modernModal,..._?tc.modernModalMobile:{},...W?tc.modernModalDark:{},position:"fixed",top:0,left:0,right:0,bottom:0,width:"100vw",height:"100vh",borderRadius:0,border:"none",display:"flex",flexDirection:"column",justifyContent:"center"},children:[r.jsx("div",{style:{...tc.modalHeader,marginBottom:"30px",justifyContent:"center"},children:r.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px",alignItems:"center"},children:["role"===p&&r.jsx(vt,{}),r.jsx("h2",{style:{margin:0,fontWeight:900,fontSize:"20px",...W?{color:"#f4f4f5"}:{}},children:ue("role"===p?"modal.who":"student-login"===p?"role.student":"signup"===p?"auth.create_btn":"auth.login_btn")})]})}),"role"===p&&r.jsxs(P.div,{style:tc.roleGrid,initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.4,ease:[.2,.8,.2,1]},children:[r.jsxs(P.div,{onClick:()=>{ne(""),f("login")},className:"lp-role-option",whileHover:{scale:1.02},whileTap:{scale:.98},style:{...tc.roleOption,...W?tc.roleOptionDark:{}},children:[r.jsx("div",{style:{...tc.roleIcon,background:W?"rgba(22, 163, 74, 0.2)":"#E8F5E9"},children:r.jsx(N,{color:"#4CAF50"})}),r.jsxs("div",{children:[r.jsx("h4",{style:{margin:0,fontSize:"16px"},children:ue("role.teacher")}),r.jsx("p",{style:{margin:0,fontSize:"13px",color:"#64748B"},children:ue("role.teacher.desc")})]})]}),r.jsxs(P.div,{onClick:()=>O("parent"),className:"lp-role-option",whileHover:{scale:1.02},whileTap:{scale:.98},style:{...tc.roleOption,...W?tc.roleOptionDark:{}},children:[r.jsx("div",{style:{...tc.roleIcon,background:W?"rgba(239, 68, 68, 0.2)":"#FFF1F2"},children:r.jsx(L,{color:"#FF5252"})}),r.jsxs("div",{children:[r.jsx("h4",{style:{margin:0,fontSize:"16px"},children:ue("role.parent")}),r.jsx("p",{style:{margin:0,fontSize:"13px",color:"#64748B"},children:ue("role.parent.desc")})]})]}),r.jsxs(P.div,{onClick:()=>{ne(""),f("student-login")},className:"lp-role-option",whileHover:{scale:1.02},whileTap:{scale:.98},style:{...tc.roleOption,...W?tc.roleOptionDark:{}},children:[r.jsx("div",{style:{...tc.roleIcon,background:W?"rgba(20, 184, 166, 0.2)":"#E0F2F1"},children:r.jsx(m,{color:"#009688"})}),r.jsxs("div",{children:[r.jsx("h4",{style:{margin:0,fontSize:"16px"},children:ue("role.student")}),r.jsx("p",{style:{margin:0,fontSize:"13px",color:"#64748B"},children:ue("role.student.desc")})]})]})]}),"student-login"===p&&r.jsxs(P.form,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.4,ease:[.2,.8,.2,1]},onSubmit:ge,style:{...tc.authForm,..._?tc.authFormMobile:{}},children:[te&&r.jsx(P.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.3,ease:[.2,.8,.2,1]},className:"lp-error-banner",style:tc.errorBanner,children:te},te),r.jsx("p",{style:{color:"#64748B",fontSize:"14px",marginBottom:"10px",...W?{color:"#a1a1aa"}:{}},children:ue("student.instructions")}),r.jsx(P.input,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.1,duration:.3},type:"text",maxLength:5,placeholder:"0 0 0 0 0",value:X,onChange:e=>K(e.target.value),style:{...tc.modernInput,..._?tc.modernInputMobile:{},...W?{background:"#27272a",borderColor:"rgba(255,255,255,0.1)",color:"#f4f4f5"}:{},textAlign:"center",fontSize:_?"20px":"24px",letterSpacing:_?"3px":"5px",fontWeight:"bold",width:"100%",boxSizing:"border-box"},autoFocus:!0}),r.jsx(Ks,{className:"lp-cta",type:"submit",disabled:re,style:{...tc.mainCtaPrimary,..._?{...tc.mainCtaMobile,width:"100%"}:{}},children:ue(re?"student.verifying":"student.enter")}),r.jsx(P.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},onClick:()=>{ne(""),f("role")},whileHover:{scale:1.05},style:{textAlign:"center",fontSize:"13px",color:"#94A3B8",cursor:"pointer",...W?{color:"#a1a1aa"}:{}},children:ue("nav.back")})]}),("signup"===p||"login"===p)&&r.jsxs("form",{onSubmit:"signup"===p?pe:fe,style:{...tc.authForm,..._?tc.authFormMobile:{}},children:[te&&r.jsx(P.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.3,ease:[.2,.8,.2,1]},className:"lp-error-banner",style:tc.errorBanner,children:te},te),"signup"===p&&r.jsx("input",{placeholder:ue("auth.fullname"),style:{...tc.modernInput,..._?tc.modernInputMobile:{},...W?{background:"#27272a",borderColor:"rgba(255,255,255,0.1)",color:"#f4f4f5"}:{},width:"100%",boxSizing:"border-box"},onChange:e=>Q(e.target.value),required:!0}),r.jsx("input",{type:"email",placeholder:ue("auth.email"),style:{...tc.modernInput,..._?tc.modernInputMobile:{},...W?{background:"#27272a",borderColor:"rgba(255,255,255,0.1)",color:"#f4f4f5"}:{},width:"100%",boxSizing:"border-box"},onChange:e=>q(e.target.value),required:!0}),r.jsx("div",{style:{display:"flex",alignItems:"center",gap:"12px",justifyContent:"space-between",flexWrap:_?"wrap":"nowrap"},children:r.jsx("input",{type:"password",placeholder:ue("auth.password"),style:{...tc.modernInput,..._?tc.modernInputMobile:{},...W?{background:"#27272a",borderColor:"rgba(255,255,255,0.1)",color:"#f4f4f5"}:{},flex:_?"1":1,minWidth:"100%",boxSizing:"border-box"},onChange:e=>V(e.target.value),required:!0})}),"signup"===p&&r.jsx("input",{type:"password",placeholder:ue("auth.confirm"),style:{...tc.modernInput,..._?tc.modernInputMobile:{},...W?{background:"#27272a",borderColor:"rgba(255,255,255,0.1)",color:"#f4f4f5"}:{},width:"100%",boxSizing:"border-box"},onChange:e=>J(e.target.value),required:!0}),r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",justifyContent:"space-between",flexWrap:_?"wrap":"nowrap"},children:[r.jsx(Ks,{className:"lp-cta",type:"submit",style:{..."signup"===p?{...tc.mainCtaPrimary,...W?tc.mainCtaPrimaryDark:{},width:"100%"}:{...tc.mainCtaSecondary,...W?tc.mainCtaSecondaryDark:{},width:"auto"},..._?{...tc.mainCtaMobile,flex:"1"}:{}},children:ue("signup"===p?"auth.create_btn":"auth.login_btn")}),"login"===p&&r.jsx("button",{type:"button",onClick:()=>{ne(""),ae(H),f("forgot-password")},style:{fontSize:"13px",color:"#64748B",background:"none",border:"none",cursor:"pointer",whiteSpace:"nowrap",...W?{color:"#a1a1aa"}:{},marginTop:_?"8px":"0"},children:ue("auth.forgot")})]}),r.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",marginTop:"16px",fontSize:"14px",color:"#64748B",...W?{color:"#a1a1aa"}:{}},children:[r.jsx("span",{children:ue("signup"===p?"auth.already":"auth.newhere")}),r.jsx(P.button,{type:"button",onClick:()=>{ne(""),f("signup"===p?"login":"signup")},whileHover:{scale:1.02},whileTap:{scale:.98},style:{background:W?"#fafafa":"#2D2D30",color:W?"#09090b":"#fff",border:"none",padding:"8px 16px",borderRadius:"8px",fontSize:"13px",fontWeight:700,cursor:"pointer",display:"inline-flex",alignItems:"center",gap:"6px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.15)",transition:"all 0.2s ease"},children:"signup"===p?r.jsxs(r.Fragment,{children:[ue("auth.login")," ",r.jsx(d,{size:14})]}):r.jsxs(r.Fragment,{children:[r.jsx(N,{size:14})," ",ue("auth.create_account")]})})]}),r.jsx(P.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},onClick:()=>{ne(""),f("role")},whileHover:{scale:1.05},style:{textAlign:"center",fontSize:"13px",color:"#94A3B8",cursor:"pointer",marginTop:"12px",...W?{color:"#a1a1aa"}:{}},children:ue("nav.back")})]}),"forgot-password"===p&&r.jsxs("form",{onSubmit:he,style:{...tc.authForm,..._?tc.authFormMobile:{}},children:[te&&r.jsx(P.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.3,ease:[.2,.8,.2,1]},className:"lp-error-banner",style:tc.errorBanner,children:te},te),le?r.jsxs(P.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.4,ease:[.2,.8,.2,1]},style:{padding:32,textAlign:"center"},children:[r.jsx("div",{style:{width:"60px",height:"60px",borderRadius:"50%",background:"#DCFCE7",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 20px"},children:r.jsxs("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"#16A34A",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("path",{d:"M22 11.08V12a10 10 0 1 0-20 0v-2a10 10 0 0 1 20 0v-2a10 10 0 1 1 20 0v2a10 10 0 1 0-20 0v-2a10 10 0 0 1 20 0v-2a10 10 0 0 1 20 0v2a10 10 0 1 0-20 0v-2a10 10 0 0 1 20 0v2z"}),r.jsx("polyline",{points:"22 12 18 12 2 7 12"}),r.jsx("polyline",{points:"22 6 18 12 2 7 12"})]})}),r.jsx("h3",{style:{color:"#16A34A",marginBottom:12,fontSize:"20px"},children:"Check your email!"}),r.jsxs("p",{style:{fontSize:"16px",color:"#64748B",marginBottom:24,...W?{color:"#a1a1aa"}:{}},children:["We've sent a password reset link to ",r.jsx("strong",{children:oe})]}),r.jsx(Ks,{type:"button",onClick:()=>{se(!1),ae(""),f("login")},style:{...tc.mainCtaSecondary,...W?tc.mainCtaSecondaryDark:{}},children:"Login"})]}):r.jsxs(r.Fragment,{children:[r.jsx("p",{style:{fontSize:"14px",color:"#64748B",marginBottom:20,...W?{color:"#a1a1aa"}:{}},children:"Enter your email and we'll send you a link to reset your password."}),r.jsx("input",{type:"email",placeholder:ue("auth.email"),value:oe,onChange:e=>ae(e.target.value),style:{...tc.modernInput,..._?tc.modernInputMobile:{},...W?{background:"#27272a",borderColor:"rgba(255,255,255,0.1)",color:"#f4f4f5"}:{},width:"100%",boxSizing:"border-box"},required:!0}),r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",justifyContent:"space-between"},children:[r.jsx(P.button,{type:"submit",whileHover:{scale:1.02},whileTap:{scale:.98},style:{...tc.mainCtaAccent,...W?tc.mainCtaAccentDark:{},width:"auto",minWidth:"140px"},children:re?"Sending...":"Send Reset Link"}),r.jsxs(P.button,{type:"button",onClick:()=>{ne(""),ae(""),f("login")},whileHover:{scale:1.02},whileTap:{scale:.98},style:{...tc.mainCtaGhost,...W?tc.mainCtaGhostDark:{},padding:"10px 16px",borderRadius:"12px",fontSize:"13px",gap:"4px",boxShadow:"none"},children:[r.jsx(M,{size:12})," Login"]})]})]})]}),"verify-email-info"===p&&r.jsxs("div",{style:{padding:32,textAlign:"center"},children:[r.jsx("h2",{style:{color:"#4CAF50",marginBottom:16},children:ue("auth.account_created")||"Account Created!"}),r.jsxs("p",{style:{fontSize:16,marginBottom:16,...W?{color:"#a1a1aa"}:{}},children:[ue("auth.verify_msg")||"Please check your email and click the verification link to activate your account.",r.jsx("br",{}),ue("auth.verify_block")||"You will not be able to log in until your email is verified."]}),r.jsx("button",{onClick:()=>{ne(""),f("login")},style:{...tc.mainCta,marginTop:16,...W?tc.mainCtaDark:{}},children:ue("auth.goto_login")||"Go to Login"})]})]})]}):r.jsxs("div",{style:{...tc.container,...W?tc.containerDark:{}},children:[r.jsx("div",{style:{...tc.meshBackground,...W?tc.meshBackgroundDark:{}}}),r.jsx("nav",{style:{...tc.nav,..._?tc.navMobile:{},...W?tc.navDark:{}},children:_?r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",width:"100%",position:"relative"},children:[r.jsx("button",{onClick:()=>$(!W),style:{padding:"8px",borderRadius:"8px",cursor:"pointer",border:"none",background:W?"rgba(255,255,255,0.15)":"#F1F5F9",color:W?"#e5e5e5":"#64748B",display:"flex",alignItems:"center",justifyContent:"center"},title:W?"Switch to light mode":"Switch to dark mode",children:W?r.jsx(b,{size:16}):r.jsx(v,{size:16})}),r.jsx("div",{style:{...tc.logo,flex:1,display:"flex",justifyContent:"flex-start"},children:r.jsx(Ys,{})}),r.jsx(vt,{}),r.jsxs("div",{style:{position:"relative"},children:[r.jsx("button",{onClick:()=>de(!ce),style:{padding:"8px",borderRadius:"8px",cursor:"pointer",border:"none",background:W?"rgba(255,255,255,0.15)":"#F1F5F9",color:W?"#e5e5e5":"#64748B",display:"flex",alignItems:"center",justifyContent:"center"},title:"Menu",children:r.jsx(w,{size:20})}),ce&&r.jsx("div",{style:{position:"absolute",top:"calc(100% + 10px)",right:0,background:W?"#18181b":"#fff",borderRadius:"12px",boxShadow:"0 10px 40px rgba(0,0,0,0.2)",border:"1px solid "+(W?"rgba(255,255,255,0.1)":"#E2E8F0"),padding:"8px",minWidth:"180px",zIndex:1e3},children:r.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:[r.jsxs("button",{onClick:()=>{f("role"),de(!1)},style:{width:"100%",padding:"12px 14px",borderRadius:"8px",border:"none",background:"none",cursor:"pointer",display:"flex",alignItems:"center",gap:"10px",textAlign:"left",color:W?"#e5e5e5":"#1A1A1A",fontWeight:"600",fontSize:"14px",transition:"background 0.2s"},onMouseEnter:e=>e.currentTarget.style.background=W?"rgba(255,255,255,0.05)":"#F1F5F9",onMouseLeave:e=>e.currentTarget.style.background="none",children:[r.jsx(k,{size:18}),r.jsx("span",{children:ue("auth.login")})]}),r.jsxs("button",{onClick:()=>{f("signup"),de(!1)},style:{width:"100%",padding:"12px 14px",borderRadius:"8px",border:"none",background:"none",cursor:"pointer",display:"flex",alignItems:"center",gap:"10px",textAlign:"left",color:W?"#e5e5e5":"#1A1A1A",fontWeight:"600",fontSize:"14px",transition:"background 0.2s"},onMouseEnter:e=>e.currentTarget.style.background=W?"rgba(255,255,255,0.05)":"#F1F5F9",onMouseLeave:e=>e.currentTarget.style.background="none",children:[r.jsx(S,{size:18}),r.jsx("span",{children:ue("nav.signup")})]}),r.jsxs("button",{onClick:()=>{c(),de(!1)},style:{width:"100%",padding:"12px 14px",borderRadius:"8px",border:"none",background:"none",cursor:"pointer",display:"flex",alignItems:"center",gap:"10px",textAlign:"left",color:W?"#e5e5e5":"#1A1A1A",fontWeight:"600",fontSize:"14px",transition:"background 0.2s"},onMouseEnter:e=>e.currentTarget.style.background=W?"rgba(255,255,255,0.05)":"#F1F5F9",onMouseLeave:e=>e.currentTarget.style.background="none",children:[r.jsx(a,{size:18}),r.jsx("span",{children:ue("nav.help")})]})]})})]})]}):r.jsxs(r.Fragment,{children:[r.jsx("div",{style:tc.logo,children:r.jsx(Ys,{})}),r.jsxs("div",{style:tc.navActions,children:[r.jsx("button",{onClick:()=>$(!W),style:{...tc.themeToggle,...W?tc.themeToggleDark:{}},title:W?"Switch to light mode":"Switch to dark mode",children:W?r.jsx(b,{size:16}):r.jsx(v,{size:16})}),r.jsx(vt,{}),r.jsx("button",{className:"lp-nav-link",onClick:c,style:{...tc.loginLink,...W?tc.loginLinkDark:{}},children:ue("nav.help")}),r.jsx("button",{className:"lp-nav-link",onClick:()=>f("role"),style:{...tc.loginLink,...W?tc.loginLinkDark:{}},children:ue("nav.login")}),r.jsx("button",{className:"lp-signup-btn",onClick:()=>f("signup"),style:{...tc.signupBtn,...W?tc.signupBtnDark:{}},children:ue("nav.signup")})]})]})}),r.jsxs("section",{style:{...tc.heroSection,..._?tc.heroSectionMobile:{}},children:[r.jsxs("div",{style:tc.heroContent,children:[r.jsxs("div",{style:{...tc.tagBadge,...W?tc.tagBadgeDark:{}},children:[r.jsx(h,{size:14,fill:"#4CAF50",color:"#4CAF50"}),ue("hero.tag")]}),r.jsxs("h1",{style:{...tc.heroTitle,..._?tc.heroTitleMobile:{},...W?tc.heroTitleDark:{}},children:[ue("hero.title.line1")," ",r.jsx("br",{}),r.jsx("span",{style:tc.gradientText,children:ue("hero.title.gradient")})]}),r.jsx("p",{style:{...tc.heroSubText,..._?tc.heroSubTextMobile:{}},children:ue("hero.subtext")}),r.jsx("div",{style:tc.heroBtnGroup,children:r.jsxs(Ks,{className:"lp-cta",onClick:()=>f("signup"),style:{...tc.mainCta,...W?tc.mainCtaDark:{}},children:[ue("cta.create_class")," ",r.jsx(d,{size:18})]})})]}),r.jsxs("div",{style:{...tc.mockupWrapper,..._?tc.mockupWrapperMobile:{}},children:[r.jsxs("div",{style:{...tc.appWindow,...W?tc.appWindowDark:{}},children:[r.jsxs("div",{style:{...tc.appSidebar,...W?tc.appSidebarDark:{}},children:[r.jsx("div",{style:{...tc.sidebarIconActive,...W?tc.sidebarIconActiveDark:{}},children:r.jsx(C,{size:20})}),r.jsx("div",{style:{...tc.sidebarIcon,...W?tc.sidebarIconDark:{}},children:r.jsx(g,{size:20})}),r.jsx("div",{style:{...tc.sidebarIcon,...W?tc.sidebarIconDark:{}},children:r.jsx(j,{size:20})})]}),r.jsxs("div",{style:{...tc.appContent,...W?tc.appContentDark:{}},children:[r.jsxs("div",{style:{...tc.appHeader,...W?tc.appHeaderDark:{}},children:[r.jsx("span",{style:{fontWeight:800,...W?{color:"#fff"}:{}},children:"Class 4-B"}),r.jsxs("div",{style:{...tc.eggRoadBar,...W?tc.eggRoadBarDark:{}},children:[r.jsx("div",{style:{...tc.eggFill,...W?tc.eggFillDark:{}}}),r.jsx("span",{style:tc.eggText,children:" Progess 85%"})]})]}),r.jsx("div",{style:{...tc.appGrid,..._?tc.appGridMobile:{}},children:["Pablo","Marie","Albert","Frida","Leo","Ada"].map((e,t)=>r.jsxs(Xs,{className:"lp-app-card",style:{...tc.appCard,...W?tc.appCardDark:{}},children:[r.jsx("div",{style:{...tc.appAvatar,...W?tc.appAvatarDark:{}},children:e[0]}),r.jsx("div",{style:{...tc.appName,...W?tc.appNameDark:{}},children:e}),r.jsxs("div",{style:tc.appScore,children:["+",3*(t+2)]})]},t))}),r.jsx("div",{style:{...tc.appFab,...W?tc.appFabDark:{}},children:r.jsx(F,{size:20})})]})]}),r.jsx("div",{style:tc.blob1}),r.jsx("div",{style:tc.blob2})]})]}),r.jsxs("div",{style:{...tc.bentoGrid,..._?tc.bentoGridMobile:{}},children:[r.jsxs(Xs,{className:"lp-bento-card",style:{...tc.bentoCard,background:"linear-gradient(135deg, #F0FDF4 0%, #fff 100%)",...W?tc.bentoCardDark:{}},children:[r.jsx("div",{style:{...tc.iconBoxGreen,...W?tc.iconBoxGreenDark:{}},children:r.jsx(E,{size:28,color:"#16A34A"})}),r.jsx("h3",{style:{...W?tc.bentoTitleDark:{}},children:ue("features.meter.title")}),r.jsx("p",{style:{...tc.bentoText,...W?tc.bentoTextDark:{}},children:ue("features.meter.desc")})]}),r.jsxs(Xs,{className:"lp-bento-card",style:{...tc.bentoCard,...W?tc.bentoCardDark:{}},children:[r.jsx("div",{style:{...tc.iconBoxOrange,...W?tc.iconBoxOrangeDark:{}},children:r.jsx(F,{size:28,color:"#EA580C"})}),r.jsx("h3",{style:{...W?tc.bentoTitleDark:{}},children:ue("features.lucky.title")}),r.jsx("p",{style:{...tc.bentoText,...W?tc.bentoTextDark:{}},children:ue("features.lucky.desc")})]}),r.jsxs(Xs,{className:"lp-bento-card",style:{...tc.bentoCard,...W?tc.bentoCardDark:{}},children:[r.jsx("div",{style:{...tc.iconBoxBlue,...W?tc.iconBoxBlueDark:{}},children:r.jsx(z,{size:28,color:"#2563EB"})}),r.jsx("h3",{style:{...W?tc.bentoTitleDark:{}},children:ue("features.reports.title")}),r.jsx("p",{style:{...tc.bentoText,...W?tc.bentoTextDark:{}},children:ue("features.reports.desc")})]}),r.jsxs(Xs,{className:"lp-bento-card",style:{...tc.bentoCard,...W?tc.bentoCardDark:{}},children:[r.jsx("div",{style:{...tc.iconBoxPurple,...W?tc.iconBoxPurpleDark:{}},children:r.jsx(y,{size:28,color:"#7C3AED"})}),r.jsx("h3",{style:{...W?tc.bentoTitleDark:{}},children:ue("features.avatars.title")}),r.jsx("p",{style:{...tc.bentoText,...W?tc.bentoTextDark:{}},children:ue("features.avatars.desc")})]}),r.jsxs(Xs,{className:"lp-bento-card",style:{...tc.bentoCard,...W?tc.bentoCardDark:{}},children:[r.jsx("div",{style:{...tc.iconBoxBlue,...W?tc.iconBoxBlueDark:{}},children:r.jsx(A,{size:28,color:"#F59E42"})}),r.jsx("h3",{style:{...W?tc.bentoTitleDark:{}},children:ue("features.studio.title")}),r.jsx("p",{style:{...tc.bentoText,...W?tc.bentoTextDark:{}},children:ue("features.studio.desc")})]}),r.jsxs(Xs,{className:"lp-bento-card",style:{...tc.bentoCard,...W?tc.bentoCardDark:{}},children:[r.jsx("div",{style:{...tc.iconBoxGreen,...W?tc.iconBoxGreenDark:{}},children:r.jsx(I,{size:28,color:"#0EA5E9"})}),r.jsx("h3",{style:{...W?tc.bentoTitleDark:{}},children:ue("features.codes.title")}),r.jsx("p",{style:{...tc.bentoText,...W?tc.bentoTextDark:{}},children:ue("features.codes.desc")})]}),r.jsxs(Xs,{className:"lp-bento-card",style:{...tc.bentoCard,...W?tc.bentoCardDark:{}},children:[r.jsx("div",{style:{...tc.iconBoxOrange,...W?tc.iconBoxOrangeDark:{}},children:r.jsx(T,{size:28,color:"#16A34A"})}),r.jsx("h3",{style:{...W?tc.bentoTitleDark:{}},children:ue("features.timer.title")}),r.jsx("p",{style:{...tc.bentoText,...W?tc.bentoTextDark:{}},children:ue("features.timer.desc")})]}),r.jsxs(Xs,{className:"lp-bento-card",style:{...tc.bentoCard,...W?tc.bentoCardDark:{}},children:[r.jsx("div",{style:{...tc.iconBoxBlue,...W?tc.iconBoxBlueDark:{}},children:r.jsx(B,{size:28,color:"#F59E42"})}),r.jsx("h3",{style:{...W?tc.bentoTitleDark:{}},children:ue("features.buzzer.title")}),r.jsx("p",{style:{...tc.bentoText,...W?tc.bentoTextDark:{}},children:ue("features.buzzer.desc")})]}),r.jsxs(Xs,{className:"lp-bento-card",style:{...tc.bentoCard,...W?tc.bentoCardDark:{}},children:[r.jsx("div",{style:{...tc.iconBoxPurple,...W?tc.iconBoxPurpleDark:{}},children:r.jsx(C,{size:28,color:"#7C3AED"})}),r.jsx("h3",{style:{...W?tc.bentoTitleDark:{}},children:ue("features.whiteboard.title")}),r.jsx("p",{style:{...tc.bentoText,...W?tc.bentoTextDark:{}},children:ue("features.whiteboard.desc")})]}),r.jsxs(Xs,{className:"lp-bento-card",style:{...tc.bentoCard,...W?tc.bentoCardDark:{}},children:[r.jsx("div",{style:{...tc.iconBoxGreen,...W?tc.iconBoxGreenDark:{}},children:r.jsx(D,{size:28,color:"#16A34A"})}),r.jsx("h3",{style:{...W?tc.bentoTitleDark:{}},children:ue("features.grading.title")}),r.jsx("p",{style:{...tc.bentoText,...W?tc.bentoTextDark:{}},children:ue("features.grading.desc")})]}),r.jsxs("div",{style:{...tc.bentoCard,...W?tc.bentoCardDark:{}},children:[r.jsx("div",{style:{...tc.iconBoxOrange,...W?tc.iconBoxOrangeDark:{}},children:r.jsx(R,{size:28,color:"#EA580C"})}),r.jsx("h3",{style:{...W?tc.bentoTitleDark:{}},children:ue("features.mgmt.title")}),r.jsx("p",{style:{...tc.bentoText,...W?tc.bentoTextDark:{}},children:ue("features.mgmt.desc")})]}),r.jsxs("div",{style:{...tc.bentoCard,...W?tc.bentoCardDark:{}},children:[r.jsx("div",{style:{...tc.iconBoxBlue,...W?tc.iconBoxBlueDark:{}},children:r.jsx(j,{size:28,color:"#2563EB"})}),r.jsx("h3",{style:{...W?tc.bentoTitleDark:{}},children:ue("features.settings.title")}),r.jsx("p",{style:{...tc.bentoText,...W?tc.bentoTextDark:{}},children:ue("features.settings.desc")})]})]}),r.jsxs("section",{style:{...tc.ctaSection,...W?tc.ctaSectionDark:{}},children:[r.jsx("h2",{style:{fontSize:"36px",fontWeight:900,marginBottom:"20px",...W?{color:"#fff"}:{}},children:ue("cta.ready")}),r.jsx(Ks,{className:"lp-cta",onClick:()=>f("signup"),style:{...tc.mainCta,...W?tc.mainCtaDark:{}},children:ue("cta.join_today")})]}),p&&r.jsx("div",{style:{...tc.overlay,...W?tc.overlayDark:{}},className:"modal-overlay-in",children:r.jsxs("div",{style:{...tc.modernModal,..._?tc.modernModalMobile:{},...W?tc.modernModalDark:{}},className:"animated-modal-content modal-animate-center",children:[r.jsxs("div",{style:tc.modalHeader,children:[r.jsx("div",{children:r.jsx("h2",{style:{margin:0,fontWeight:900,fontSize:"24px"},children:ue("role"===p?"modal.who":"student-login"===p?"role.student":"signup"===p?"auth.create_btn":"auth.login_btn")})}),r.jsx("div",{onClick:()=>f(null),style:tc.closeBtn,children:r.jsx(o,{size:20})})]}),"role"===p&&r.jsxs(P.div,{style:tc.roleGrid,initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.4,ease:[.2,.8,.2,1]},children:[r.jsxs(P.div,{onClick:()=>{ne(""),f("login")},className:"lp-role-option",whileHover:{scale:1.02},whileTap:{scale:.98},style:{...tc.roleOption,...W?tc.roleOptionDark:{}},children:[r.jsx("div",{style:{...tc.roleIcon,background:W?"rgba(22, 163, 74, 0.2)":"#E8F5E9"},children:r.jsx(N,{color:"#4CAF50"})}),r.jsxs("div",{children:[r.jsx("h4",{style:{margin:0,fontSize:"16px"},children:ue("role.teacher")}),r.jsx("p",{style:{margin:0,fontSize:"13px",color:"#64748B"},children:ue("role.teacher.desc")})]})]}),r.jsxs(P.div,{onClick:()=>O("parent"),className:"lp-role-option",whileHover:{scale:1.02},whileTap:{scale:.98},style:{...tc.roleOption,...W?tc.roleOptionDark:{}},children:[r.jsx("div",{style:{...tc.roleIcon,background:W?"rgba(239, 68, 68, 0.2)":"#FFF1F2"},children:r.jsx(L,{color:"#FF5252"})}),r.jsxs("div",{children:[r.jsx("h4",{style:{margin:0,fontSize:"16px"},children:ue("role.parent")}),r.jsx("p",{style:{margin:0,fontSize:"13px",color:"#64748B"},children:ue("role.parent.desc")})]})]}),r.jsxs(P.div,{onClick:()=>{ne(""),f("student-login")},className:"lp-role-option",whileHover:{scale:1.02},whileTap:{scale:.98},style:{...tc.roleOption,...W?tc.roleOptionDark:{}},children:[r.jsx("div",{style:{...tc.roleIcon,background:W?"rgba(20, 184, 166, 0.2)":"#E0F2F1"},children:r.jsx(m,{color:"#009688"})}),r.jsxs("div",{children:[r.jsx("h4",{style:{margin:0,fontSize:"16px"},children:ue("role.student")}),r.jsx("p",{style:{margin:0,fontSize:"13px",color:"#64748B"},children:ue("role.student.desc")})]})]})]}),"student-login"===p&&r.jsxs(P.form,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.4,ease:[.2,.8,.2,1]},onSubmit:ge,style:{...tc.authForm,..._?tc.authFormMobile:{}},children:[te&&r.jsx(P.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.3,ease:[.2,.8,.2,1]},className:"lp-error-banner",style:tc.errorBanner,children:te},te),r.jsx("p",{style:{color:"#64748B",fontSize:"14px",marginBottom:"10px",...W?{color:"#a1a1aa"}:{}},children:ue("student.instructions")}),r.jsx(P.input,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.1,duration:.3},type:"text",maxLength:5,placeholder:"0 0 0 0 0",value:X,onChange:e=>K(e.target.value),style:{...tc.modernInput,..._?tc.modernInputMobile:{},...W?{background:"#27272a",borderColor:"rgba(255,255,255,0.1)",color:"#f4f4f5"}:{},textAlign:"center",fontSize:_?"20px":"24px",letterSpacing:_?"3px":"5px",fontWeight:"bold",width:"100%",boxSizing:"border-box"},autoFocus:!0}),r.jsx(Ks,{className:"lp-cta",type:"submit",disabled:re,style:{...tc.mainCtaPrimary,..._?{...tc.mainCtaMobile,width:"100%"}:{}},children:ue(re?"student.verifying":"student.enter")}),r.jsx(P.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},onClick:()=>{ne(""),f("role")},whileHover:{scale:1.05},style:{textAlign:"center",fontSize:"13px",color:"#94A3B8",cursor:"pointer",...W?{color:"#a1a1aa"}:{}},children:ue("nav.back")})]}),("signup"===p||"login"===p)&&r.jsxs("form",{onSubmit:"signup"===p?pe:fe,style:{...tc.authForm,..._?tc.authFormMobile:{}},children:[te&&r.jsx(P.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.3,ease:[.2,.8,.2,1]},className:"lp-error-banner",style:tc.errorBanner,children:te},te),"signup"===p&&r.jsx("input",{placeholder:ue("auth.fullname"),style:{...tc.modernInput,..._?tc.modernInputMobile:{},...W?{background:"#27272a",borderColor:"rgba(255,255,255,0.1)",color:"#f4f4f5"}:{},width:"100%",boxSizing:"border-box"},onChange:e=>Q(e.target.value),required:!0}),r.jsx("input",{type:"email",placeholder:ue("auth.email"),style:{...tc.modernInput,..._?tc.modernInputMobile:{},...W?{background:"#27272a",borderColor:"rgba(255,255,255,0.1)",color:"#f4f4f5"}:{},width:"100%",boxSizing:"border-box"},onChange:e=>q(e.target.value),required:!0}),r.jsx("div",{style:{display:"flex",alignItems:"center",gap:"12px",justifyContent:"space-between",flexWrap:_?"wrap":"nowrap"},children:r.jsx("input",{type:"password",placeholder:ue("auth.password"),style:{...tc.modernInput,..._?tc.modernInputMobile:{},...W?{background:"#27272a",borderColor:"rgba(255,255,255,0.1)",color:"#f4f4f5"}:{},flex:_?"1":1,minWidth:"100%",boxSizing:"border-box"},onChange:e=>V(e.target.value),required:!0})}),"signup"===p&&r.jsx("input",{type:"password",placeholder:ue("auth.confirm"),style:{...tc.modernInput,..._?tc.modernInputMobile:{},...W?{background:"#27272a",borderColor:"rgba(255,255,255,0.1)",color:"#f4f4f5"}:{},width:"100%",boxSizing:"border-box"},onChange:e=>J(e.target.value),required:!0}),r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",justifyContent:"space-between",flexWrap:_?"wrap":"nowrap"},children:[r.jsx(Ks,{className:"lp-cta",type:"submit",style:{..."signup"===p?{...tc.mainCtaPrimary,...W?tc.mainCtaPrimaryDark:{},width:"100%"}:{...tc.mainCtaSecondary,...W?tc.mainCtaSecondaryDark:{},width:"auto"},..._?{...tc.mainCtaMobile,flex:"1"}:{}},children:ue("signup"===p?"auth.create_btn":"auth.login_btn")}),"login"===p&&r.jsx("button",{type:"button",onClick:()=>{ne(""),ae(H),f("forgot-password")},style:{fontSize:"13px",color:"#64748B",background:"none",border:"none",cursor:"pointer",whiteSpace:"nowrap",...W?{color:"#a1a1aa"}:{},marginTop:_?"8px":"0"},children:ue("auth.forgot")})]}),r.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",marginTop:"16px",fontSize:"14px",color:"#64748B",...W?{color:"#a1a1aa"}:{}},children:[r.jsx("span",{children:ue("signup"===p?"auth.already":"auth.newhere")}),r.jsx(P.button,{type:"button",onClick:()=>{ne(""),f("signup"===p?"login":"signup")},whileHover:{scale:1.02},whileTap:{scale:.98},style:{background:W?"#fafafa":"#2D2D30",color:W?"#09090b":"#fff",border:"none",padding:"8px 16px",borderRadius:"8px",fontSize:"13px",fontWeight:700,cursor:"pointer",display:"inline-flex",alignItems:"center",gap:"6px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.15)",transition:"all 0.2s ease"},children:"signup"===p?r.jsxs(r.Fragment,{children:[ue("auth.login")," ",r.jsx(d,{size:14})]}):r.jsxs(r.Fragment,{children:[r.jsx(N,{size:14})," ",ue("auth.create_account")]})})]}),r.jsx(P.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},onClick:()=>{ne(""),f("role")},whileHover:{scale:1.05},style:{textAlign:"center",fontSize:"13px",color:"#94A3B8",cursor:"pointer",marginTop:"12px",...W?{color:"#a1a1aa"}:{}},children:ue("nav.back")})]}),"forgot-password"===p&&r.jsxs("form",{onSubmit:he,style:{...tc.authForm,..._?tc.authFormMobile:{}},children:[te&&r.jsx(P.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.3,ease:[.2,.8,.2,1]},className:"lp-error-banner",style:tc.errorBanner,children:te},te),le?r.jsxs(P.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.4,ease:[.2,.8,.2,1]},style:{padding:32,textAlign:"center"},children:[r.jsx("div",{style:{width:"60px",height:"60px",borderRadius:"50%",background:"#DCFCE7",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 20px"},children:r.jsxs("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"#16A34A",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("path",{d:"M22 11.08V12a10 10 0 1 0-20 0v-2a10 10 0 0 1 20 0v-2a10 10 0 1 1 20 0v2a10 10 0 1 0-20 0v-2a10 10 0 0 1 20 0v-2a10 10 0 0 1 20 0v2a10 10 0 1 0-20 0v-2a10 10 0 0 1 20 0v2z"}),r.jsx("polyline",{points:"22 12 18 12 2 7 12"}),r.jsx("polyline",{points:"22 6 18 12 2 7 12"})]})}),r.jsx("h3",{style:{color:"#16A34A",marginBottom:12,fontSize:"20px"},children:"Check your email!"}),r.jsxs("p",{style:{fontSize:"16px",color:"#64748B",marginBottom:24,...W?{color:"#a1a1aa"}:{}},children:["We've sent a password reset link to ",r.jsx("strong",{children:oe})]}),r.jsx(Ks,{type:"button",onClick:()=>{se(!1),ae(""),f("login")},style:{...tc.mainCtaSecondary,...W?tc.mainCtaSecondaryDark:{}},children:"Login"})]}):r.jsxs(r.Fragment,{children:[r.jsx("p",{style:{fontSize:"14px",color:"#64748B",marginBottom:20,...W?{color:"#a1a1aa"}:{}},children:"Enter your email and we'll send you a link to reset your password."}),r.jsx("input",{type:"email",placeholder:ue("auth.email"),value:oe,onChange:e=>ae(e.target.value),style:{...tc.modernInput,..._?tc.modernInputMobile:{},...W?{background:"#27272a",borderColor:"rgba(255,255,255,0.1)",color:"#f4f4f5"}:{},width:"100%",boxSizing:"border-box"},required:!0}),r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",justifyContent:"space-between"},children:[r.jsx(P.button,{type:"submit",whileHover:{scale:1.02},whileTap:{scale:.98},style:{...tc.mainCtaAccent,...W?tc.mainCtaAccentDark:{},width:"auto",minWidth:"140px"},children:re?"Sending...":"Send Reset Link"}),r.jsxs(P.button,{type:"button",onClick:()=>{ne(""),ae(""),f("login")},whileHover:{scale:1.02},whileTap:{scale:.98},style:{...tc.mainCtaGhost,...W?tc.mainCtaGhostDark:{},padding:"10px 16px",borderRadius:"12px",fontSize:"13px",gap:"4px",boxShadow:"none"},children:[r.jsx(M,{size:12})," Login"]})]})]})]}),"verify-email-info"===p&&r.jsxs("div",{style:{padding:32,textAlign:"center"},children:[r.jsx("h2",{style:{color:"#4CAF50",marginBottom:16},children:ue("auth.account_created")||"Account Created!"}),r.jsxs("p",{style:{fontSize:16,marginBottom:16,...W?{color:"#a1a1aa"}:{}},children:[ue("auth.verify_msg")||"Please check your email and click the verification link to activate your account.",r.jsx("br",{}),ue("auth.verify_block")||"You will not be able to log in until your email is verified."]}),r.jsx("button",{onClick:()=>{ne(""),f("login")},style:{...tc.mainCta,marginTop:16,...W?tc.mainCtaDark:{}},children:ue("auth.goto_login")||"Go to Login"})]})]})})]})}const tc={container:{background:"#fff",minHeight:"100vh",fontFamily:"'Inter', sans-serif",color:"#1A1A1A",overflowX:"hidden",paddingTop:"env(safe-area-inset-top, 0px)"},containerDark:{background:"#09090b",color:"#f4f4f5",paddingTop:"env(safe-area-inset-top, 0px)"},meshBackground:{position:"fixed",inset:0,background:"radial-gradient(at 0% 0%, rgba(76, 175, 80, 0.08) 0, transparent 50%), radial-gradient(at 100% 100%, rgba(37, 99, 235, 0.08) 0, transparent 50%)",zIndex:-1},nav:{padding:"16px 20px",display:"flex",justifyContent:"space-between",alignItems:"center",background:"rgba(252, 252, 252, 0.68)",backdropFilter:"blur(12px)",position:"sticky",top:0,zIndex:100,borderBottom:"1px solid rgba(0,0,0,0.04)"},navDark:{background:"rgba(24, 24, 27, 0.8)",borderBottom:"1px solid rgba(255,255,255,0.1)"},logo:{fontSize:"20px",fontWeight:900,letterSpacing:"-0.5px",display:"flex",alignItems:"center",flexShrink:0},navActions:{display:"flex",gap:"12px",alignItems:"center",flexWrap:"wrap",justifyContent:"flex-end"},themeToggle:{background:"none",border:"none",padding:"8px 10px",borderRadius:"8px",cursor:"pointer",color:"#64748B",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center"},themeToggleDark:{background:"rgba(255,255,255,0.1)",color:"#f4f4f5"},loginLink:{background:"none",border:"none",fontWeight:700,cursor:"pointer",fontSize:"14px",padding:"8px 12px",borderRadius:"8px"},loginLinkDark:{color:"#f4f4f5"},signupBtn:{background:"#2D2D30",color:"#fff",border:"none",padding:"10px 16px",borderRadius:"10px",fontWeight:700,cursor:"pointer",fontSize:"14px"},signupBtnDark:{background:"#fafafa",color:"#09090b"},heroSection:{display:"flex",alignItems:"center",gap:"60px",padding:"38px 60px",maxWidth:"1400px",margin:"0 auto",minHeight:"520px"},heroContent:{flex:1},tagBadge:{display:"inline-flex",alignItems:"center",gap:"8px",background:"#F0FDF4",color:"#15803D",padding:"8px 16px",borderRadius:"30px",fontSize:"13px",fontWeight:700,marginBottom:"25px",boxShadow:"0 4px 10px rgba(76, 175, 80, 0.1)"},tagBadgeDark:{background:"rgba(22, 163, 74, 0.2)",color:"#4ade80"},heroTitle:{fontSize:"72px",fontWeight:950,lineHeight:1,letterSpacing:"-2px",margin:0,color:"#09090bff"},heroTitleDark:{color:"#fafafaff"},gradientText:{background:"linear-gradient(135deg, #16A34A 0%, #2563EB 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},heroSubText:{fontSize:"18px",color:"#64748B",maxWidth:"520px",margin:"30px 0",lineHeight:1.6},heroBtnGroup:{display:"flex",gap:"15px"},mockupWrapper:{flex:1.2,position:"relative",display:"flex",justifyContent:"center"},appWindow:{width:"100%",maxWidth:"650px",height:"400px",background:"#fff",borderRadius:"24px",boxShadow:"0 40px 80px -20px rgba(0,0,0,0.15), 0 0 0 1px rgba(0,0,0,0.05)",display:"flex",overflow:"hidden",position:"relative",zIndex:10},appWindowDark:{background:"#18181b",boxShadow:"0 40px 80px -20px rgba(0,0,0,0.5), 0 0 0 1px rgba(255,255,255,0.1)"},appSidebar:{width:"70px",background:"#F8FAFC",borderRight:"1px solid #F1F5F9",display:"flex",flexDirection:"column",alignItems:"center",padding:"20px 0",gap:"20px"},appSidebarDark:{background:"#27272a",borderRight:"1px solid rgba(255,255,255,0.1)"},sidebarIconActive:{color:"#16A34A",background:"#DCFCE7",padding:"10px",borderRadius:"12px"},sidebarIconActiveDark:{background:"rgba(22, 163, 74, 0.2)",color:"#4ade80"},sidebarIcon:{color:"#94A3B8",padding:"10px"},sidebarIconDark:{color:"#a1a1aa"},appContent:{flex:1,display:"flex",flexDirection:"column",background:"#fff"},appContentDark:{background:"#18181b"},appHeader:{padding:"15px 25px",borderBottom:"1px solid #F1F5F9",display:"flex",justifyContent:"space-between",alignItems:"center"},appHeaderDark:{borderBottom:"1px solid rgba(255,255,255,0.1)"},eggRoadBar:{background:"#F0FDF4",padding:"6px 15px",borderRadius:"20px",width:"200px",position:"relative",overflow:"hidden",display:"flex",alignItems:"center"},eggRoadBarDark:{background:"rgba(22, 163, 74, 0.15)"},eggFill:{position:"absolute",left:0,top:0,bottom:0,width:"85%",background:"#4CAF50",opacity:.2},eggFillDark:{background:"#4ade80",opacity:.3},eggText:{fontSize:"11px",fontWeight:800,color:"#15803D",zIndex:1,width:"100%",textAlign:"center"},appGrid:{padding:"20px",display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"15px",overflow:"hidden"},appCard:{border:"1px solid #E2E8F0",borderRadius:"16px",padding:"15px",display:"flex",flexDirection:"column",alignItems:"center",gap:"8px"},appCardDark:{background:"#27272a",border:"1px solid rgba(255,255,255,0.1)"},appAvatar:{width:"40px",height:"40px",background:"#F1F5F9",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold",color:"#64748B"},appAvatarDark:{background:"rgba(255,255,255,0.05)",color:"#a1a1aa"},appName:{fontSize:"12px",fontWeight:700},appNameDark:{color:"#f4f4f5"},appScore:{background:"#DCFCE7",color:"#15803D",fontSize:"10px",fontWeight:800,padding:"2px 8px",borderRadius:"10px"},appFab:{position:"absolute",bottom:"20px",right:"20px",width:"50px",height:"50px",background:"#2D2D30",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",boxShadow:"0 10px 20px rgba(0,0,0,0.2)"},appFabDark:{background:"#fafafa",color:"#09090b"},blob1:{position:"absolute",top:"-50px",right:"-50px",width:"300px",height:"300px",background:"radial-gradient(circle, #BBF7D0 0%, transparent 70%)",borderRadius:"50%",zIndex:0,opacity:.6},blob2:{position:"absolute",bottom:"-50px",left:"0px",width:"250px",height:"250px",background:"radial-gradient(circle, #BFDBFE 0%, transparent 70%)",borderRadius:"50%",zIndex:0,opacity:.6},bentoGrid:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"25px"},bentoCard:{background:"#fff",border:"1px solid #E2E8F0",padding:"40px",borderRadius:"32px",display:"flex",flexDirection:"column",justifyContent:"center",boxShadow:"0 4px 6px rgba(0,0,0,0.02)",cursor:"default"},bentoCardDark:{background:"#18181b",border:"1px solid rgba(255,255,255,0.1)"},bentoTitleDark:{color:"#f4f4f5"},bentoTextDark:{color:"#a1a1aa"},iconBoxGreen:{width:"60px",height:"60px",background:"#DCFCE7",borderRadius:"16px",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"20px"},iconBoxGreenDark:{background:"rgba(22, 163, 74, 0.2)"},iconBoxOrange:{width:"60px",height:"60px",background:"#FFEDD5",borderRadius:"16px",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"20px"},iconBoxOrangeDark:{background:"rgba(234, 88, 12, 0.2)"},iconBoxBlue:{width:"60px",height:"60px",background:"#DBEAFE",borderRadius:"16px",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"20px"},iconBoxBlueDark:{background:"rgba(37, 99, 235, 0.2)"},iconBoxPurple:{width:"60px",height:"60px",background:"#F3E8FF",borderRadius:"16px",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"20px"},iconBoxPurpleDark:{background:"rgba(124, 58, 237, 0.2)"},bentoText:{fontSize:"15px",fontWeight:600,color:"#64748B",lineHeight:1.6,marginTop:"10px"},ctaSection:{textAlign:"center",padding:"0 20px 100px"},ctaSectionDark:{color:"#f4f4f5"},mainCta:{width:"100%",background:"#2D2D30",color:"#fff",border:"none",padding:"18px 36px",borderRadius:"16px",fontSize:"20px",fontWeight:700,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"10px",boxShadow:"0 10px 30px rgba(0,0,0,0.1)"},mainCtaDark:{background:"#fafafa",color:"#09090b"},mainCtaPrimary:{width:"100%",background:"linear-gradient(135deg, #10B981 0%, #059669 100%)",color:"#fff",border:"none",padding:"14px 24px",borderRadius:"12px",fontSize:"16px",fontWeight:700,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",boxShadow:"0 4px 15px rgba(16, 185, 129, 0.3)"},mainCtaPrimaryDark:{background:"linear-gradient(135deg, #34D399 0%, #10B981 100%)"},mainCtaSecondary:{background:"linear-gradient(135deg, #3B82F6 0%, #2563EB 100%)",color:"#fff",border:"none",padding:"14px 24px",borderRadius:"12px",fontSize:"16px",fontWeight:700,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",boxShadow:"0 4px 15px rgba(59, 130, 246, 0.3)"},mainCtaSecondaryDark:{background:"linear-gradient(135deg, #60A5FA 0%, #3B82F6 100%)"},mainCtaAccent:{background:"linear-gradient(135deg, #F59E0B 0%, #D97706 100%)",color:"#fff",border:"none",padding:"12px 20px",borderRadius:"10px",fontSize:"14px",fontWeight:600,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",boxShadow:"0 4px 12px rgba(245, 158, 11, 0.25)"},mainCtaAccentDark:{background:"linear-gradient(135deg, #FBBF24 0%, #F59E0B 100%)"},mainCtaGhost:{background:"transparent",border:"2px solid #2D2D30",color:"#2D2D30",padding:"12px 20px",borderRadius:"10px",fontSize:"14px",fontWeight:600,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",transition:"all 0.2s"},mainCtaGhostDark:{border:"2px solid #fafafa",color:"#fafafa"},overlay:{position:"fixed",inset:0,background:"rgba(255,255,255,0.7)",backdropFilter:"blur(15px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},overlayDark:{background:"rgba(0,0,0,0.7)"},modernModal:{width:"480px",background:"#fff",borderRadius:"32px",padding:"40px",boxShadow:"0 40px 100px rgba(0,0,0,0.1)",border:"1px solid #E2E8F0"},modernModalDark:{background:"#18181b",border:"1px solid rgba(255,255,255,0.1)"},modalHeader:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"30px"},closeBtn:{padding:"12px",background:"#F1F5F9",borderRadius:"50%",cursor:"pointer",color:"#1A1A1A",fontWeight:"bold",fontSize:"18px"},roleGrid:{display:"flex",flexDirection:"column",gap:"15px"},roleOption:{display:"flex",alignItems:"center",gap:"20px",padding:"20px",borderRadius:"20px",background:"#fff",border:"1px solid #E2E8F0",cursor:"pointer",transition:"all 0.2s",boxShadow:"0 4px 10px rgba(0,0,0,0.02)"},roleOptionDark:{background:"#18181b",borderColor:"rgba(255,255,255,0.1)"},roleIcon:{width:"50px",height:"50px",borderRadius:"14px",display:"flex",alignItems:"center",justifyContent:"center"},authForm:{display:"flex",flexDirection:"column",gap:"15px"},modernInput:{padding:"16px",borderRadius:"14px",border:"1px solid #E2E8F0",background:"#F8FAFC",fontSize:"15px",outline:"none",color:"#1A1A1A"},errorBanner:{background:"linear-gradient(135deg, #FEF2F2 0%, #FEE2E2 100%)",color:"#DC2626",padding:"14px 16px",borderRadius:"12px",fontSize:"14px",fontWeight:600,textAlign:"center",border:"2px solid #FCA5A5",boxShadow:"0 4px 12px rgba(239, 68, 68, 0.15)",position:"relative",overflow:"hidden"},navMobile:{padding:"12px 16px",flexWrap:"wrap"},heroSectionMobile:{flexDirection:"column",padding:"25px 20px",minHeight:"auto"},heroTitleMobile:{fontSize:"34px",lineHeight:1.05},heroSubTextMobile:{fontSize:"15px",maxWidth:"100%",margin:"12px 0"},mockupWrapperMobile:{display:"none"},appGridMobile:{gridTemplateColumns:"repeat(2, 1fr)"},bentoGridMobile:{gridTemplateColumns:"repeat(1, 1fr)"},modernModalMobile:{width:"calc(100% - 32px)",maxWidth:"400px",padding:"24px 20px",margin:"0 auto",boxSizing:"border-box"},authFormMobile:{maxWidth:"100%",width:"100%",boxSizing:"border-box"},modernInputMobile:{padding:"14px 12px",borderRadius:"12px",fontSize:"15px",width:"100%",boxSizing:"border-box"},mainCtaMobile:{padding:"12px 18px",fontSize:"14px"}};function nc({src:e,name:t,alt:i,style:o,...a}){const[l,s]=n.useState(()=>e||an(t));return n.useEffect(()=>{let n=!0;if(e)if("string"==typeof e&&e.startsWith("data:"))s(e);else if("string"!=typeof e||!e.startsWith("http://")&&!e.startsWith("https://")){if(!("string"==typeof e&&e.length>0)||e.includes("/"))return fetch(e,{method:"GET",mode:"cors"}).then(r=>{n&&(r.ok?s(e):s(an(t)))}).catch(()=>{n&&s(an(t))}),()=>{n=!1};s(an(t))}else fetch(e,{method:"GET",mode:"cors"}).then(r=>{n&&(r.ok?s(e):s(an(t)))}).catch(()=>{n&&s(an(t))});else s(an(t))},[e,t]),r.jsx("img",{src:l,alt:i||t,style:o,...a})}function rc(){const[e,n]=t.useState(!1);return t.useEffect(()=>{const e=()=>{const e="ontouchstart"in window||navigator.maxTouchPoints>0||window.matchMedia("(pointer: coarse)").matches;n(e)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),e}function ic({user:e,classes:n,onSelectClass:i,onAddClass:a,onLogout:s,onEditProfile:c,updateClasses:d}){const u=bt(768),p=rc(),[f,h]=t.useState(!1),[g,m]=t.useState(""),[x,y]=t.useState(null),[b,v]=t.useState(!1),[w,k]=t.useState(null),[S,C]=t.useState(null),[j,F]=t.useState(""),[E,z]=t.useState(null),[A,I]=t.useState(!1),[T,B]=t.useState(null),[D,R]=t.useState(!1),P=["Daisy","Sky","Rock","Jazz","Ocean","Mars","Luna","Pixel","Sonic","Zap","Coco","Lemon","Ruby","Aqua","Bear","Fox","Owl","Tiger","Lion","Wolf"],N=()=>{m(""),y(null),v(!1),h(!1)},L=(e,t,n,i,o,a,l,s,c)=>{const d=i||nn(t||("add"===e?"New Class":"Class"));return r.jsx("div",{style:{marginTop:45,height:"100%",display:"flex",flexDirection:"column"},children:a?r.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",height:"100%"},children:[r.jsx("h4",{style:{margin:"0 0 16px 0",fontSize:"15px",color:"#4B5563",textAlign:"center"},children:"Pick an icon"}),r.jsx("div",{className:"avatar-grid-scroll",style:oc.themeGrid,children:P.map(e=>r.jsx("div",{onClick:()=>{o(nn(e)),l(!1)},className:"theme-item",style:{cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",padding:"8px",borderRadius:"16px",transition:"all 0.2s"},children:r.jsx(nc,{src:nn(e),name:e,style:{width:64,height:64,borderRadius:"16px"}})},e))}),r.jsx("button",{onClick:()=>l(!1),className:"btn-secondary",style:{...oc.cancelBtn,marginTop:16},children:"Cancel"})]}):r.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100%"},children:[r.jsxs("div",{style:{display:"flex",gap:20,alignItems:"flex-start",marginBottom:20},children:[r.jsxs("div",{style:{width:90,flexShrink:0,display:"flex",flexDirection:"column",alignItems:"center"},children:[r.jsx("div",{onClick:()=>l(!0),className:"avatar-trigger-hover",style:{width:90,height:90,borderRadius:20,overflow:"hidden",background:"#F3F4F6",cursor:"pointer",boxShadow:"0 4px 12px rgba(0,0,0,0.08)",border:"3px solid white",transition:"all 0.2s"},children:r.jsx(nc,{src:d,name:t,style:{width:"100%",height:"100%",objectFit:"cover"}})}),r.jsx("button",{onClick:()=>l(!0),style:oc.textBtn,children:"Change"})]}),r.jsxs("div",{style:{flex:1,paddingTop:4},children:[r.jsx("label",{style:oc.label,children:"Class Name"}),r.jsx("input",{style:oc.largeInput,placeholder:"add"===e?"e.g. 5th Grade Science":"",value:t,onChange:e=>n(e.target.value),autoFocus:"add"===e})]})]}),r.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",marginBottom:20},children:[r.jsx("label",{style:oc.label,children:"Or upload your own photo"}),r.jsxs("label",{htmlFor:`upload-${e}-${c||"new"}`,style:oc.largeDropzone,children:[r.jsx("div",{style:{background:"#F3F4F6",padding:12,borderRadius:"50%",marginBottom:8},children:r.jsx(V,{size:20,color:"#6B7280"})}),r.jsx("span",{style:{fontSize:"14px",fontWeight:"600",color:"#4B5563"},children:"Click to upload image"}),r.jsx("span",{style:{fontSize:"12px",color:"#9CA3AF"},children:"SVG, PNG, JPG"})]}),r.jsx("input",{id:`upload-${e}-${c||"new"}`,type:"file",accept:"image/*",onChange:e=>{const t=e.target.files&&e.target.files[0];if(!t)return;const n=new FileReader;n.onload=()=>o(n.result),n.readAsDataURL(t)},style:{display:"none"}})]}),r.jsx("div",{children:r.jsx("button",{onClick:s,className:"btn-primary",style:{...oc.saveBtn,opacity:t.trim()?1:.6,cursor:t.trim()?"pointer":"not-allowed"},disabled:!t.trim(),children:"add"===e?"Create Class":"Save Changes"})})]})})},M=n?n.find(e=>e.id===S):null,O=n?n.find(e=>e.id===T):null;return r.jsxs("div",{style:{...oc.container,fontFamily:"Inter, ui-sans-serif, system-ui, -apple-system"},children:[r.jsx("style",{children:"\n  @keyframes pulse-border {\n    0% { box-shadow: 0 0 0 0 rgba(76, 175, 80, 0.4); }\n    70% { box-shadow: 0 0 0 10px rgba(76, 175, 80, 0); }\n    100% { box-shadow: 0 0 0 0 rgba(76, 175, 80, 0); }\n  }\n  .class-card-hover:hover {\n    transform: translateY(-5px);\n    border-color: #4CAF50 !important;\n  }\n  .add-card-hover:hover {\n    background-color: #F0FDF4 !important;\n    border-color: #4CAF50 !important;\n    color: #4CAF50 !important;\n    animation: pulse-border 2s infinite;\n  }\n  .avatar-trigger-hover:hover {\n    opacity: 0.98;\n    /* avoid scaling which can cause mouseleave/mouseenter flicker */\n    transform: translateY(-2px);\n    border-color: #4CAF50 !important;\n    box-shadow: 0 8px 20px rgba(16,24,40,0.06);\n  }\n  .theme-item:hover {\n    transform: scale(1.06);\n    box-shadow: 0 6px 18px rgba(0,0,0,0.12);\n    z-index: 5;\n  }\n  .btn-primary {\n    transition: all 0.2s ease;\n  }\n  .btn-primary:hover {\n    transform: translateY(-2px);\n    box-shadow: 0 6px 20px rgba(76, 175, 80, 0.3);\n  }\n  .btn-danger {\n    transition: all 0.2s ease;\n  }\n  .btn-danger:hover {\n    transform: translateY(-2px);\n    box-shadow: 0 6px 20px rgba(239, 68, 68, 0.3);\n  }\n  .btn-secondary {\n    transition: all 0.2s ease;\n  }\n  .btn-secondary:hover {\n    transform: translateY(-2px);\n    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.1);\n    background: #E5E7EB;\n  }\n  .hover-show { opacity: 0; transition: opacity 160ms ease; pointer-events: none; }\n  .avatar-trigger-hover:hover .hover-show { opacity: 1; }\n  /* Custom scrollbar for avatar grid */\n  .avatar-grid-scroll::-webkit-scrollbar {\n    width: 6px;\n  }\n  .avatar-grid-scroll::-webkit-scrollbar-track {\n    background: #f1f1f1;\n    border-radius: 4px;\n  }\n  .avatar-grid-scroll::-webkit-scrollbar-thumb {\n    background: #d1d5db;\n    border-radius: 4px;\n  }\n  /* Logout button styles */\n  .logout-btn { background: linear-gradient(135deg, #FEF2F2 0%, #FEE2E2 100%); border: 2px solid #FECACA; padding: 11px 18px; border-radius: 14px; display: inline-flex; align-items: center; gap: 8px; color: #DC2626; cursor: pointer; transition: all 160ms ease; font-weight: 700; box-shadow: 0 2px 8px rgba(220, 38, 38, 0.1); }\n  .logout-btn:hover { transform: translateY(-2px) scale(1.02); box-shadow: 0 6px 20px rgba(220, 38, 38, 0.25); background: linear-gradient(135deg, #FEE2E2 0%, #FECACA 100%); border-color: #F87171; }\n"}),r.jsxs("nav",{style:{...oc.nav},children:[r.jsx("div",{style:{display:"flex",alignItems:"center",gap:12},children:e&&r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10},children:[r.jsx("button",{onClick:e=>{e.stopPropagation(),c&&c()},"aria-label":"Edit profile",style:oc.navAvatarBtn,children:r.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[r.jsx(nc,{src:e.avatar,name:e.name||e.email,style:{width:u?32:36,height:u?32:36,borderRadius:10,objectFit:"cover"}}),!u&&r.jsx("div",{style:oc.avatarHint,children:"Edit profile"})]})}),r.jsx("div",{style:{fontWeight:700,fontSize:u?"14px":"16px"},children:e.name||e.email})]})}),r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[r.jsx(Ls,{pageId:"teacher-portal"}),r.jsxs("button",{onClick:()=>R(!0),style:{...oc.logoutBtn,padding:u?"8px 12px":"10px 16px"},children:[r.jsx(l,{size:u?16:18}),r.jsx("span",{style:{marginLeft:6,fontWeight:700,fontSize:u?"13px":"14px"},children:"Logout"})]})]})]}),r.jsxs("main",{style:{...oc.main},children:[r.jsx("div",{style:{...oc.header},children:r.jsx("h2",{style:{margin:0,fontSize:u?"20px":"24px"},children:"My Classes"})}),r.jsxs("div",{style:{...oc.grid,gridTemplateColumns:u?"repeat(auto-fit, minmax(140px, 1fr))":oc.grid.gridTemplateColumns,gap:u?"12px":oc.grid.gap},children:[(n||[]).map(e=>r.jsxs("div",{className:"class-card-hover",onClick:()=>{(w||u)&&i(e.id)},onMouseEnter:()=>k(e.id),onMouseLeave:()=>k(null),style:{...oc.classCard,position:"relative",cursor:"pointer",transition:"all 0.3s ease",border:"2px solid transparent"},children:[r.jsx("button",{onClick:t=>{t.stopPropagation(),(e=>{C(e.id),F(e.name),z(null),I(!1)})(e)},style:{...oc.iconBtn,position:"absolute",top:12,right:12,opacity:w===e.id||p?1:0,pointerEvents:w===e.id||p?"auto":"none",transition:"opacity 0.2s ease",zIndex:10},title:"Edit class",children:r.jsx(H,{size:18})}),"demo-class"!==e.id&&r.jsx("button",{onClick:t=>{t.stopPropagation(),B(e.id)},style:{...oc.iconBtn,color:"#FF6B6B",position:"absolute",top:12,left:12,opacity:w===e.id||p?1:0,pointerEvents:w===e.id||p?"auto":"none",transition:"opacity 0.2s ease",zIndex:10},title:"Delete class",children:r.jsx(q,{size:18})}),"demo-class"===e.id&&r.jsx("div",{style:{position:"absolute",top:8,right:8,background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",padding:"4px 10px",borderRadius:20,fontSize:"0.75rem",fontWeight:600,boxShadow:"0 2px 8px rgba(102, 126, 234, 0.3)",zIndex:10},children:"DEMO"}),r.jsx("div",{style:oc.classIcon,children:r.jsx("div",{style:{width:"85%",height:110,borderRadius:12,overflow:"hidden",display:"flex",alignItems:"center",justifyContent:"center"},children:r.jsx(nc,{src:e.avatar||nn(e.name||"class"),name:e.name,style:{width:"100%",height:"100%",objectFit:"cover",borderRadius:12}})})}),r.jsx("h3",{style:{margin:"10px 0 5px"},children:e.name}),r.jsxs("p",{style:{margin:0,color:"#666",fontSize:"0.9rem"},children:[e.students.length," Students"]})]},e.id)),r.jsxs("div",{className:"add-card-hover",onClick:()=>h(!0),style:{...oc.classCard,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",border:"2px dashed #CBD5E1",backgroundColor:"#F8FAFC",boxShadow:"none",color:"#64748B",transition:"all 0.3s ease"},children:[r.jsx("div",{style:{background:"white",padding:12,borderRadius:"50%",marginBottom:12,boxShadow:"0 2px 4px rgba(0,0,0,0.05)"},children:r.jsx(U,{size:32})}),r.jsx("span",{style:{fontWeight:600,fontSize:"1.1rem"},children:"Add New Class"})]})]})]}),f&&r.jsx("div",{style:oc.overlay,className:"modal-overlay-in",children:r.jsxs("div",{style:oc.standardModal,className:"animated-modal-content modal-animate-center",children:[r.jsx("div",{style:oc.modalTitleAbs,children:"Create New Class"}),r.jsx("button",{onClick:N,style:oc.modalCloseAbs,children:r.jsx(o,{size:20})}),L("add",g,m,x,y,b,v,()=>{if(!g.trim())return;const e={id:Date.now(),name:g,students:[],avatar:x||nn(g||"class"),stats:{stars:0,eggs:0}};a(e),N()},null)]})}),S&&M&&r.jsx("div",{style:oc.editOverlay,onClick:()=>C(null),className:"modal-overlay-in",children:r.jsxs("div",{style:oc.standardModal,onClick:e=>e.stopPropagation(),className:"animated-modal-content modal-animate-center",children:[r.jsx("div",{style:oc.modalTitleAbs,children:"Edit Class"}),r.jsx("button",{onClick:()=>C(null),style:oc.modalCloseAbs,children:r.jsx(o,{size:20})}),L("edit",j,F,E||M.avatar,z,A,I,()=>(e=>{const t=(n||[]).map(t=>t.id===e?{...t,name:j,avatar:E||t.avatar}:t);d(t),C(null)})(S),S)]})}),T&&O&&r.jsx("div",{style:oc.editOverlay,onClick:()=>B(null),className:"modal-overlay-in",children:r.jsxs("div",{style:oc.deleteModal,onClick:e=>e.stopPropagation(),className:"animated-modal-content modal-animate-center",children:[r.jsx("div",{style:oc.deleteModalTitle,children:"Delete Class?"}),r.jsx("button",{onClick:()=>B(null),style:oc.modalCloseAbs,children:r.jsx(o,{size:20})}),r.jsxs("div",{style:{marginTop:40,textAlign:"center"},children:[r.jsx("div",{style:{width:64,height:64,margin:"0 auto 16px",borderRadius:16,overflow:"hidden"},children:r.jsx(nc,{src:O.avatar||nn(O.name||"class"),name:O.name,style:{width:"100%",height:"100%",objectFit:"cover"}})}),r.jsxs("p",{style:{marginBottom:20,color:"#4B5563",fontSize:"1rem",lineHeight:1.5},children:["Are you sure you want to delete ",r.jsx("b",{children:O.name}),"?",r.jsx("br",{}),r.jsx("span",{style:{fontSize:"0.85rem",color:"#EF4444"},children:"This cannot be undone."})]}),r.jsxs("div",{style:{display:"flex",gap:10},children:[r.jsx("button",{onClick:()=>(e=>{const t=(n||[]).filter(t=>t.id!==e);d(t),B(null)})(T),className:"btn-danger",style:{...oc.deleteConfirmBtn,flex:1,padding:"12px 16px"},children:"Delete"}),r.jsx("button",{onClick:()=>B(null),className:"btn-secondary",style:{...oc.cancelBtn,flex:1,padding:"12px 16px"},children:"Cancel"})]})]})]})}),D&&r.jsx("div",{style:oc.editOverlay,onClick:()=>R(!1),children:r.jsxs("div",{style:oc.deleteModal,onClick:e=>e.stopPropagation(),children:[r.jsx("div",{style:oc.deleteModalTitle,children:"Are you sure?"}),r.jsx("button",{onClick:()=>R(!1),style:oc.modalCloseAbs,children:r.jsx(o,{size:20})}),r.jsxs("div",{style:{marginTop:50,textAlign:"center"},children:[r.jsx("div",{style:{width:80,height:80,margin:"0 auto 20px",borderRadius:20,background:"#FEF2F2",display:"flex",alignItems:"center",justifyContent:"center"},children:r.jsx(l,{size:40,color:"#DC2626"})}),r.jsx("p",{style:{marginBottom:30,color:"#4B5563",fontSize:"1.1rem",lineHeight:1.5},children:"Are you sure you want to logout?"}),r.jsxs("div",{style:{display:"flex",gap:12},children:[r.jsx("button",{onClick:()=>{R(!1),s()},className:"btn-danger",style:{...oc.deleteConfirmBtn,flex:1,padding:"14px 16px",background:"#DC2626"},children:"Yes"}),r.jsx("button",{onClick:()=>R(!1),className:"btn-secondary",style:{...oc.cancelBtn,flex:1,padding:"14px 16px"},children:"No"})]})]})]})})]})}const oc={container:{minHeight:"100vh",background:"#F4F1EA",overflowX:"hidden",boxSizing:"border-box",paddingTop:"env(safe-area-inset-top, 0px)"},nav:{padding:"calc(16px + env(safe-area-inset-top, 0px)) 20px",display:"flex",justifyContent:"space-between",background:"white",borderBottom:"1px solid #ddd",boxSizing:"border-box"},logoutBtn:{background:"#FEF2F2",border:"1px solid #FECACA",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",padding:"10px 16px",borderRadius:12,color:"#DC2626",fontWeight:700,transition:"all 0.2s"},navAvatarBtn:{background:"transparent",border:"none",padding:0,display:"inline-flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},avatarHint:{fontSize:11,color:"#475569",marginTop:4,fontWeight:700,lineHeight:"12px"},main:{padding:"20px",maxWidth:"100%",boxSizing:"border-box"},header:{display:"flex",justifyContent:"space-between",marginBottom:"20px",alignItems:"center"},grid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(150px, 1fr))",gap:"16px"},classCard:{background:"white",padding:"20px",borderRadius:"24px",textAlign:"center",cursor:"pointer",boxShadow:"0 6px 16px rgba(0,0,0,0.06)",minHeight:"170px",display:"flex",flexDirection:"column"},iconBtn:{background:"white",border:"1px solid #ddd",borderRadius:8,padding:"8px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",color:"#4CAF50",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},classIcon:{marginBottom:6,width:"100%",display:"flex",justifyContent:"center",alignItems:"center"},overlay:{position:"fixed",inset:0,background:"rgba(0,0,0,0.6)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3,backdropFilter:"blur(3px)"},editOverlay:{position:"fixed",inset:0,background:"rgba(0,0,0,0.6)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:2e3,backdropFilter:"blur(3px)"},standardModal:{background:"white",padding:"32px",borderRadius:"24px",width:"480px",maxWidth:"90vw",position:"relative",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)",display:"flex",flexDirection:"column",height:"auto",minHeight:"420px"},modalTitleAbs:{position:"absolute",top:24,left:32,fontSize:"20px",fontWeight:"bold",color:"#111827"},modalCloseAbs:{position:"absolute",top:20,right:20,background:"#F3F4F6",border:"none",cursor:"pointer",padding:8,borderRadius:"50%",color:"#6B7280",display:"flex",alignItems:"center",justifyContent:"center",transition:"background 0.2s"},label:{display:"block",fontSize:"13px",fontWeight:"600",color:"#374151",marginBottom:6,textAlign:"left"},largeInput:{width:"100%",padding:"14px 16px",borderRadius:"14px",border:"1px solid #E5E7EB",fontSize:"16px",boxSizing:"border-box",outline:"none",transition:"border-color 0.2s",background:"#F9FAFB"},largeDropzone:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",background:"white",border:"2px dashed #E5E7EB",borderRadius:"16px",cursor:"pointer",transition:"all 0.2s",minHeight:"120px"},textBtn:{background:"none",border:"none",color:"#4CAF50",fontSize:"12px",fontWeight:"600",cursor:"pointer",padding:"6px 0"},saveBtn:{width:"100%",padding:"16px",background:"#4CAF50",color:"white",border:"none",borderRadius:"16px",fontWeight:"bold",fontSize:"16px",cursor:"pointer",boxShadow:"0 4px 6px rgba(76, 175, 80, 0.2)"},cancelBtn:{width:"100%",padding:"14px",background:"#F3F4F6",color:"#374151",border:"none",borderRadius:"16px",fontWeight:"bold",cursor:"pointer"},deleteConfirmBtn:{padding:"14px",background:"#EF4444",color:"white",border:"none",borderRadius:"16px",fontWeight:"bold",cursor:"pointer"},deleteModal:{background:"white",padding:"32px",borderRadius:"24px",width:"480px",maxWidth:"90vw",position:"relative",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)",display:"flex",flexDirection:"column",height:"auto"},deleteModalTitle:{position:"absolute",top:24,left:32,fontSize:"20px",fontWeight:"bold",color:"#111827"},themeGrid:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"12px",overflowY:"auto",flex:1,padding:"4px"}};function ac({user:e,onSave:n,onClose:i}){const[a,l]=t.useState(e.name||""),[s,c]=t.useState(e.avatar||nn(e.name||e.email));const[d,u]=t.useState(function(){if(!e.avatar)return"";for(const t of Zt)if(e.avatar===rn(t.name))return t.name;return""}()),[p,f]=t.useState(null),[h,g]=t.useState(!1),[m,x]=t.useState(null),y=t.useRef(null),b=t.useRef(null),[v,w]=t.useState(""),[k,S]=t.useState(""),[C,j]=t.useState(""),[F,E]=t.useState(""),[z,A]=t.useState(!1),I=t.useCallback(()=>{if(!y.current)return{top:0,left:0};const e=y.current.getBoundingClientRect();return{top:e.bottom+10,left:e.left+e.width/2-175}},[]);Rs(()=>{v&&v!==C?E("Passwords do not match."):a.trim()?T({preventDefault:()=>{}}):E("Name cannot be empty.")},i,!h);const T=async t=>{if(t.preventDefault(),E(""),v&&v!==C)E("Passwords do not match.");else{A(!0);try{let t=s;d&&(t=rn(d)),p&&(t=p),await n({id:e.id,name:a,avatar:t,password:v,oldPassword:k}),i()}catch(r){E(r.message||"Failed to update profile.")}finally{A(!1)}}},B=e=>{e.stopPropagation(),g(!h)},D=p||(d?rn(d):a?nn(a):an("U"));return r.jsx("div",{style:lc.overlay,className:"modal-overlay-in",children:r.jsxs("div",{style:lc.modal,className:"animated-modal-content modal-animate-center",children:[r.jsx("h2",{children:"Edit Profile"}),r.jsx("button",{onClick:i,style:lc.closeBtn,children:r.jsx(o,{})}),r.jsxs("form",{onSubmit:T,style:lc.form,children:[r.jsxs("div",{style:{...lc.avatarSection,overflow:"visible",position:"relative"},ref:y,children:[r.jsxs("div",{style:{...lc.previewContainer,cursor:"pointer"},onClick:B,children:[r.jsx("img",{src:D,alt:"Preview",style:lc.previewImg,onError:e=>{e.target.onerror=null,e.target.src=an(a)}}),r.jsx("div",{style:lc.cameraBadge,children:r.jsx(G,{size:14})})]}),r.jsx("div",{style:{marginTop:8,textAlign:"center",fontSize:13,color:"#64748B",fontWeight:500,cursor:"pointer"},onClick:B,children:"Change avatar"}),r.jsx("input",{ref:b,id:"profile-avatar-upload",type:"file",accept:"image/*",style:{display:"none"},onChange:e=>{const t=e.target.files[0];if(!t)return;if(t.size>1048576)return void E("Image is too large. Please choose a smaller image (under 1MB).");const n=new FileReader;n.onload=()=>{c(n.result),f(n.result),u("")},n.onerror=()=>E("Failed to read file."),n.readAsDataURL(t)}}),r.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center",justifyContent:"center",marginTop:12},children:[r.jsx("button",{type:"button",onClick:()=>b.current&&b.current.click(),style:lc.uploadBtn,children:p?"Change Photo":"Upload Photo"}),p&&r.jsx("button",{type:"button",onClick:()=>{f(null),u("")},style:lc.removeBtn,children:"Remove"})]})]}),h&&y.current&&r.jsx(r.Fragment,{children:Xe.createPortal(r.jsx("div",{style:{position:"fixed",...I(),background:"white",border:"1px solid #E2E8F0",borderRadius:"12px",boxShadow:"0 10px 25px rgba(0,0,0,0.15)",zIndex:100001,padding:"12px",minWidth:"350px"},onClick:e=>e.stopPropagation(),className:"animated-modal-content modal-animate-scale",children:r.jsx("div",{style:lc.avatarGrid,children:Zt.map(e=>r.jsxs("button",{onClick:t=>{t.stopPropagation(),u(e.name),f(null),g(!1)},onMouseEnter:()=>x(e.name),onMouseLeave:()=>x(null),style:{...lc.avatarOption,...d===e.name?lc.avatarOptionSelected:{},...m===e.name?{transform:"scale(1.15)",zIndex:10,boxShadow:"0 8px 16px rgba(0,0,0,0.15)"}:{}},title:e.label,children:[r.jsx("img",{src:rn(e.name),alt:e.label,style:{...lc.avatarImg,...m===e.name?{transform:"scale(5)",position:"absolute",bottom:"calc(100% - 80px)",left:"50%",marginLeft:"-20px",zIndex:20}:{}}}),r.jsx("span",{style:lc.avatarLabel,children:e.name})]},e.name))})}),document.body)}),r.jsx("input",{value:a,onChange:e=>l(e.target.value),placeholder:"Full Name",style:lc.input}),r.jsx("input",{type:"password",value:k,onChange:e=>S(e.target.value),placeholder:"Current Password (to change password)",style:lc.input}),r.jsx("input",{type:"password",value:v,onChange:e=>w(e.target.value),placeholder:"New Password",style:lc.input}),r.jsx("input",{type:"password",value:C,onChange:e=>j(e.target.value),placeholder:"Confirm New Password",style:lc.input}),F&&r.jsx("div",{style:{color:"red",textAlign:"center"},children:F}),r.jsx("button",{"data-enter-submit":!0,type:"submit",style:lc.saveBtn,disabled:z,children:z?"Saving...":"Save Changes"})]})]})})}const lc={overlay:{position:"fixed",inset:0,background:"rgba(0,0,0,0.15)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:2e3},modal:{background:"#fff",borderRadius:16,padding:25,minWidth:300,maxWidth:320,position:"relative",boxShadow:"0 8px 32px rgba(0,0,0,0.12)"},closeBtn:{position:"absolute",top:12,right:16,background:"none",border:"none",fontSize:24,cursor:"pointer",color:"#94A3B8"},form:{display:"flex",flexDirection:"column",gap:12,marginTop:8},avatarSection:{display:"flex",flexDirection:"column",alignItems:"center",marginBottom:8,overflow:"visible",position:"relative"},previewContainer:{position:"relative",marginBottom:"10px"},previewImg:{width:"80px",height:"80px",borderRadius:"50%",background:"#F8FAFC",border:"3px solid #E2E8F0"},cameraBadge:{position:"absolute",bottom:0,right:0,background:"#4CAF50",color:"white",padding:"5px",borderRadius:"50%"},uploadBtn:{padding:"8px 12px",borderRadius:"10px",border:"none",background:"#4CAF50",color:"white",cursor:"pointer",fontWeight:"bold",fontSize:13},removeBtn:{padding:"7px 10px",borderRadius:"10px",border:"1px solid #E2E8F0",background:"white",cursor:"pointer",fontSize:12},avatarGrid:{display:"grid",gridTemplateColumns:"repeat(6, 1fr)",gap:"8px",justifyItems:"center",width:"100%"},avatarOption:{background:"white",border:"2px solid #e9ecef",borderRadius:"8px",padding:"6px",cursor:"pointer",transition:"all 0.2s ease",display:"flex",flexDirection:"column",alignItems:"center",gap:"3px",fontSize:"8px",color:"#666",fontWeight:500,outline:"none",width:"45px",justifySelf:"center",position:"relative"},avatarOptionSelected:{background:"white",border:"2px solid #4CAF50",boxShadow:"0 0 0 3px rgba(76, 175, 80, 0.1)"},avatarImg:{width:"26px",height:"26px",borderRadius:"5px"},avatarLabel:{fontSize:"7px",color:"#999",textTransform:"capitalize"},input:{padding:9,borderRadius:7,border:"1px solid #eee",fontSize:14},saveBtn:{background:"#4CAF50",color:"#fff",border:"none",borderRadius:7,padding:"10px",fontWeight:700,fontSize:15,cursor:"pointer"}},sc=({student:e,onClick:n,onEdit:i,onDelete:o,animating:a=!1,animationType:l="small",isCompact:s=!1})=>{const[c,d]=t.useState(!1),[u,p]=t.useState(!1),f=rc(),h="undefined"!=typeof window&&window.matchMedia&&window.matchMedia("(prefers-reduced-motion: reduce)").matches;t.useEffect(()=>{if(!h){if(a){p(!0);const e=setTimeout(()=>p(!1),{small:800,medium:1200,large:1600,confetti:2200}[l]||900);return()=>clearTimeout(e)}p(!1)}},[a,l]);const g=e.avatar||nn(e.name,e.gender);return r.jsxs("div",{className:"student-card","data-student-id":e.id,onClick:t=>{if(!t.target.closest("[data-action-btn]")){const r=t.currentTarget.getBoundingClientRect(),i=r.left+r.width/2+window.scrollX,o=r.top+r.height/2+window.scrollY;n&&n(e,{x:i,y:o})}},style:{backgroundColor:"white",borderRadius:s?"12px":"24px",padding:s?"6px":"20px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",boxShadow:u?"confetti"===l?"0 30px 60px rgba(255, 192, 203, 0.3), 0 10px 30px rgba(99,102,241,0.12)":"0 20px 40px rgba(76,175,80,0.18)":"0 8px 16px rgba(0,0,0,0.05)",cursor:"pointer",transition:u?"transform 200ms cubic-bezier(.2,.9,.2,1), box-shadow 200ms":"transform 0.2s",transform:u?"small"===l?"scale(1.06)":"medium"===l?"scale(1.1) rotate(-1deg)":"large"===l?"scale(1.14)":"scale(1.16)":void 0,position:"relative",aspectRatio:"1 / 1",width:"100%",boxSizing:"border-box"},onPointerEnter:e=>{"touch"!==e.pointerType&&(d(!0),e.currentTarget.style.transform="scale(1.05)")},onPointerLeave:e=>{"touch"!==e.pointerType&&(d(!1),e.currentTarget.style.transform="scale(1)")},children:[!s&&(c||f)&&(i||o)&&r.jsxs("div",{style:{position:"absolute",top:"10px",right:"10px",display:"flex",gap:"8px",zIndex:10},children:[i&&r.jsx("button",{"data-action-btn":!0,onClick:t=>{t.stopPropagation(),i(e)},style:{background:"white",border:"1px solid #ddd",borderRadius:"8px",padding:"8px",cursor:"pointer",color:"#4CAF50",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},onMouseEnter:e=>e.currentTarget.style.background="#E8F5E9",onMouseLeave:e=>e.currentTarget.style.background="white",children:r.jsx(H,{size:16})}),o&&r.jsx("button",{"data-action-btn":!0,onClick:t=>{t.stopPropagation(),o(e)},style:{background:"white",border:"1px solid #ddd",borderRadius:"8px",padding:"8px",cursor:"pointer",color:"#FF6B6B",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},onMouseEnter:e=>e.currentTarget.style.background="#FFEBEE",onMouseLeave:e=>e.currentTarget.style.background="white",children:r.jsx(q,{size:16})})]}),s?r.jsx("div",{style:{position:"absolute",top:"4px",left:"4px",background:"rgba(227, 242, 253, 0.95)",color:"#2196F3",padding:"2px 6px",borderRadius:"6px",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold",fontSize:"11px",border:"1px solid white",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",zIndex:2},children:e.score}):r.jsx("div",{style:{position:"absolute",top:"12px",left:"12px",background:"#E3F2FD",color:"#2196F3",width:"clamp(36px, 12%, 56px)",height:"clamp(36px, 12%, 56px)",borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold",fontSize:"clamp(0.9rem, 3vw, 1.3rem)"},children:e.score}),r.jsx(nc,{src:g,name:e.name,alt:e.name,loading:"lazy",style:{width:s?"50%":"70%",height:s?"50%":"70%",borderRadius:"50%",objectFit:"cover",border:s?"2px solid white":"clamp(3px, 1.5%, 6px) solid white",boxShadow:u?"confetti"===l?"0 12px 36px rgba(255, 105, 180, 0.25)":"0 10px 30px rgba(76,175,80,0.18)":"0 4px 10px rgba(0,0,0,0.1)",backgroundColor:"#FFEAA7",transition:"transform 220ms ease, box-shadow 220ms ease"}}),s?r.jsxs("svg",{viewBox:"0 0 150 50",style:{position:"absolute",bottom:"-10px",left:"50%",transform:"translateX(-50%)",width:"92%",height:"48px",pointerEvents:"none"},children:[r.jsx("defs",{children:r.jsx("path",{id:`textPathStudent-${e.id}`,d:"M 10,5 Q 75,50 140,5"})}),r.jsx("text",{fill:"#2D3436",fontSize:"14",fontWeight:"900",textAnchor:"middle",children:r.jsx("textPath",{href:`#textPathStudent-${e.id}`,startOffset:"50%",children:e.name})})]}):r.jsx("div",{style:{position:"absolute",bottom:"14px",fontWeight:"800",fontSize:"clamp(0.9rem, 4%, 1.2rem)",color:"#2D3436",textAlign:"center",maxWidth:"85%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e.name}),u&&"confetti"===l&&r.jsx("div",{style:{position:"absolute",top:"8px",right:"8px",pointerEvents:"none"},children:r.jsx("span",{style:{fontSize:22},children:""})})]})};function cc({student:e,behaviors:i,onClose:a,onGivePoint:l,hideName:s=!1}){const c=Array.isArray(i)?i:[],d=n.useMemo(()=>c.map(e=>({...e,type:Array.isArray(e.type)?e.type[0]:"string"==typeof e.type?e.type:""})),[i]),u=d.filter(e=>"wow"===e.type),p=d.filter(e=>"nono"===e.type),[f,h]=n.useState("wow"),[g,m]=t.useState([]),[x,y]=t.useState(!1),[b,v]=t.useState(""),[w,k]=t.useState(!1),[S,C]=t.useState(null),[j,F]=t.useState([]),[E,z]=t.useState(!1),[A,I]=t.useState([]);return Rs(null,a,"import"!==f),t.useEffect(()=>{let e=!0;return"import"===f&&(async()=>{y(!0);try{const t=await ht.pbRequest("/collections/classes/records");if(!e)return;const n=t&&t.items?t.items:Array.isArray(t)?t:[];m(n)}catch(t){console.error("Failed to fetch classes for import",t),m([])}finally{y(!1)}})(),()=>{e=!1}},[f]),t.useEffect(()=>{let e=!0;return(async()=>{if("import"!==f||!b)return F([]),void I([]);z(!0);try{const t=await ht.getBehaviors();if(!e)return;F(t);const n=new Set((d||[]).map(e=>(e.label||"").toLowerCase().trim())),r=t.filter(e=>{const t=(e?.label||"").toLowerCase().trim();return t&&!n.has(t)});I(r)}catch(t){console.error("Failed to fetch source class behaviors",t),F([]),I([])}finally{z(!1)}})(),()=>{e=!1}},[b,f,d]),r.jsx("div",{style:dc.overlay,onClick:a,className:"modal-overlay-in animated-modal-overlay",children:r.jsxs("div",{style:dc.modalCard,onClick:e=>e.stopPropagation(),className:"modal-animate-center animated-modal-content",children:[r.jsxs("div",{style:dc.header,children:[r.jsx("button",{style:dc.closeBtn,onClick:e=>{e.stopPropagation(),a()},onMouseDown:e=>e.stopPropagation(),"aria-label":"Close",children:r.jsx(o,{size:24})}),r.jsxs("div",{style:{position:"relative",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:[r.jsx("div",{style:{position:"absolute",left:1,top:1,textTransform:"uppercase",fontWeight:900,color:"#ba3d3dff",fontSize:13,letterSpacing:.6,"@media (max-width: 640px)":{fontSize:11,letterSpacing:.4}},children:"Give Points"}),r.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:8},children:[!s&&r.jsxs("div",{style:dc.avatarWrapper,children:[r.jsx(nc,{src:e.avatar||nn(e.name,e.gender),name:e.name,alt:e.name,style:dc.avatar}),r.jsx("div",{style:dc.scoreBadge,children:e.score})]}),!s&&r.jsx("h2",{style:dc.studentName,children:e.name})]})]})]}),r.jsxs("div",{style:dc.contentScroll,children:[r.jsxs("div",{style:{display:"flex",gap:10,marginBottom:14,justifyContent:"center","@media (max-width: 640px)":{gap:6,marginBottom:10}},children:[r.jsx("button",{onClick:()=>h("wow"),style:{padding:"7px 14px",borderRadius:10,border:"wow"===f?"2px solid #4CAF50":"1px solid #E6EEF2",background:"wow"===f?"#E8F5E9":"transparent",cursor:"pointer",fontSize:"0.85rem",fontWeight:700,"@media (max-width: 640px)":{padding:"6px 10px",fontSize:"0.75rem"}},children:"WOW CARDS"}),r.jsx("button",{onClick:()=>h("nono"),style:{padding:"7px 14px",borderRadius:10,border:"nono"===f?"2px solid #F44336":"1px solid #E6EEF2",background:"nono"===f?"#FFEBEE":"transparent",cursor:"pointer",fontSize:"0.85rem",fontWeight:700,"@media (max-width: 640px)":{padding:"6px 10px",fontSize:"0.75rem"}},children:"NO-NO CARDS"}),r.jsx("button",{onClick:()=>h("import"),style:{padding:"7px 14px",borderRadius:10,border:"import"===f?"2px solid #2563EB":"1px solid #E6EEF2",background:"import"===f?"#EFF6FF":"transparent",cursor:"pointer",fontSize:"0.85rem",fontWeight:700,"@media (max-width: 640px)":{padding:"6px 10px",fontSize:"0.75rem"}},children:"IMPORT"})]}),"import"!==f?r.jsx("div",{style:dc.section,children:r.jsx("div",{style:dc.buttonGrid,className:"behavior-cards-container",children:("wow"===f?u:p).map(e=>r.jsxs("button",{className:"behavior-card-btn",onClick:()=>{try{l(e)}catch(t){console.error("onGivePoint failed",t)}},style:"wow"===f?dc.cardButton:{...dc.cardButton,borderLeft:"4px solid #F44336"},children:[r.jsx("div",{style:{fontSize:"1.8rem",marginBottom:"4px","@media (max-width: 640px)":{fontSize:"1.5rem",marginBottom:"3px"}},children:e.icon}),r.jsx("div",{style:{fontWeight:"bold",fontSize:"0.85rem","@media (max-width: 640px)":{fontSize:"0.75rem"}},children:e.label}),r.jsx("div",{style:{color:"wow"===f?"#4CAF50":"#F44336",fontSize:"0.7rem",fontWeight:"700",textTransform:"uppercase",letterSpacing:"0.4px","@media (max-width: 640px)":{fontSize:"0.6rem"}},children:"wow"===f?"WOW":"NO NO"}),r.jsx("div",{style:{color:"wow"===f?"#4CAF50":"#F44336",fontWeight:"900",fontSize:"1rem","@media (max-width: 640px)":{fontSize:"0.9rem"}},children:"wow"===f?`+${e.pts}`:e.pts})]},e.id))})}):r.jsxs("div",{style:{padding:"20px 30px",display:"flex",flexDirection:"column",gap:12},children:[r.jsx("div",{style:{display:"flex",gap:12,alignItems:"center",justifyContent:"center"},children:r.jsxs("div",{style:{minWidth:320},children:[r.jsx("label",{style:{display:"block",marginBottom:8,color:"#475569",fontWeight:700},children:"Select class to import from"}),r.jsxs("select",{value:b,onChange:e=>v(e.target.value),style:{width:"100%",padding:"10px 12px",borderRadius:10,border:"1px solid #E2E8F0"},children:[r.jsx("option",{value:"",children:"-- Choose a class --"}),g.map(e=>r.jsx("option",{value:e.id,children:e.name||e.title||e.id},e.id))]})]})}),r.jsx("div",{style:{marginTop:12,minHeight:80},children:E?r.jsx("div",{style:{textAlign:"center",color:"#64748B"},children:"Loading preview"}):r.jsxs(r.Fragment,{children:[r.jsx("div",{style:{textAlign:"center",marginBottom:8,color:"#334155",fontWeight:700},children:A.length>0?`Preview  ${A.length} new card(s) will be imported`:"No new cards to import from selected class"}),A.length>0&&r.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(140px, 1fr))",gap:10},children:A.map(e=>r.jsxs("div",{style:{background:"white",border:"1px solid #E6EEF2",borderRadius:12,padding:10,display:"flex",flexDirection:"column",alignItems:"center"},children:[r.jsx("div",{style:{fontSize:"1.6rem",marginBottom:6},children:e.icon||""}),r.jsx("div",{style:{fontWeight:700},children:e.label}),r.jsx("div",{style:{color:"#475569",fontWeight:800},children:e.pts?e.pts>0?`+${e.pts}`:e.pts:""})]},e.id||e.label))})]})}),r.jsx("div",{style:{display:"flex",justifyContent:"center",marginTop:12},children:r.jsx("button",{onClick:async()=>{if(b){k(!0),C(null);try{const e=A.length>0?A:j;window.dispatchEvent(new CustomEvent("behavior-import:request",{detail:{sourceClassId:b,sourceBehaviors:e}})),C({success:!0,imported:(e||[]).length})}catch(e){console.error("Import failed",e),C({success:!1,message:e.message||"Failed to import"})}finally{k(!1)}}},disabled:!b||w||E,style:{padding:"12px 22px",background:b&&A.length>0?"#4CAF50":"#CBD5E1",color:"white",border:"none",borderRadius:12,fontWeight:800,cursor:b&&A.length>0?"pointer":"not-allowed",boxShadow:b&&A.length>0?"0 12px 30px rgba(76,175,80,0.18)":"none"},"data-enter-submit":!0,children:w?"Importing":A.length>0?"Import New Cards":"Nothing to Import"})}),S&&r.jsx("div",{style:{textAlign:"center",marginTop:12,color:S.success?"#166534":"#991b1b"},children:S.success?S.imported&&S.imported>0?`Imported ${S.imported} new card${S.imported>1?"s":""}.`:"You're all set  no new cards to import.":`Import failed: ${S.message}`})]})]})]})})}const dc={overlay:{position:"fixed",inset:0,background:"rgba(0,0,0,0.6)",backdropFilter:"blur(8px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:5e3},modalCard:{background:"#FFFFFF",width:"90%",maxWidth:"650px",borderRadius:"40px",overflow:"hidden",display:"flex",flexDirection:"column",maxHeight:"85vh",boxShadow:"0 30px 60px rgba(0,0,0,0.3)","@media (max-width: 640px)":{maxHeight:"90vh",width:"95%"}},header:{padding:"18px 24px",position:"relative",borderBottom:"1px solid #F0F0F0","@media (max-width: 640px)":{padding:"12px 16px"}},closeBtn:{position:"absolute",top:"8px",right:"8px",background:"none",border:"none",cursor:"pointer",color:"#999",zIndex:12e3,padding:8,borderRadius:8,width:40,height:40,display:"flex",alignItems:"center",justifyContent:"center","@media (max-width: 640px)":{width:36,height:36}},avatarWrapper:{position:"relative",marginBottom:"10px","@media (max-width: 640px)":{marginBottom:"6px"}},avatar:{width:"84px",height:"84px",borderRadius:"50%",border:"4px solid #F4F1EA",objectFit:"cover","@media (max-width: 640px)":{width:"64px",height:"64px"}},scoreBadge:{position:"absolute",bottom:"0",right:"0",background:"#4CAF50",color:"white",width:"35px",height:"35px",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold",border:"3px solid white","@media (max-width: 640px)":{width:"28px",height:"28px",fontSize:"0.8rem"}},studentName:{margin:"0 0 8px 0",fontSize:"1.2rem",fontWeight:"800",color:"#2D3436","@media (max-width: 640px)":{fontSize:"1rem",marginBottom:"4px"}},contentScroll:{padding:"18px 30px",overflowY:"auto",flex:1,"@media (max-width: 640px)":{padding:"12px 16px"}},buttonGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(135px, 1fr))",gap:"15px","@media (max-width: 640px)":{gap:"10px",gridTemplateColumns:"repeat(auto-fill, minmax(100px, 1fr))"}},cardButton:{background:"white",border:"1px solid #E0E0E0",borderLeft:"5px solid #4CAF50",borderRadius:"20px",padding:"20px 10px",cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",transition:"transform 0.2s","@media (max-width: 640px)":{padding:"14px 8px"}}};function uc({students:e,onClose:n,onWinner:i,onRequestAddStudents:a}){const l=t.useMemo(()=>Array.isArray(e)?e:[],[e]),[s,c]=t.useState("count_selection"),[d,u]=t.useState(1),[p,f]=t.useState(!1),[h,g]=t.useState([]),[m,x]=t.useState(1),y=t.useRef(null);t.useEffect(()=>(y.current=new Audio("https://assets.mixkit.co/active_storage/sfx/2019/2019-preview.mp3"),y.current&&(y.current.loop=!0),()=>{y.current&&(y.current.pause(),y.current.currentTime=0)}),[]),Rs(null,n,!0);return r.jsx("div",{style:fc.overlay,className:"modal-overlay-in",children:"count_selection"===s?r.jsxs("div",{style:fc.glassCard,className:"animated-modal-content modal-animate-center",children:[r.jsx(o,{onClick:n,style:fc.closeIcon}),r.jsx("div",{style:fc.headerIcon,children:r.jsx(R,{size:32,color:"#fff"})}),r.jsx("h2",{style:fc.title,children:"Draw Group"}),r.jsxs("p",{style:fc.subtitle,children:["Select number of Students (",l.length," available)"]}),r.jsx("div",{style:fc.numberGrid,children:[1,2,3,4].map(e=>r.jsx("button",{onClick:()=>(e=>{if(!l||l.length<2)return void c("needs_students");if(e>l.length)return c("too_many_selected"),void u(e);u(e);const t=[...l].sort(()=>Math.random()-.5).slice(0,Math.min(e,l.length));g(t),c("drawing"),f(!0),y.current.play().catch(()=>{}),setTimeout(()=>{f(!1),y.current.pause(),y.current.currentTime=0},3e3)})(e),style:{...fc.numberBtn,opacity:l.length<2||e>l.length?.5:1,cursor:l.length<2||e>l.length?"not-allowed":"pointer"},children:e},e))})]}):"needs_students"===s?r.jsxs("div",{style:fc.glassCard,className:"animated-modal-content modal-animate-center",children:[r.jsx(o,{onClick:n,style:fc.closeIcon}),r.jsx("div",{style:fc.headerIcon,children:r.jsx(R,{size:32,color:"#fff"})}),r.jsx("h2",{style:fc.title,children:"Not enough students"}),r.jsxs("p",{style:fc.subtitle,children:["Add at least 2 students before running a Lucky Draw (currently ",l.length," student",1!==l.length?"s":"",")."]}),r.jsxs("div",{style:{display:"flex",gap:12,justifyContent:"center"},children:[r.jsx("button",{"data-enter-submit":!0,onClick:()=>{n(),a&&a()},style:fc.saveBtn,children:"Add Students"}),r.jsx("button",{onClick:n,style:{...fc.numberBtn,padding:"12px 20px"},children:"Cancel"})]})]}):"too_many_selected"===s?r.jsxs("div",{style:fc.glassCard,className:"animated-modal-content modal-animate-center",children:[r.jsx(o,{onClick:n,style:fc.closeIcon}),r.jsx("div",{style:fc.headerIcon,children:r.jsx(R,{size:32,color:"#fff"})}),r.jsx("h2",{style:fc.title,children:"Not enough students"}),r.jsxs("p",{style:fc.subtitle,children:["You chose ",d," winners but there are only ",l.length," students."]}),r.jsxs("div",{style:{display:"flex",gap:12,justifyContent:"center"},children:[r.jsx("button",{"data-enter-submit":!0,onClick:()=>c("count_selection"),style:fc.saveBtn,children:"Choose a smaller number"}),r.jsx("button",{onClick:()=>{n(),a&&a()},style:{...fc.numberBtn,padding:"12px 20px"},children:"Add Students"})]})]}):r.jsxs("div",{style:{...fc.drawContainer,width:1===d?"450px":"90%",maxHeight:"90vh"},children:[r.jsx(o,{onClick:n,style:fc.closeIcon}),r.jsx("div",{style:fc.headerLabel,children:p?"Selecting...":"Selections!"}),r.jsx("div",{style:{...fc.cardsWrapper,flexWrap:d>2?"wrap":"nowrap",overflowY:"auto"},children:h.map((e,t)=>r.jsx(pc,{rolling:p,students:l,finalStudent:e,count:d},e.id||t))}),!p&&r.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"20px"},children:[r.jsx("div",{style:{display:"flex",gap:"10px"},children:[1,2,3,5].map(e=>r.jsxs("button",{onClick:()=>x(e),style:{padding:"10px 20px",borderRadius:"12px",border:m===e?"none":"1px solid #ddd",background:m===e?"#4CAF50":"white",color:m===e?"white":"#333",fontWeight:"800",cursor:"pointer"},children:["+",e]},e))}),r.jsxs("button",{"data-enter-submit":!0,onClick:()=>i(1===d?h[0]:h,m),style:fc.saveBtn,children:["Award ",m*h.length," Points Total"]})]})]})})}function pc({rolling:e,students:n,finalStudent:i,count:o}){const[a,l]=t.useState(0),s=t.useMemo(()=>n.map(e=>({...e,avatar:e.avatar||nn(e.name||"Student","boy")})),[n]);t.useEffect(()=>{if(!e)return;let t=null,n=0;const r=performance.now(),i=e=>{const o=e-r,a=Math.min(1,o/3e3),c=1-Math.pow(1-a,3),d=Math.round(40-36*c),u=1e3/Math.max(4,d);e-n>=u&&(l(Math.floor(Math.random()*Math.max(1,s.length))),n=e),a<1&&(t=requestAnimationFrame(i))};return t=requestAnimationFrame(i),()=>t&&cancelAnimationFrame(t)},[e,s]);const c=e?s[a]:{...i,avatar:i?.avatar||nn(i?.name||"Student","boy")},d=1===o?"100%":2===o?"45%":"22%";return r.jsxs("div",{style:{...fc.luckyCard,width:d,minWidth:"200px"},children:[r.jsx("div",{style:fc.avatarContainer,children:r.jsx(nc,{src:c?.avatar,name:c?.name,alt:"avatar",style:{width:"100%",height:"100%",borderRadius:"24px",objectFit:"cover",filter:e?"blur(2px)":"none"}})}),r.jsx("h3",{style:fc.nameLabel,children:c?.name}),!e&&r.jsx("div",{style:fc.pointBadge,children:"Selected"})]})}const fc={overlay:{position:"fixed",inset:0,background:"rgba(0, 0, 0, 0.7)",backdropFilter:"blur(20px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:3e3},glassCard:{background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",padding:"40px",borderRadius:"40px",width:"400px",textAlign:"center",position:"relative"},drawContainer:{background:"rgba(20, 20, 20, 0.8)",border:"1px solid rgba(255, 255, 255, 0.1)",padding:"40px 20px",borderRadius:"40px",textAlign:"center",position:"relative",display:"flex",flexDirection:"column",alignItems:"center",overflow:"hidden"},headerLabel:{color:"#fff",fontSize:"14px",fontWeight:800,textTransform:"uppercase",marginBottom:"20px",opacity:.6},closeIcon:{position:"absolute",right:20,top:20,cursor:"pointer",color:"#fff",zIndex:10},headerIcon:{width:"60px",height:"60px",background:"rgba(255,255,255,0.1)",borderRadius:"20px",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 20px"},title:{fontSize:"28px",fontWeight:900,color:"#fff",margin:"0 0 10px 0"},subtitle:{color:"rgba(255,255,255,0.6)",marginBottom:"30px"},numberGrid:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"10px"},numberBtn:{padding:"20px 0",fontSize:"22px",fontWeight:900,borderRadius:"15px",border:"1px solid rgba(255,255,255,0.2)",background:"rgba(255,255,255,0.05)",cursor:"pointer",color:"#fff"},cardsWrapper:{display:"flex",gap:"10px",justifyContent:"center",width:"100%",marginBottom:"30px",padding:"10px"},luckyCard:{background:"rgba(255, 255, 255, 0.05)",padding:"20px 10px",borderRadius:"30px",border:"1px solid rgba(255, 255, 255, 0.1)",display:"flex",flexDirection:"column",alignItems:"center"},avatarContainer:{width:"75%",aspectRatio:"1/1",borderRadius:"20px",overflow:"hidden"},nameLabel:{margin:"15px 0 5px 0",fontWeight:800,color:"#fff",fontSize:"18px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",width:"90%"},pointBadge:{background:"#4CAF50",color:"#fff",padding:"2px 10px",borderRadius:"8px",fontSize:"11px",fontWeight:800},saveBtn:{width:"100%",padding:"18px",background:"#fff",color:"#000",border:"none",borderRadius:"18px",fontSize:"16px",fontWeight:"900",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"}},hc=new Set(["aaron","adam","aidan","alan","alex","alexander","andrew","anthony","arthur","ben","benjamin","bradley","brandon","brian","bruce","caleb","cameron","carl","charles","christian","christopher","connor","daniel","david","derek","dominic","donald","dylan","edward","ethan","evan","felix","finn","francis","frank","frederick","gabriel","george","graham","gregory","harry","henry","howard","hugo","ian","isaac","ivan","isaiah","jack","jacob","james","jason","jeffrey","jeremy","john","jonathan","jordan","joseph","joshua","justin","kevin","kyle","lawrence","leo","leon","liam","lucas","luke","michael","mohammed","morgan","matthew","martin","max","michael","nathan","nicholas","noah","oliver","oscar","owen","patrick","paul","peter","philip","quinn","rachel","raymond","richard","robert","ryan","roger","ronald","russell","samuel","scott","sean","seth","simon","stephen","stewart","steven","taylor","thomas","timothy","toby","tyler","victor","vincent","william","wyatt","xavier","zachary","zack"]),gc=new Set(["abigail","alice","amanda","amy","andrea","angelina","anna","annabelle","anne","ashley","becca","bella","beth","bianca","brittany","catherine","charlotte","chloe","christina","claire","daisy","diana","danielle","deborah","donna","eleanor","elizabeth","ella","emily","emma","evelyn","eva","eric","faith","fiona","florence","francesca","georgia","grace","gwen","hannah","harriet","heather","helen","holly","isabel","isabella","ivy","irene","jackie","jane","jasmine","jennifer","jessica","joanna","julia","julie","june","karen","katherine","katie","kelly","kimberly","kristen","kylie","laura","lauren","leah","lily","lisa","lucy","lydia","madeleine","margaret","maria","marie","martha","mary","maya","megan","melissa","michelle","molly","nancy","natalie","nicole","nina","nova","olivia","ophelia","paige","patricia","penny","phoebe","quinn","rachel","rebecca","ruth","rose","ruby","robin","samantha","sarah","sophie","sophia","stella","susan","stephanie","sandra","sharon","shelley","tanya","taylor","tiffany","tina","tracy","tara","ursula","valerie","vanessa","victoria","violet","vivian","wendy","whitney","yolanda","yvonne","zoe"]);function mc(e){if(!e||"string"!=typeof e)return"boy";const t=e.trim().split(/\s+/),n=t[0]?.toLowerCase();return n?hc.has(n)?"boy":gc.has(n)||n.match(/[aeiy]$/i)?"girl":(n.match(/[nrstdkl]$/i),"boy"):"boy"}function xc({onClose:e,onSave:n}){const[i,a]=t.useState(""),[l,s]=t.useState("boy"),[c,d]=t.useState(null),[u,p]=t.useState(null),[f,h]=t.useState(!1),[g,m]=t.useState(null),x=t.useRef(null),y=t.useRef(null),b=t.useCallback(()=>{if(!x.current)return{top:0,left:0};const e=x.current.getBoundingClientRect();return{top:e.top-200,left:e.left+e.width/2-275}},[]),v=()=>{i.trim()&&n({name:i.trim(),gender:l,avatar:c,character:u})};Rs(v,e,!f);const w=c||(u?rn(u):i?nn(i,l):an("boy"===l?"B":"G")),k=e=>{e.stopPropagation(),console.log("Avatar clicked, current state:",f),h(!f)};return r.jsx("div",{style:yc.overlay,className:"modal-overlay-in",children:r.jsxs("div",{style:yc.modal,className:"animated-modal-content modal-animate-center",children:[r.jsxs("div",{style:yc.modalHeader,children:[r.jsx("h3",{children:"Enrol New Student"}),r.jsx("button",{style:yc.closeBtn,onClick:e,children:r.jsx(o,{})})]}),r.jsxs("div",{style:{...yc.avatarSection,overflow:"visible",position:"relative"},ref:x,children:[r.jsxs("div",{style:{...yc.previewContainer,cursor:"pointer"},onClick:k,children:[r.jsx("img",{src:w,alt:"Preview",style:yc.previewImg,onError:e=>{e.target.onerror=null,e.target.src=an(i)}}),r.jsx("div",{style:yc.cameraBadge,children:r.jsx(G,{size:14})})]}),r.jsx("div",{style:{marginTop:8,textAlign:"center",fontSize:13,color:"#64748B",fontWeight:500,cursor:"pointer"},onClick:k,children:"Change avatar"}),r.jsx("input",{ref:y,type:"file",accept:"image/*",style:{display:"none"},onChange:e=>{const t=e.target.files[0];if(!t)return;if(t.size>1048576)return void alert("Image is too large. Please choose a smaller image (under 1MB).");const n=new FileReader;n.onload=()=>{d(n.result),p(null)},n.readAsDataURL(t)}}),r.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center",justifyContent:"center",marginTop:12},children:[r.jsx("button",{onClick:()=>y.current&&y.current.click(),style:yc.uploadBtn,children:c?"Change Photo":"Upload Photo"}),c&&r.jsx("button",{onClick:()=>{d(null)},style:yc.removeBtn,children:"Remove"})]})]}),r.jsxs("div",{style:yc.genderSection,children:[r.jsx("label",{style:yc.genderLabel,children:"Gender"}),r.jsxs("div",{style:yc.genderButtons,children:[r.jsx("button",{onClick:()=>s("boy"),style:{...yc.genderBtn,..."boy"===l?yc.genderBtnActive:{}},children:" Boy"}),r.jsx("button",{onClick:()=>s("girl"),style:{...yc.genderBtn,..."girl"===l?yc.genderBtnActive:{}},children:" Girl"})]})]}),f&&x.current&&r.jsx(r.Fragment,{children:Xe.createPortal(r.jsx("div",{style:{position:"fixed",...b(),background:"white",border:"1px solid #E2E8F0",borderRadius:"12px",boxShadow:"0 10px 25px rgba(0,0,0,0.15)",zIndex:100001,padding:"16px",minWidth:"550px"},onClick:e=>e.stopPropagation(),className:"animated-modal-content modal-animate-scale",children:r.jsx("div",{style:yc.avatarGrid,children:Zt.map(e=>r.jsxs("button",{onClick:t=>{t.stopPropagation(),p(e.name),d(null),h(!1)},onMouseEnter:()=>m(e.name),onMouseLeave:()=>m(null),style:{...yc.avatarOption,...u===e.name?yc.avatarOptionSelected:{},...g===e.name?{transform:"scale(1.15)",zIndex:10,boxShadow:"0 8px 16px rgba(0,0,0,0.15)"}:{}},title:e.label,children:[r.jsx("img",{src:rn(e.name),alt:e.label,style:{...yc.avatarImg,...g===e.name?{transform:"scale(5)",position:"absolute",bottom:"calc(100% - 80px)",left:"50%",marginLeft:"-20px",zIndex:20}:{}}}),r.jsx("span",{style:yc.avatarLabel,children:e.name})]},e.name))})}),document.body)}),r.jsx("input",{type:"text",placeholder:"Student Name",value:i,onChange:e=>{if(a(e.target.value),e.target.value.trim()){const t=mc(e.target.value);s(t)}},onBlur:()=>{if(i.trim()){const e=mc(i);s(e)}},style:yc.input}),!i.trim()&&r.jsx("div",{style:{color:"#EF4444",fontSize:13,marginBottom:8},children:"Please enter a student's name."}),r.jsxs("div",{style:yc.footer,children:[r.jsx("button",{style:yc.cancelBtn,onClick:e,children:"Cancel (Esc)"}),r.jsx("button",{"data-enter-submit":!0,"data-save-student-btn":!0,style:{...yc.saveBtn,opacity:i.trim()?1:.6,cursor:i.trim()?"pointer":"not-allowed"},onClick:v,disabled:!i.trim(),children:"Add Student (Enter)"})]})]})})}const yc={overlay:{position:"fixed",inset:0,background:"rgba(0,0,0,0.4)",backdropFilter:"blur(4px)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:9999},modal:{background:"white",padding:"30px",borderRadius:"24px",width:"420px",maxHeight:"90vh",overflowY:"auto",boxShadow:"0 20px 25px -5px rgba(0,0,0,0.1)",zIndex:1e4,position:"relative"},modalHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"25px"},closeBtn:{background:"none",border:"none",cursor:"pointer",color:"#94A3B8"},avatarSection:{display:"flex",flexDirection:"column",alignItems:"center",marginBottom:"20px",overflow:"visible",position:"relative"},previewContainer:{position:"relative",marginBottom:"12px"},previewImg:{width:"100px",height:"100px",borderRadius:"50%",background:"#F8FAFC",border:"3px solid #E2E8F0"},cameraBadge:{position:"absolute",bottom:0,right:0,background:"#4CAF50",color:"white",padding:"6px",borderRadius:"50%"},uploadBtn:{padding:"10px 14px",borderRadius:"12px",border:"none",background:"#4CAF50",color:"white",cursor:"pointer",fontWeight:"bold",fontSize:14},removeBtn:{padding:"8px 12px",borderRadius:"12px",border:"1px solid #E2E8F0",background:"white",cursor:"pointer",fontSize:13},genderSection:{marginBottom:"20px"},genderLabel:{display:"block",marginBottom:"8px",fontSize:14,fontWeight:600,color:"#334155"},genderButtons:{display:"flex",gap:"12px"},genderBtn:{flex:1,padding:"12px 16px",borderRadius:"12px",border:"2px solid #E2E8F0",background:"white",cursor:"pointer",fontSize:14,fontWeight:600,color:"#64748B",transition:"all 0.2s"},genderBtnActive:{borderColor:"#4CAF50",background:"#F0FDF4",color:"#16A34A"},avatarGrid:{display:"grid",gridTemplateColumns:"repeat(6, 1fr)",gap:"10px",justifyItems:"center",width:"100%"},avatarOption:{background:"white",border:"2px solid #e9ecef",borderRadius:"10px",padding:"8px",cursor:"pointer",transition:"all 0.2s ease",display:"flex",flexDirection:"column",alignItems:"center",gap:"4px",fontSize:"9px",color:"#666",fontWeight:500,outline:"none",width:"70px",justifySelf:"center",position:"relative"},avatarOptionSelected:{background:"white",border:"2px solid #4CAF50",boxShadow:"0 0 0 3px rgba(76, 175, 80, 0.1)"},avatarImg:{width:"32px",height:"32px",borderRadius:"6px"},avatarLabel:{fontSize:"8px",color:"#999",textTransform:"capitalize"},input:{width:"100%",padding:"14px 16px",borderRadius:"12px",border:"1px solid #E2E8F0",marginBottom:"16px",outline:"none",fontSize:15,color:"#334155"},footer:{display:"flex",gap:10,marginTop:"10px"},cancelBtn:{padding:"12px 20px",borderRadius:"12px",border:"none",background:"#F1F5F9",color:"#64748B",fontWeight:600,fontSize:14,cursor:"pointer",flex:1},saveBtn:{padding:"12px 20px",borderRadius:"12px",border:"none",background:"#4CAF50",color:"white",fontWeight:600,fontSize:14,cursor:"pointer",flex:1}},bc=({isVisible:e,studentAvatar:n,studentName:i,points:o=1,behaviorEmoji:a="",onComplete:l,students:s})=>{const c=o>0,d=s&&s.length>0,u=t.useMemo(()=>s&&0!==s.length?s.map(e=>({...e,avatar:e.avatar||nn(e.name||"Student","boy")})):[],[s]),p=n||nn(i||"Student","boy"),[f,h]=t.useState([]),[g,m]=t.useState(!1),x=t.useMemo(()=>{const e="undefined"!=typeof window&&(navigator.deviceMemory&&navigator.deviceMemory<4||navigator.connection&&navigator.connection.effectiveType&&navigator.connection.effectiveType.includes("2g")||"ontouchstart"in window||window.matchMedia&&window.matchMedia("(prefers-reduced-motion: reduce)").matches);return{willChange:e?"auto":"transform, opacity",sparkleCount:e?4:8,confettiCount:e?6:12,animationDuration:e?1.2:.8,animationEase:e?"easeOut":"easeInOut",repeatDelay:e?.3:0,transform:e?void 0:"translateZ(0)"}},[]);t.useEffect(()=>{if(e&&c){const e=Array.from({length:x.sparkleCount},(e,t)=>({id:t,angle:t/x.sparkleCount*Math.PI*2,distance:100+50*Math.random()}));h(e),setTimeout(()=>h([]),1200)}},[e,c,x.sparkleCount]),t.useEffect(()=>{if(e){let e;m(!0);let t=0;const n=c?300:400,r=i=>{t||(t=i);i-t>=n&&(m(e=>!e),t=i),e=requestAnimationFrame(r)};return e=requestAnimationFrame(r),()=>{e&&cancelAnimationFrame(e)}}},[e,c]),t.useEffect(()=>{if(!e)return;let t=null,n=[];try{const e=window.AudioContext||window.webkitAudioContext;if(!e)return void console.warn("Web Audio API not supported");t=new e({latencyHint:"interactive"}),"suspended"===t.state&&t.resume();const r=t.currentTime,i=(e,r,i=.2,o=.2,a="sine")=>{const l=t.createOscillator(),s=t.createGain();l.type=a,l.connect(s),s.connect(t.destination),l.frequency.setValueAtTime(e,r),s.gain.setValueAtTime(i,r),s.gain.exponentialRampToValueAtTime(.01,r+o),l.start(r),l.stop(r+o),n.push(l)};if(c){const e=Math.min(Math.max(o,1),5);if(1===e)i(1046,r,.25,.15,"sine"),i(1318,r+.08,.15,.2,"sine");else if(2===e)i(784,r,.2,.2,"triangle"),i(880,r+.12,.2,.2,"triangle"),i(1046,r+.24,.25,.35,"sine");else if(3===e)i(659,r,.18,.2,"triangle"),i(784,r+.1,.18,.2,"triangle"),i(987,r+.2,.2,.25,"triangle"),i(1318,r+.3,.25,.4,"sine");else if(4===e)i(523,r,.15,.15,"triangle"),i(659,r+.08,.15,.15,"triangle"),i(784,r+.16,.18,.2,"triangle"),i(1046,r+.24,.2,.25,"triangle"),i(1318,r+.32,.25,.5,"sine");else{[{f:[523,659],t:0},{f:[784,987],t:.15},{f:[1046,1318],t:.3},{f:[1318,1567],t:.5}].forEach(e=>e.f.forEach(t=>i(t,r+e.t,.18,.8,"triangle")))}}else{const e=Math.abs(o);if(1===e){const e=t.createOscillator(),i=t.createGain();e.type="sine",e.connect(i),i.connect(t.destination),e.frequency.setValueAtTime(660,r),e.frequency.exponentialRampToValueAtTime(330,r+.2),i.gain.setValueAtTime(.2,r),i.gain.exponentialRampToValueAtTime(.01,r+.2),e.start(r),e.stop(r+.2),n.push(e)}else if(2===e)i(494,r,.15,.15,"triangle"),i(330,r+.12,.18,.25,"triangle"),i(392,r+.3,.15,.15,"triangle"),i(262,r+.42,.18,.25,"triangle");else if(3===e)i(523,r,.15,.12,"triangle"),i(392,r+.12,.15,.12,"triangle"),i(330,r+.24,.18,.15,"triangle"),i(262,r+.36,.2,.3,"triangle");else if(4===e){const e=.8,i=t.createOscillator(),o=t.createGain(),a=t.createOscillator(),l=t.createGain();i.type="triangle",a.type="sine",a.frequency.value=5,l.gain.value=100,i.connect(o),a.connect(l),l.connect(i.frequency),o.connect(t.destination),i.frequency.value=400,o.gain.setValueAtTime(.2,r),o.gain.exponentialRampToValueAtTime(.01,r+e),a.start(r),i.start(r),i.stop(r+e),a.stop(r+e),n.push(i,a)}else{const e=1.2,i=t.createOscillator(),o=t.createOscillator(),a=t.createGain();i.type="triangle",o.type="sine",i.connect(a),o.connect(a),a.connect(t.destination),i.frequency.setValueAtTime(330,r),i.frequency.exponentialRampToValueAtTime(82,r+e),o.frequency.setValueAtTime(311,r),o.frequency.exponentialRampToValueAtTime(78,r+e),a.gain.setValueAtTime(.2,r),a.gain.exponentialRampToValueAtTime(.01,r+e),i.start(r),o.start(r),i.stop(r+e),o.stop(r+e),n.push(i,o)}}}catch(r){console.warn("Audio playback failed:",r)}return()=>{if(n.forEach(e=>{try{"stopped"!==e.state&&e.stop()}catch(t){}}),t&&"closed"!==t.state)try{t.close()}catch(e){}}},[e,c,o]);const y=c?"linear-gradient(135deg, #FFD700 0%, #FFA500 100%)":"linear-gradient(135deg, #FF6B6B 0%, #FF4757 100%)",b=c?"#FFA500":"#FF4757",v=r.jsx(Q,{onExitComplete:l,children:e&&r.jsxs(r.Fragment,{children:[r.jsx(P.div,{initial:{opacity:0},animate:{opacity:.5},exit:{opacity:0},style:{position:"fixed",inset:0,background:"#000",zIndex:2999}}),r.jsx(Q,{children:f.map(e=>r.jsx(P.div,{initial:{opacity:1,scale:0,x:"50%",y:"50%"},animate:{opacity:0,scale:1.5,x:`calc(50% + ${Math.cos(e.angle)*e.distance}px)`,y:`calc(50% + ${Math.sin(e.angle)*e.distance}px)`},exit:{opacity:0},transition:{duration:x.animationDuration,ease:x.animationEase},style:{position:"fixed",width:"30px",height:"30px",fontSize:"30px",zIndex:3001,pointerEvents:"none",willChange:x.willChange,transform:x.transform},children:""},e.id))}),r.jsxs(P.div,{initial:{opacity:0,scale:.5,x:"-50%",y:"-40%",rotate:-10},animate:{opacity:1,scale:1,x:"-50%",y:"-50%",rotate:0},exit:{opacity:0,scale:.5,x:"-50%",y:"-40%",rotate:10},transition:{type:"spring",damping:x.transform?16:12,stiffness:x.transform?250:300},style:{position:"fixed",top:"50%",left:"50%",width:"50vw",maxWidth:"650px",minWidth:"320px",background:y,borderRadius:"40px",padding:"70px 45px",boxShadow:"0 30px 90px rgba(0,0,0,0.4)",zIndex:3e3,border:`6px solid ${b}`,display:"flex",flexDirection:"column",alignItems:"center",gap:"30px",overflow:"visible",willChange:"transform, opacity",backfaceVisibility:"hidden"},children:[d?r.jsx("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"center",gap:"-15px",position:"relative"},children:u.slice(0,8).map((e,t)=>r.jsx(P.img,{src:e.avatar,animate:{y:[0,-20,0],rotate:c?[0,5,-5,0]:[-3,3,-3]},transition:{duration:x.animationDuration,repeat:1/0,repeatDelay:x.repeatDelay,delay:.08*t,ease:x.animationEase},style:{width:"70px",height:"70px",borderRadius:"50%",border:"5px solid white",marginLeft:t>0?"-20px":"0",zIndex:10-t,boxShadow:"0 4px 15px rgba(0,0,0,0.2)",willChange:x.willChange}},e.id))}):r.jsxs("div",{style:{position:"relative"},children:[r.jsx(P.img,{src:p,animate:c?{y:[0,-25,0],rotate:[0,-10,10,-10,10,0],scale:[1,1.1,1]}:{x:[-15,15,-15],rotate:[-8,8,-8]},transition:{duration:x.animationDuration,repeat:1/0,repeatDelay:x.repeatDelay,ease:x.animationEase},style:{width:"130px",height:"130px",borderRadius:"50%",border:"7px solid white",boxShadow:"0 10px 30px rgba(0,0,0,0.3)",willChange:x.willChange,backfaceVisibility:"hidden"}}),r.jsx(P.div,{animate:{scale:[1,1.3],opacity:[.6,0],borderColor:c?"rgba(255, 215, 0, 0.8)":"rgba(255, 71, 87, 0.8)"},transition:{duration:x.animationDuration,repeat:1/0,repeatDelay:x.repeatDelay,ease:x.animationEase},style:{position:"absolute",inset:"-15px",borderRadius:"50%",border:"8px solid",pointerEvents:"none",willChange:x.willChange}})]}),r.jsx(P.div,{initial:{y:30,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2,type:"spring",damping:x.transform?18:15},style:{fontSize:"32px",fontWeight:"900",color:"white",textAlign:"center",textShadow:"0 4px 12px rgba(0,0,0,0.3)",willChange:"transform, opacity"},children:i}),r.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"25px",position:"relative"},children:[r.jsx(P.span,{animate:c?{y:g?[0,-35,0]:[0,-15,0],rotate:g?[-20,20,-20,20,0]:[0,-15,0,15,0],scale:g?[1,1.3,1]:[1,1.15,1]}:{x:[-12,12,-12],rotate:[-10,10,-10],scale:[1,.85,1]},transition:{duration:.75*x.animationDuration,repeat:1/0,repeatDelay:x.repeatDelay,ease:c?"easeOut":"easeInOut"},style:{fontSize:"100px",filter:c?"drop-shadow(0 10px 20px rgba(255,215,0,0.5))":"drop-shadow(0 8px 15px rgba(255,71,87,0.5))",display:"inline-block",cursor:"default",WebkitFilter:c?"drop-shadow(0 10px 20px rgba(255,215,0,0.5))":"drop-shadow(0 8px 15px rgba(255,71,87,0.5))",willChange:x.willChange},children:a},g?"bounce1":"bounce2"),r.jsxs(P.span,{animate:{scale:c?[1,1.4,1]:[1,.8,1],rotate:c?[0,-5,5,0]:[0,-3,3,0]},transition:{duration:.65*x.animationDuration,repeat:1/0,repeatDelay:x.repeatDelay,delay:.1,ease:x.animationEase},style:{fontSize:"95px",fontWeight:"950",color:"white",textShadow:"0 6px 20px rgba(0,0,0,0.4)",display:"inline-block",WebkitTextStroke:c?"3px rgba(255,255,255,0.3)":"2px rgba(255,255,255,0.2)",WebkitTextFillColor:"white",willChange:x.willChange},children:[c?"+":"",o]})]}),r.jsx(P.div,{animate:{scale:c?[1,1.25,1]:[1,1.15,1],opacity:[.4,0,.4]},transition:{duration:1.1*x.animationDuration,repeat:1/0,repeatDelay:x.repeatDelay,ease:x.animationEase},style:{position:"absolute",inset:-20,borderRadius:"50px",border:"10px solid "+(c?"rgba(255,215,0,0.6)":"rgba(255,71,87,0.6)"),pointerEvents:"none",willChange:x.willChange}}),c&&r.jsx("div",{style:{position:"absolute",inset:0,pointerEvents:"none",overflow:"hidden",borderRadius:"40px"},children:Array.from({length:x.confettiCount}).map((e,t)=>r.jsx(P.div,{animate:{y:["-100%","120%"],x:t/x.confettiCount*100+"%",rotate:[0,360]},transition:{duration:1.8*x.animationDuration+.5*Math.random(),repeat:1/0,repeatDelay:x.repeatDelay,delay:.15*t,ease:"linear"},style:{position:"absolute",top:0,fontSize:20+15*Math.random()+"px",opacity:.7,willChange:x.willChange,backfaceVisibility:"hidden"},children:["","","","",""][t%5]},t))})]})]})});return Xe.createPortal(v,document.body)},vc=({submissions:e,onGradeSubmit:n,onBack:i})=>{const[a,l]=t.useState(null),[s,c]=t.useState(""),[d,u]=t.useState(!1),p="undefined"!=typeof window&&window.innerWidth<768,f=e.filter(e=>"submitted"===e.status),h=e.filter(e=>"graded"===e.status),g=e=>{l(e),c(e.grade||"")};return r.jsxs("div",{className:"inbox-page",style:Sc.container,children:[r.jsx("style",{children:"\n        .inbox-page .sidebar { width: 160px !important; }\n        .inbox-page .workHeader { padding: 12px !important; }\n        .inbox-page .badge { font-size: 11px !important; padding: 6px 10px !important; }\n        @media (max-width: 768px) {\n          .inbox-page { padding: 12px !important; }\n          .inbox-page .sidebar { display: none !important; }\n          .inbox-page .main { padding: 12px !important; }\n          .inbox-page .workstation { padding: 16px !important; }\n          .inbox-page .closeBtn button { width: 40px; height: 40px; }\n        }\n      "}),r.jsxs("div",{style:Sc.main,children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"18px 24px 0 0",minHeight:48},children:[r.jsx("div",{}),r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10},children:[r.jsxs("button",{onClick:()=>u(e=>!e),style:{background:"#F1F5F9",border:"none",borderRadius:8,padding:8,cursor:"pointer",marginRight:4,display:"flex",flexDirection:"column",alignItems:"center"},title:p?void 0:"Show Inbox Nav",children:[r.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:[r.jsx("rect",{x:"3",y:"5",width:"14",height:"2",rx:"1",fill:"#64748B"}),r.jsx("rect",{x:"3",y:"9",width:"14",height:"2",rx:"1",fill:"#64748B"}),r.jsx("rect",{x:"3",y:"13",width:"14",height:"2",rx:"1",fill:"#64748B"})]}),p&&r.jsx("span",{style:{fontSize:10,color:"#64748B",marginTop:2},children:"Inbox"})]}),r.jsxs("span",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[r.jsx(Ls,{pageId:"inbox"}),p&&r.jsx("span",{style:{fontSize:10,color:"#64748B",marginTop:2},children:"Help"})]}),r.jsxs("button",{onClick:i,style:{background:"#F1F5F9",border:"none",borderRadius:8,padding:8,cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center"},title:p?void 0:"Close",children:[r.jsx(o,{size:20}),p&&r.jsx("span",{style:{fontSize:10,color:"#64748B",marginTop:2},children:"Close"})]})]})]}),a?r.jsxs("div",{style:Sc.workstation,children:[r.jsxs("header",{style:Sc.workHeader,children:[r.jsxs("div",{children:[r.jsx("h1",{style:{fontSize:"24px",fontWeight:800},children:a.student_name}),r.jsx("p",{style:{color:"#666"},children:a.assignment_title})]}),r.jsx("div",{style:Sc.badge,children:a.status})]}),r.jsxs("div",{style:Sc.contentBody,children:[r.jsx("h3",{style:Sc.sectionTitle,children:"Student Responses"}),Object.entries(a.answers||{}).map(([,e],t)=>r.jsxs("div",{style:Sc.answerBox,children:[r.jsxs("div",{style:Sc.qNum,children:["Question ",t+1]}),r.jsx("div",{style:{fontSize:"16px",lineHeight:"1.6"},children:e})]},t))]}),r.jsx("footer",{style:Sc.gradingBar,children:r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[r.jsx("input",{type:"number",min:"0",placeholder:"Points",value:s,onChange:e=>c(e.target.value),style:{width:60,fontSize:16,padding:"6px 8px",borderRadius:8,border:"1px solid #DDD",marginRight:4,textAlign:"center"}}),r.jsx("button",{onClick:async()=>{await n(a.id,s),a?.student_id&&"undefined"!=typeof window&&window.dispatchEvent&&window.dispatchEvent(new CustomEvent("studentPointsUpdated",{detail:{studentId:a.student_id,points:Number(s)}})),l(null)},style:{background:"#1976D2",border:"none",borderRadius:"50%",width:36,height:36,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},title:"Save Grade",children:r.jsx(Y,{color:"#FFF",size:20})})]})})]}):r.jsxs("div",{style:Sc.emptyState,children:[r.jsx(D,{size:48,color:"#DDD"}),r.jsx("p",{children:"Select a submission to start grading"})]})]}),d&&!a&&r.jsxs("div",{style:Sc.sidebar,children:[r.jsx("div",{style:Sc.sidebarHeader,children:r.jsx("h2",{style:{fontSize:"18px",fontWeight:800,margin:0},children:"Inbox"})}),r.jsxs("div",{style:Sc.scrollArea,children:[r.jsx(wc,{label:"Waiting for Review",count:f.length,color:"#FF4757"}),f.map(e=>r.jsx(kc,{sub:e,active:a?.id===e.id,onClick:()=>g(e)},e.id)),r.jsx("div",{style:{marginTop:"30px"}}),r.jsx(wc,{label:"Recently Graded",count:h.length,color:"#4CAF50"}),h.map(e=>r.jsx(kc,{sub:e,active:a?.id===e.id,onClick:()=>g(e),isGraded:!0},e.id))]})]})]})},wc=({label:e,count:t,color:n})=>r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"0 10px",marginBottom:"10px"},children:[r.jsx("span",{style:{fontSize:"12px",fontWeight:700,color:"#999",textTransform:"uppercase"},children:e}),r.jsx("span",{style:{fontSize:"12px",fontWeight:700,color:n},children:t})]}),kc=({sub:e,active:t,onClick:n,isGraded:i})=>r.jsxs("div",{onClick:n,style:{...Sc.card,borderLeft:t?"4px solid #4A90E2":"4px solid transparent",background:t?"#F0F7FF":"white",opacity:i?.7:1},children:[r.jsx("div",{style:{fontWeight:700},children:e.student_name}),r.jsx("div",{style:{fontSize:"12px",color:"#666"},children:e.assignment_title}),i&&r.jsxs("div",{style:{fontSize:"12px",color:"#4CAF50",marginTop:"5px"},children:["Grade: ",e.grade]})]}),Sc={container:{display:"flex",height:"100%",width:"100%",background:"#F8F9FA",position:"relative",top:0,left:0,right:0,bottom:0,zIndex:1,flexDirection:"row"},sidebar:{width:"200px",background:"#FFF",borderRight:"1px solid #EEE",display:"flex",flexDirection:"column"},sidebarHeader:{padding:"20px",borderBottom:"1px solid #EEE",display:"flex",justifyContent:"space-between",alignItems:"center"},scrollArea:{flex:1,overflowY:"auto",padding:"20px"},main:{flex:1,display:"flex",flexDirection:"column",background:"#F8F9FA"},card:{padding:"15px",borderRadius:"12px",marginBottom:"10px",cursor:"pointer",boxShadow:"0 2px 4px rgba(0,0,0,0.02)",transition:"all 0.2s"},workstation:{display:"flex",flexDirection:"column",height:"100%",maxWidth:"800px",margin:"0 auto",width:"100%",padding:"40px"},workHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"30px"},badge:{padding:"4px 12px",borderRadius:"20px",background:"#E3F2FD",color:"#1976D2",fontSize:"12px",fontWeight:"bold"},contentBody:{flex:1,overflowY:"auto",paddingRight:"10px"},answerBox:{background:"#FFF",padding:"20px",borderRadius:"16px",marginBottom:"20px",border:"1px solid #EEE"},qNum:{fontSize:"12px",fontWeight:800,color:"#4A90E2",marginBottom:"10px",textTransform:"uppercase"},gradingBar:{background:"#FFF",padding:"20px",borderRadius:"24px",display:"flex",justifyContent:"space-between",alignItems:"center",boxShadow:"0 -10px 30px rgba(0,0,0,0.05)",marginTop:"20px"},emptyState:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",color:"#999"}},Cc=({onComplete:e,onClose:n})=>{const[i,a]=t.useState(5),[l,s]=t.useState(300),[c,d]=t.useState(!1),[u,p]=t.useState("setup"),f=t.useRef(null),h=t.useRef(null);t.useEffect(()=>(f.current||(f.current=new(window.AudioContext||window.webkitAudioContext)),()=>{const e=h.current;e&&cancelAnimationFrame(e)}),[]);const g=(e=800,t=100,n="sine")=>{if(!f.current)return;const r=f.current.createOscillator(),i=f.current.createGain();r.connect(i),i.connect(f.current.destination),r.type=n,r.frequency.value=e,i.gain.value=.1;const o=f.current.currentTime;i.gain.setValueAtTime(.1,o),i.gain.exponentialRampToValueAtTime(.001,o+t/1e3),r.start(o),r.stop(o+t/1e3)};t.useEffect(()=>{c&&l>0&&g(800,30,"square")},[l,c]),t.useEffect(()=>{let e=null;return c&&l>0&&(e=setInterval(()=>{s(e=>{const t=e-1;return t<=10&&t>0&&g(1e3,200,"sawtooth"),t})},1e3)),()=>clearInterval(e)},[c,l]),t.useEffect(()=>{0===l&&c&&(d(!1),g(400,2e3,"sine"),e&&e())},[l,c]);const m=60*i;return r.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",width:"100%"},children:[r.jsx("button",{onClick:n,style:{position:"absolute",top:"setup"===u?"60px":"20px",right:"20px",background:"#F1F5F9",border:"none",borderRadius:"50%",padding:"10px",cursor:"pointer",color:"#64748B"},children:r.jsx(o,{size:24})}),"setup"===u&&r.jsxs("div",{style:{animation:"fadeIn 0.5s"},children:[r.jsx("h3",{style:{fontSize:"24px",color:"#64748B",marginBottom:"30px",fontWeight:600},children:"How long do we focus?"}),r.jsx("div",{style:{display:"flex",gap:"20px",justifyContent:"center",flexWrap:"wrap"},children:[1,2,3,4,5].map(e=>r.jsxs("button",{onClick:()=>{return a(t=e),s(60*t),p("running"),void d(!0);var t},className:"timer-select-btn",style:{width:"100px",height:"100px",borderRadius:"24px",border:"none",background:"#EEF2FF",color:"#4F46E5",fontSize:"32px",fontWeight:"900",cursor:"pointer",boxShadow:"0 4px 0 #C7D2FE",transition:"transform 0.1s, background 0.2s",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[e,r.jsx("span",{style:{fontSize:"14px",fontWeight:600,opacity:.7},children:"MIN"})]},e))}),r.jsx("style",{children:"\n            .timer-select-btn:hover { transform: translateY(-4px); background: #E0E7FF !important; }\n            .timer-select-btn:active { transform: translateY(2px); box-shadow: none !important; }\n            @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }\n          "})]}),"running"===u&&r.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"30px",width:"100%",animation:"fadeIn 0.5s"},children:[r.jsx("div",{style:{position:"relative",width:"320px",height:"320px",borderRadius:"50%",background:`conic-gradient(#10B981 ${(m-l)/m*100}%, #F3F4F6 0deg)`,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 20px 50px -10px rgba(16, 185, 129, 0.3)"},children:r.jsxs("div",{style:{width:"280px",height:"280px",borderRadius:"50%",background:"#fff",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"},children:[r.jsx("div",{style:{fontSize:"80px",fontWeight:"900",color:"#1E293B",fontVariantNumeric:"tabular-nums"},children:(e=>{const t=e%60;return`${Math.floor(e/60).toString().padStart(2,"0")}:${t.toString().padStart(2,"0")}`})(l)}),r.jsx("div",{style:{color:"#94A3B8",fontWeight:600,marginTop:"-10px"},children:c?"FOCUS TIME":"PAUSED"})]})}),r.jsxs("div",{style:{display:"flex",gap:"20px"},children:[r.jsxs("button",{onClick:()=>d(!c),style:{padding:"16px 40px",borderRadius:"20px",border:"none",background:c?"#FEF2F2":"#ECFDF5",color:c?"#EF4444":"#10B981",fontSize:"18px",fontWeight:"800",cursor:"pointer",display:"flex",alignItems:"center",gap:"10px",boxShadow:"0 4px 0 rgba(0,0,0,0.05)"},children:[c?r.jsx(J,{}):r.jsx(X,{}),c?"PAUSE":"RESUME"]}),r.jsx("button",{onClick:()=>{d(!1),p("setup")},style:{padding:"16px 24px",borderRadius:"20px",border:"none",background:"#F1F5F9",color:"#64748B",cursor:"pointer",fontWeight:"700"},children:r.jsx(K,{})})]})]})]})};function jc({onClose:e}){const n=t.useRef(null),i=t.useRef(null),a=t.useRef(null),[l,s]=t.useState(!1),[c,d]=t.useState("#6366f1"),[p,f]=t.useState("pencil"),[h,g]=t.useState(5),[m,x]=t.useState(30),[y,b]=t.useState(20),[v,w]=t.useState(!1),[k,S]=t.useState(!1),[C,j]=t.useState(!1),[F,E]=t.useState({visible:!1,x:0,y:0,value:""}),[z,A]=t.useState(null),I=t.useRef(null),[T,B]=t.useState(32),[D,R]=t.useState("Inter"),N=["#6366f1","#ef4444","#f59e0b","#10b981","#06b6d4","#3b82f6","#8b5cf6","#ec4899","#1e293b","#ffffff"],[L,M]=t.useState("undefined"!=typeof window&&window.innerWidth<=768);t.useEffect(()=>{const e=()=>M(window.innerWidth<=768);return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),t.useEffect(()=>{v&&"undefined"!=typeof window&&window.twemoji&&setTimeout(()=>{const e=document.querySelector('[style*="position: fixed"][style*="z-index: 500"]');e&&window.twemoji.parse(e,{folder:"svg",ext:".svg",className:"emoji"})},50)},[v]),t.useEffect(()=>{const e=n.current,t=e.getContext("2d",{willReadFrequently:!0}),r=()=>{const n=window.devicePixelRatio||1,r=L?0:C?280:60,o=L?80:0,a=window.innerWidth-r-32,l=window.innerHeight-70-o-32;e.width=a*n,e.height=l*n,e.style.width=`${a}px`,e.style.height=`${l}px`,t.setTransform(1,0,0,1,0,0),t.scale(n,n),t.lineCap="round",t.lineJoin="round",t.fillStyle="white",t.fillRect(0,0,a,l),i.current=t};return r(),window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[L,C]);const O=t.useCallback(()=>{if(!F.visible||!F.value.trim())return void E({visible:!1,x:0,y:0,value:""});const e=i.current;e.font=`bold ${T}px "${D}", sans-serif`,e.fillStyle=c,e.globalAlpha=1,e.textBaseline="top",e.fillText(F.value,F.x,F.y),E({visible:!1,x:0,y:0,value:""})},[F,c,T,D]),_=e=>{const t=n.current.getBoundingClientRect(),r=e.clientX||e.touches&&e.touches[0].clientX,o=e.clientY||e.touches&&e.touches[0].clientY;if(void 0===r||void 0===o)return;const a=r-t.left,l=o-t.top;if(F.visible&&O(),z&&A(null),"text"===p){const e=Math.max(80,12*F.value.length),n=T+20;let r=a,i=l;return a+e>t.width&&(r=a-e,r<0&&(r=0)),l+n>t.height&&(i=l-n,i<0&&(i=0)),E({visible:!0,x:r,y:i,value:""}),void setTimeout(()=>I.current?.focus(),100)}if("emoji"===p)return A({x:a,y:l}),void w(!0);const d=i.current;d.beginPath(),d.moveTo(a,l),d.strokeStyle="eraser"===p?"#ffffff":c,d.lineWidth="eraser"===p?m:"highlighter"===p?y:h,d.globalAlpha="highlighter"===p?.3:1,d.globalCompositeOperation="eraser"===p?"destination-out":"source-over",d.fillStyle="eraser"===p?"#ffffff":c,s(!0)},W=e=>{if(!l)return;const t=n.current.getBoundingClientRect(),r=e.clientX||e.touches&&e.touches[0].clientX,o=e.clientY||e.touches&&e.touches[0].clientY;if(void 0===r||void 0===o)return;const a=r-t.left,s=o-t.top,c=i.current;c.lineTo(a,s),c.stroke()},$=()=>{l&&(i.current.closePath(),i.current.globalCompositeOperation="source-over",i.current.globalAlpha=1,s(!1))},H=()=>{const e=i.current,t=window.devicePixelRatio||1,r=n.current.width/t,o=n.current.height/t;e.fillStyle="white",e.globalAlpha=1,e.globalCompositeOperation="source-over",e.fillRect(0,0,r,o)},V=()=>"eraser"===p?m:"highlighter"===p?y:h;return r.jsxs("div",{style:Ec.container,children:[r.jsxs("div",{style:Ec.header,children:[r.jsxs("div",{style:Ec.logo,children:[r.jsx(Z,{size:24,color:"#6366f1"}),r.jsx("span",{style:Ec.title,children:"Whiteboard"})]}),r.jsxs("div",{style:Ec.headerRight,children:[r.jsxs(P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{O(),S(!0);const e=document.createElement("a");e.download=`whiteboard-${Date.now()}.png`,e.href=n.current.toDataURL("image/png"),e.click(),setTimeout(()=>S(!1),1500)},style:{...Ec.actionBtn,background:k?"#10b981":"linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%)"},children:[k?r.jsx(U,{size:18}):r.jsx(ee,{size:20}),r.jsx("span",{children:k?"Saved!":"Save"})]}),r.jsx("button",{onClick:e,style:Ec.closeBtn,children:r.jsx(o,{size:28})})]})]}),r.jsxs("div",{style:{flex:1,position:"relative",overflow:"hidden"},children:[r.jsxs("div",{style:Ec.canvasContainer,children:[r.jsx("canvas",{ref:n,style:Ec.canvas,onMouseDown:_,onMouseMove:W,onMouseUp:$,onMouseLeave:$,onTouchStart:_,onTouchMove:W,onTouchEnd:$}),F.visible&&r.jsx("input",{ref:I,style:{...Ec.liveInput,left:F.x,top:F.y,color:c,fontSize:`${T}px`,fontFamily:D},value:F.value,onChange:e=>E({...F,value:e.target.value}),onBlur:O,onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),O())},placeholder:"Type here...",autoFocus:!0})]}),!L&&r.jsx("button",{onClick:()=>j(!C),style:Ec.settingsToggle,children:C?r.jsx(te,{size:20,color:"#6366f1"}):r.jsx(u,{size:20,color:"#64748b"})}),!L&&r.jsx("div",{style:{...Ec.rightSidebar,right:C?0:"-220px"},children:r.jsxs("div",{style:Ec.sidebarContent,children:[r.jsxs("div",{style:Ec.sidebarSection,children:[r.jsx("div",{style:Ec.sidebarTitle,children:"Tools"}),r.jsxs("div",{style:Ec.toolsGrid,children:[r.jsx(Fc,{icon:ne,active:"pencil"===p,onClick:()=>{O(),f("pencil")},label:"Pencil"}),r.jsx(Fc,{icon:re,active:"highlighter"===p,onClick:()=>{O(),f("highlighter")},label:"Highlight"}),r.jsx(Fc,{icon:ie,active:"text"===p,onClick:()=>f("text"),label:"Text"}),r.jsx(Fc,{icon:oe,active:"emoji"===p,onClick:()=>{f("emoji"),w(!v)},label:"Emoji"}),r.jsx(Fc,{icon:ae,onClick:()=>a.current?.click(),label:"Image"}),r.jsx(Fc,{icon:le,active:"eraser"===p,onClick:()=>{O(),f("eraser")},label:"Eraser"})]})]}),r.jsx("div",{style:Ec.divider}),r.jsxs("div",{style:Ec.sidebarSection,children:[r.jsx("div",{style:Ec.sidebarTitle,children:"Colors"}),r.jsxs("div",{style:Ec.colorGrid,children:[N.map(e=>r.jsx("div",{onClick:()=>d(e),style:{...Ec.colorOption,backgroundColor:e,border:"#ffffff"===e?"1px solid #e2e8f0":"none",boxShadow:c===e?"0 0 0 2px #6366f1":"none"}},e)),r.jsx("input",{type:"color",value:c,onChange:e=>d(e.target.value),style:{...Ec.colorOption,padding:0,cursor:"pointer"}})]})]}),r.jsx("div",{style:Ec.divider}),r.jsxs("div",{style:Ec.sidebarSection,children:[r.jsxs("div",{style:Ec.sidebarTitle,children:["Size: ",V(),"px"]}),r.jsx("input",{type:"range",min:"eraser"===p||"highlighter"===p?10:1,max:"eraser"===p?80:"highlighter"===p?60:30,value:V(),onChange:e=>{const t=parseInt(e.target.value);"eraser"===p?x(t):"highlighter"===p?b(t):g(t)},style:Ec.sizeSlider})]}),"text"===p&&r.jsxs(r.Fragment,{children:[r.jsx("div",{style:Ec.divider}),r.jsxs("div",{style:Ec.sidebarSection,children:[r.jsx("div",{style:Ec.sidebarTitle,children:"Text Settings"}),r.jsxs("div",{style:{marginBottom:"12px"},children:[r.jsxs("div",{style:{fontSize:"11px",color:"#64748b",marginBottom:"6px"},children:["Font Size: ",T,"px"]}),r.jsx("input",{type:"range",min:"16",max:"72",value:T,onChange:e=>B(parseInt(e.target.value)),style:Ec.sizeSlider})]}),r.jsxs("div",{children:[r.jsx("div",{style:{fontSize:"11px",color:"#64748b",marginBottom:"6px"},children:"Font Family"}),r.jsx("select",{value:D,onChange:e=>R(e.target.value),style:Ec.fontSelect,children:[{name:"Inter",label:"Modern"},{name:"Comic Sans MS",label:"Fun"},{name:"Georgia",label:"Elegant"},{name:"Courier New",label:"Typewriter"},{name:"Impact",label:"Bold"}].map(e=>r.jsx("option",{value:e.name,children:e.label},e.name))})]})]})]}),r.jsx("div",{style:Ec.divider}),r.jsxs("button",{onClick:H,style:Ec.clearBtn,children:[r.jsx(q,{size:20}),r.jsx("span",{children:"Clear"})]})]})}),L&&r.jsxs("div",{style:Ec.mobileToolbar,children:[r.jsxs("div",{style:Ec.mobileToolsRow,children:[r.jsx(Fc,{icon:ne,active:"pencil"===p,onClick:()=>{O(),f("pencil")},label:"Pencil"}),r.jsx(Fc,{icon:re,active:"highlighter"===p,onClick:()=>{O(),f("highlighter")},label:"Highlight"}),r.jsx(Fc,{icon:ie,active:"text"===p,onClick:()=>f("text"),label:"Text"}),r.jsx(Fc,{icon:oe,active:"emoji"===p,onClick:()=>{f("emoji"),w(!v)},label:"Emoji"}),r.jsx(Fc,{icon:ae,onClick:()=>a.current?.click(),label:"Image"}),r.jsx(Fc,{icon:le,active:"eraser"===p,onClick:()=>{O(),f("eraser")},label:"Eraser"})]}),r.jsxs("div",{style:Ec.mobileSecondRow,children:[r.jsxs("div",{style:Ec.mobileColors,children:[N.map(e=>r.jsx("div",{onClick:()=>d(e),style:{...Ec.mobileColorOption,backgroundColor:e,border:"#ffffff"===e?"1px solid #e2e8f0":"none",boxShadow:c===e?"0 0 0 2px #6366f1":"none"}},e)),r.jsx("input",{type:"color",value:c,onChange:e=>d(e.target.value),style:{...Ec.mobileColorOption,padding:0,cursor:"pointer"}})]}),r.jsx("div",{style:Ec.mobileSizeControl,children:r.jsx("input",{type:"range",min:"eraser"===p||"highlighter"===p?10:1,max:"eraser"===p?80:"highlighter"===p?60:30,value:V(),onChange:e=>{const t=parseInt(e.target.value);"eraser"===p?x(t):"highlighter"===p?b(t):g(t)},style:Ec.mobileSizeSlider})}),r.jsx("button",{onClick:H,style:Ec.mobileClearBtn,children:r.jsx(q,{size:18})})]})]})]}),v&&r.jsx("div",{style:{...Ec.emojiPicker,bottom:L?"100px":"80px"},children:r.jsx("div",{style:Ec.emojiGrid,children:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""].map(e=>r.jsx("button",{onClick:()=>(e=>{if(!z)return;const t=i.current,n=1.5*T,r=Array.from(e).map(e=>e.codePointAt(0).toString(16)).join("-"),o=new Image;o.crossOrigin="anonymous",o.onload=()=>{t.globalAlpha=1,t.drawImage(o,z.x,z.y,n,n)},o.onerror=()=>{t.font=`${n}px "Segoe UI Emoji", "Apple Color Emoji", "Noto Color Emoji", sans-serif`,t.textBaseline="top",t.globalAlpha=1,t.fillText(e,z.x,z.y)},o.src=`https://cdn.jsdelivr.net/npm/twemoji@15.0.3/72x72/${r}.png`,A(null),w(!1)})(e),style:Ec.emojiBtn,children:e},e))})}),r.jsx("input",{ref:a,type:"file",accept:"image/*",onChange:e=>{const t=e.target.files[0];if(!t)return;const r=new FileReader;r.onload=e=>{const t=new Image;t.onload=()=>{const e=i.current,r=n.current.width/window.devicePixelRatio*.8,o=n.current.height/window.devicePixelRatio*.8;let a=t.width,l=t.height;if(a>r){const e=r/a;a=r,l*=e}if(l>o){const e=o/l;l=o,a*=e}const s=(n.current.width/window.devicePixelRatio-a)/2,c=(n.current.height/window.devicePixelRatio-l)/2;e.drawImage(t,s,c,a,l)},t.src=e.target.result},r.readAsDataURL(t),e.target.value=""},style:{display:"none"}})]})}const Fc=({icon:e,active:t,onClick:n,label:i})=>r.jsxs("div",{style:Ec.toolBtnWrapper,onMouseEnter:e=>{const t=e.currentTarget.querySelector(".tooltip");t&&(t.style.opacity="1")},onMouseLeave:e=>{const t=e.currentTarget.querySelector(".tooltip");t&&(t.style.opacity="0")},children:[r.jsx("button",{onClick:n,style:{...Ec.toolBtn,backgroundColor:t?"#6366f1":"transparent",boxShadow:t?"0 4px 12px rgba(99, 102, 241, 0.4)":"none"},children:r.jsx(e,{size:22,color:t?"#ffffff":"#64748b"})}),r.jsx("span",{className:"tooltip",style:Ec.tooltip,children:i})]}),Ec={container:{position:"fixed",inset:0,zIndex:9999,background:"#f1f5f9",display:"flex",flexDirection:"column",fontFamily:"Inter, system-ui, sans-serif",overflow:"hidden"},header:{background:"rgba(255, 255, 255, 0.98)",backdropFilter:"blur(12px)",borderBottom:"1px solid #e2e8f0",display:"flex",alignItems:"center",justifyContent:"space-between",minHeight:"70px",paddingTop:"calc(8px + env(safe-area-inset-top, 0px))",paddingBottom:"8px",paddingLeft:"24px",paddingRight:"24px",boxShadow:"0 2px 10px rgba(0, 0, 0, 0.05)",flexShrink:0},logo:{display:"flex",alignItems:"center",gap:"10px"},title:{fontWeight:"800",color:"#1e293b",letterSpacing:"-0.5px",fontSize:"20px"},headerRight:{display:"flex",alignItems:"center",gap:"10px"},actionBtn:{display:"flex",alignItems:"center",gap:"8px",color:"white",border:"none",padding:"10px 20px",borderRadius:"12px",fontWeight:"700",fontSize:"14px",cursor:"pointer",transition:"all 0.2s"},closeBtn:{background:"#f1f5f9",border:"1px solid #e2e8f0",width:"44px",height:"44px",borderRadius:"12px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s",color:"#64748b"},canvasContainer:{padding:"16px",position:"relative",height:"100%"},canvas:{background:"white",borderRadius:"16px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.08)",display:"block",cursor:"crosshair",touchAction:"none",width:"100%",height:"100%"},rightSidebar:{position:"absolute",right:"-220px",top:0,bottom:0,width:"280px",background:"white",borderLeft:"1px solid #e2e8f0",padding:"16px",overflowY:"auto",transition:"right 0.3s ease",boxShadow:"-4px 0 20px rgba(0, 0, 0, 0.1)"},settingsToggle:{position:"absolute",right:0,top:"20px",width:"40px",height:"48px",background:"white",border:"2px solid rgba(99, 102, 241, 0.12)",borderRadius:"8px 0 0 8px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"-4px 4px 12px rgba(0, 0, 0, 0.1)",transition:"all 0.3s ease",zIndex:1e3},sidebarContent:{display:"flex",flexDirection:"column",gap:"8px"},sidebarSection:{padding:"8px 0"},sidebarTitle:{fontSize:"11px",fontWeight:"700",color:"#64748b",textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"10px"},toolsGrid:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"8px"},toolBtnWrapper:{position:"relative"},toolBtn:{width:"48px",height:"48px",borderRadius:"12px",border:"1px solid #e2e8f0",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center",background:"transparent"},tooltip:{position:"absolute",top:"-35px",left:"50%",transform:"translateX(-50%)",background:"#1e293b",color:"white",fontSize:"11px",fontWeight:"600",padding:"5px 10px",borderRadius:"6px",whiteSpace:"nowrap",opacity:0,pointerEvents:"none",transition:"opacity 0.15s",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.2)"},colorGrid:{display:"grid",gridTemplateColumns:"repeat(5, 1fr)",gap:"6px"},colorOption:{width:"30px",height:"30px",borderRadius:"8px",cursor:"pointer",transition:"all 0.15s"},sizeSlider:{width:"100%",height:"4px",borderRadius:"2px",background:"#e2e8f0",appearance:"none",cursor:"pointer",accentColor:"#6366f1"},fontSelect:{width:"100%",padding:"8px 12px",borderRadius:"8px",border:"1px solid #e2e8f0",fontSize:"13px",background:"white",cursor:"pointer"},clearBtn:{background:"#fee2e2",border:"none",padding:"12px",borderRadius:"10px",cursor:"pointer",color:"#dc2626",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",fontWeight:"700",fontSize:"13px",transition:"all 0.2s"},divider:{height:"1px",background:"#e2e8f0",margin:"4px 0"},mobileToolbar:{position:"absolute",bottom:0,left:0,right:0,background:"rgba(255, 255, 255, 0.98)",backdropFilter:"blur(12px)",borderTop:"1px solid #e2e8f0",padding:"10px 12px",boxShadow:"0 -4px 20px rgba(0, 0, 0, 0.1)",zIndex:100},mobileToolsRow:{display:"flex",justifyContent:"space-around",gap:"4px",marginBottom:"10px"},mobileSecondRow:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:"12px",padding:"0 10px"},mobileColors:{display:"flex",gap:"6px",flex:1,flexWrap:"wrap"},mobileColorOption:{width:"24px",height:"24px",borderRadius:"6px",cursor:"pointer",transition:"all 0.15s",flexShrink:0},mobileSizeControl:{display:"flex",alignItems:"center",gap:"8px",flex:1},mobileSizeSlider:{flex:1,height:"4px",borderRadius:"2px",background:"#e2e8f0",appearance:"none",cursor:"pointer",accentColor:"#6366f1"},mobileClearBtn:{background:"#fee2e2",border:"none",padding:"8px",borderRadius:"8px",cursor:"pointer",color:"#dc2626",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s",flexShrink:0},emojiPicker:{position:"fixed",background:"white",padding:"16px",borderRadius:"20px",boxShadow:"0 10px 50px rgba(0, 0, 0, 0.25)",zIndex:500,maxHeight:"350px",overflowY:"auto",border:"1px solid #e2e8f0",right:"20px"},emojiGrid:{display:"grid",gridTemplateColumns:"repeat(8, 1fr)",gap:"6px"},emojiBtn:{fontSize:"28px",width:"42px",height:"42px",borderRadius:"10px",border:"1px solid #f1f5f9",background:"white",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.15s"},liveInput:{position:"absolute",background:"transparent",border:"none",outline:"none",fontWeight:"bold",minWidth:"80px",maxWidth:"300px",padding:"4px 8px",borderBottom:"3px solid #6366f1",borderRadius:"4px",zIndex:1e3}};function zc({activeClass:e,onBack:n,onPublish:i}){const[a,l]=t.useState(""),[s,f]=t.useState(!1),[h,g]=t.useState("undefined"!=typeof window&&window.innerWidth<768);t.useEffect(()=>{const e=()=>g(window.innerWidth<768);return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);const[m,x]=t.useState([{id:1,type:"text",question:"",image:null,options:[""],paragraph:"",pairs:[{left:"",right:""}]}]),[y,b]=t.useState(!0),[v,w]=t.useState([]),[k,S]=t.useState("all"),[C,j]=t.useState(!0),[F,E]=t.useState([]),z=t.useRef(null),[A,I]=t.useState(null),T=(e,t=null)=>{if("subquestion"===e&&null!==t)return x(e=>{const n=[...e];return n[t].subQuestions=n[t].subQuestions||[],n[t].subQuestions.push({id:Date.now(),type:"text",question:"",image:null,options:[""],pairs:[{left:"",right:""}]}),n}),void E([]);const n={id:Date.now(),type:e,question:"",image:null,options:[],paragraph:"",pairs:[],subQuestions:[],correctAnswer:"truefalse"===e?"":void 0,numericAnswer:"numeric"===e?"":void 0,sentenceParts:"ordering"===e?["","",""]:[],items:"sorting"===e?["","",""]:[]};switch(e){case"choice":n.options=["","",""];break;case"match":n.pairs=[{left:"",right:""},{left:"",right:""}];break;case"comprehension":n.paragraph="",n.subQuestions=[];break;case"truefalse":n.correctAnswer="";break;case"numeric":n.numericAnswer="";break;case"ordering":n.sentenceParts=["","",""];break;case"sorting":n.items=["","",""]}x([...m,n]),E([])},B=e=>({text:"Students write a short answer",choice:"Select the correct answer from options",blank:"Fill in missing words using [blank]",match:"Match items on the left with right",comprehension:"Read a story and answer questions",truefalse:"Mark as True or False",numeric:"Enter a number as answer",ordering:"Arrange sentence parts in correct order",sorting:"Sort items into correct categories"}[e]||"");return r.jsxs("div",{style:Ac.container,children:[r.jsx("div",{style:{position:"fixed",bottom:94,right:-4,zIndex:3e3,boxShadow:"0 4px 16px rgba(79,70,229,0.18)",borderRadius:"50%",background:"#fff",width:56,height:56,display:"flex",alignItems:"center",justifyContent:"center",border:"2px solid #E2E8F0",cursor:"pointer"},children:r.jsx(Ls,{pageId:"assignments"})}),s&&r.jsx("div",{style:{position:"fixed",inset:0,backgroundColor:"rgba(255, 255, 255, 0.9)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",zIndex:2e3,animation:"fadeIn 0.3s ease"},children:r.jsxs("div",{style:{background:"#4CAF50",color:"white",padding:"20px 40px",borderRadius:"20px",display:"flex",alignItems:"center",gap:"15px",boxShadow:"0 10px 25px rgba(76, 175, 80, 0.3)"},children:[r.jsx(c,{size:32}),r.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-start"},children:r.jsx("span",{style:{fontSize:"20px",fontWeight:"bold"},children:"Assignment Published!"})})]})}),r.jsxs("header",{style:Ac.header,children:[r.jsx("input",{style:Ac.titleInput,placeholder:"Type Worksheet title...",value:a,onChange:e=>l(e.target.value)}),r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[r.jsxs("select",{value:k,onChange:e=>{const t=e.target.value;S(t),"all"===t?(b(!0),w([])):(b(!1),w([t]))},style:{padding:"8px 16px",borderRadius:10,border:"1.5px solid #E2E8F0",fontWeight:700,fontSize:15,background:"#fff",color:"#4F46E5",marginLeft:12,minWidth:90,boxShadow:"0 2px 8px rgba(79,70,229,0.06)",appearance:"none",outline:"none",cursor:"pointer"},children:[r.jsx("option",{value:"all",children:"Select Students"}),e?.students?.map(e=>r.jsx("option",{value:e.id,children:e.name},e.id))]}),r.jsxs("button",{onClick:()=>{const e=m.filter(e=>!e.question.trim()).map(e=>e.id);e.length>0?E(e):(E([]),f(!0),setTimeout(()=>{i({title:a||"New Worksheet",questions:m,date:(new Date).toISOString(),assignedTo:y?"all":v.map(e=>String(e)),assignedToAll:y})},2500))},style:Ac.publishBtn,title:"Publish to Class",children:[r.jsx(se,{size:18})," Publish to Class"]}),r.jsx("button",{onClick:n,style:Ac.backBtn,children:r.jsx(o,{size:18})})]})]}),r.jsxs("div",{style:{...Ac.workspace,flexDirection:h?"column-reverse":"row"},children:[r.jsxs("main",{style:{...Ac.canvas,width:h?"100vw":"100%"},children:[!y&&0===v.length&&r.jsx("div",{style:{width:"100%",maxWidth:"800px",marginBottom:"20px"},children:r.jsx("div",{style:Ac.studentList,children:e?.students?.map(e=>r.jsx("div",{style:{...Ac.studentItem,background:v.includes(e.id)?"#EEF2FF":"#fff",borderColor:v.includes(e.id)?"#4F46E5":"#E2E8F0"},onClick:()=>{return t=e.id,void w(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t]);var t},children:e.name},e.id))})}),m.map((e,t)=>{const n=F.includes(e.id);return r.jsxs("div",{style:{...Ac.qCard,borderColor:n?"#E11D48":"#E2E8F0",boxShadow:n?"0 0 0 1px #E11D48":"0 2px 4px rgba(0,0,0,0.02)"},children:[r.jsxs("div",{style:Ac.qCardHeader,children:[r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[r.jsx(ce,{size:16,color:"#CBD5E1"}),r.jsxs("span",{style:Ac.qNumber,children:["Question ",t+1]}),r.jsx("span",{style:Ac.qBadge,children:e.type.toUpperCase()})]}),r.jsx("button",{onClick:()=>x(m.filter(t=>t.id!==e.id)),style:Ac.deleteBtn,children:r.jsx(q,{size:16})})]}),"comprehension"===e.type&&r.jsxs("div",{style:{marginBottom:16},children:[r.jsxs("div",{style:Ac.specialSection,children:[r.jsx("p",{style:Ac.inputLabel,children:"Reading Passage"}),r.jsx("textarea",{style:Ac.paragraphInput,placeholder:"Type the story here...",value:e.paragraph,onChange:e=>{const n=[...m];n[t].paragraph=e.target.value,x(n)}})]}),r.jsxs("div",{style:{marginTop:8},children:[r.jsx("p",{style:{...Ac.inputLabel,marginBottom:4},children:"Comprehension Questions"}),(e.subQuestions||[]).map((e,n)=>r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:8},children:[r.jsx("input",{style:{...Ac.qInput,flex:1},placeholder:`Comprehension Question ${n+1}`,value:e.question,onChange:e=>{const r=[...m];r[t].subQuestions[n].question=e.target.value,x(r)}}),r.jsx("button",{onClick:()=>{const e=[...m];e[t].subQuestions.splice(n,1),x(e)},style:{...Ac.deleteBtn,padding:4},children:r.jsx(q,{size:14})})]},e.id)),r.jsx("button",{onClick:()=>T("subquestion",t),style:{...Ac.addSmallBtn,marginTop:0},children:"+ Add Comprehension Question"})]})]}),"comprehension"!==e.type&&r.jsx("div",{style:{...Ac.questionRow,alignItems:"flex-end",gap:10,flexWrap:h?"wrap":"nowrap"},children:r.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column"},children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[r.jsx("p",{style:{...Ac.inputLabel,color:n?"#E11D48":"#64748B"},children:"Instruction / Question"}),B(e.type)&&r.jsx("span",{style:Ac.tooltipText,children:B(e.type)})]}),r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[r.jsx("input",{style:{...Ac.qInput,borderColor:n?"#FECACA":"#F1F5F9",background:n?"#FFF1F2":"#fff",flex:1,marginBottom:0},placeholder:n?"Type your question here...":(i=e.type,{text:"What question do you want to ask?",choice:"What is the question?",blank:'Use [blank] for missing words, e.g., "The [blank] is blue."',match:"Match items on the left with items on the right",comprehension:"Students will read a story and answer",truefalse:"Write a statement that is true or false",numeric:"Ask a question that has a number answer",ordering:"Enter a sentence parts to rearrange",sorting:"List items for students to sort into categories"}[i]||"What is the question?"),value:e.question,onChange:n=>{const r=[...m];r[t].question=n.target.value,x(r),n.target.value.trim()&&E(t=>t.filter(t=>t!==e.id))}}),r.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[r.jsx("button",{title:"Max file size: 1MB.",onClick:()=>{I(e.id),z.current.click()},style:{...Ac.imageIconBtn,marginTop:0,marginBottom:0,position:"static"},children:e.image?r.jsx("img",{src:e.image,style:Ac.thumb,alt:""}):r.jsx(ae,{size:22})}),r.jsxs("span",{style:{color:"#E11D48",fontWeight:700,fontSize:12,marginTop:4,textAlign:"center",maxWidth:120},children:[r.jsx(p,{size:14,style:{verticalAlign:"middle",marginRight:4}}),"Max file Size 1MB"]})]})]}),n&&r.jsxs("div",{style:Ac.errorText,children:[r.jsx(p,{size:14})," This question cannot be empty"]})]})}),"choice"===e.type&&r.jsxs("div",{style:Ac.optionsGrid,children:[r.jsxs("div",{style:Ac.sectionTip,children:[r.jsx("p",{style:Ac.tipLabel,children:" Tip:"}),r.jsx("p",{style:Ac.tipText,children:"Add 2-6 answer options. Students will select the correct one."})]}),e.options.map((e,n)=>r.jsxs("div",{style:Ac.optionRow,children:[r.jsx("div",{style:Ac.radioPlaceholder}),r.jsx("input",{style:Ac.optionInput,placeholder:`Option ${n+1}`,value:e,onChange:e=>{const r=[...m];r[t].options[n]=e.target.value,x(r)}})]},n)),r.jsx("button",{onClick:()=>{const e=[...m];e[t].options.push(""),x(e)},style:Ac.addSmallBtn,children:"+ Add Option"})]}),"match"===e.type&&r.jsxs("div",{style:Ac.pairsContainer,children:[r.jsxs("div",{style:Ac.sectionTip,children:[r.jsx("p",{style:Ac.tipLabel,children:" Tip:"}),r.jsx("p",{style:Ac.tipText,children:"Create pairs to match. Students draw lines between matching items."})]}),e.pairs.map((e,n)=>r.jsxs("div",{style:Ac.pairRow,children:[r.jsx("input",{placeholder:"Item A",style:Ac.pairInput,value:e.left,onChange:e=>{const r=[...m];r[t].pairs[n].left=e.target.value,x(r)}}),r.jsx("div",{style:Ac.matchLine}),r.jsx("input",{placeholder:"Match B",style:Ac.pairInput,value:e.right,onChange:e=>{const r=[...m];r[t].pairs[n].right=e.target.value,x(r)}})]},n)),r.jsx("button",{onClick:()=>{const e=[...m];e[t].pairs.push({left:"",right:""}),x(e)},style:Ac.addSmallBtn,children:"+ Add Pair"})]}),"truefalse"===e.type&&r.jsxs("div",{style:Ac.specialSection,children:[r.jsxs("div",{style:Ac.sectionTip,children:[r.jsx("p",{style:Ac.tipLabel,children:" Tip:"}),r.jsx("p",{style:Ac.tipText,children:"Select whether the statement is True or False."})]}),r.jsx("p",{style:Ac.inputLabel,children:"Correct Answer"}),r.jsxs("div",{style:{display:"flex",gap:"12px"},children:[r.jsx("button",{onClick:()=>{const e=[...m];e[t].correctAnswer="true",x(e)},style:{...Ac.optionBtn,background:"true"===e.correctAnswer?"#4CAF50":"#F8FAFC",borderColor:"true"===e.correctAnswer?"#4CAF50":"#E2E8F0",color:"true"===e.correctAnswer?"#fff":"#64748B"},children:"True"}),r.jsx("button",{onClick:()=>{const e=[...m];e[t].correctAnswer="false",x(e)},style:{...Ac.optionBtn,background:"false"===e.correctAnswer?"#EF4444":"#F8FAFC",borderColor:"false"===e.correctAnswer?"#EF4444":"#E2E8F0",color:"false"===e.correctAnswer?"#fff":"#64748B"},children:"False"})]})]}),"numeric"===e.type&&r.jsxs("div",{style:Ac.specialSection,children:[r.jsxs("div",{style:Ac.sectionTip,children:[r.jsx("p",{style:Ac.tipLabel,children:" Tip:"}),r.jsx("p",{style:Ac.tipText,children:"Students will enter a number as their answer."})]}),r.jsx("p",{style:Ac.inputLabel,children:"Correct Answer (Number)"}),r.jsx("input",{type:"number",style:{...Ac.qInput,maxWidth:"200px"},placeholder:"Enter numeric answer...",value:e.numericAnswer,onChange:e=>{const n=[...m];n[t].numericAnswer=e.target.value,x(n)}})]}),"ordering"===e.type&&r.jsxs("div",{style:Ac.optionsGrid,children:[r.jsxs("div",{style:Ac.sectionTip,children:[r.jsx("p",{style:Ac.tipLabel,children:" Tip:"}),r.jsx("p",{style:Ac.tipText,children:"Break a sentence into parts. Students drag to reorder them correctly."})]}),r.jsx("p",{style:Ac.inputLabel,children:"Sentence Parts (in wrong order)"}),e.sentenceParts.map((n,i)=>r.jsxs("div",{style:Ac.orderingRow,children:[r.jsx("div",{style:Ac.orderNumber,children:i+1}),r.jsx("input",{style:{...Ac.optionInput,flex:1},placeholder:`Part ${i+1}`,value:n,onChange:e=>{const n=[...m];n[t].sentenceParts[i]=e.target.value,x(n)}}),e.sentenceParts.length>2&&r.jsx("button",{onClick:()=>{const e=[...m];e[t].sentenceParts.splice(i,1),x(e)},style:{...Ac.deleteBtn,padding:4},children:r.jsx(q,{size:14})})]},i)),r.jsx("button",{onClick:()=>{const e=[...m];e[t].sentenceParts.push(""),x(e)},style:Ac.addSmallBtn,children:"+ Add Part"})]}),"sorting"===e.type&&r.jsxs("div",{style:Ac.optionsGrid,children:[r.jsxs("div",{style:Ac.sectionTip,children:[r.jsx("p",{style:Ac.tipLabel,children:" Tip:"}),r.jsx("p",{style:Ac.tipText,children:"List items for students to sort into categories you define."})]}),r.jsx("p",{style:Ac.inputLabel,children:"Items to Sort"}),e.items.map((n,i)=>r.jsxs("div",{style:Ac.sortingRow,children:[r.jsx(de,{size:16,color:"#CBD5E1"}),r.jsx("input",{style:{...Ac.optionInput,flex:1},placeholder:`Item ${i+1}`,value:n,onChange:e=>{const n=[...m];n[t].items[i]=e.target.value,x(n)}}),e.items.length>2&&r.jsx("button",{onClick:()=>{const e=[...m];e[t].items.splice(i,1),x(e)},style:{...Ac.deleteBtn,padding:4},children:r.jsx(q,{size:14})})]},i)),r.jsx("button",{onClick:()=>{const e=[...m];e[t].items.push(""),x(e)},style:Ac.addSmallBtn,children:"+ Add Item"})]})]},e.id);var i}),r.jsx("div",{style:{height:"100px"}})]}),r.jsx("aside",{style:{...Ac.sidebar,width:h?"100%":C?"200px":"0px",height:h?"60px":"100%",padding:h?"8px 12px":C?"24px":"0px",opacity:h||C?1:0,flexDirection:h?"row":"column",justifyContent:h?"space-around":"flex-start",position:h?"fixed":"static",top:h?"auto":0,right:h?"auto":0,left:h?0:"auto",bottom:h?0:"auto",zIndex:h?1e3:"auto",borderTop:h?"1px solid #E2E8F0":"none",borderRight:h?"none":"1px solid #E2E8F0",overflowX:h?"auto":"hidden"},children:(C||h)&&r.jsxs("div",{style:{display:"flex",flexDirection:h?"row":"column",width:"100%",justifyContent:"flex-start",gap:h?"12px":"8px"},children:[!h&&r.jsx("p",{style:Ac.sidebarLabel,children:"QUESTION TYPES"}),r.jsxs("button",{onClick:()=>T("text"),style:{...Ac.typeBtn,gap:h?"0px":"12px",width:h?"auto":"100%",padding:h?"8px":"10px",marginBottom:h?"0px":"8px"},children:[r.jsx(ie,{size:h?28:18}),!h&&r.jsx("span",{children:"Short Answer"})]}),r.jsxs("button",{onClick:()=>T("choice"),style:{...Ac.typeBtn,gap:h?"0px":"12px",width:h?"auto":"100%",padding:h?"8px":"10px",marginBottom:h?"0px":"8px"},children:[r.jsx(ue,{size:h?28:18}),!h&&r.jsx("span",{children:"Multiple Choice"})]}),r.jsxs("button",{onClick:()=>T("blank"),style:{...Ac.typeBtn,gap:h?"0px":"12px",width:h?"auto":"100%",padding:h?"8px":"10px",marginBottom:h?"0px":"8px"},children:[r.jsx(pe,{size:h?28:18}),!h&&r.jsx("span",{children:"Fill Blanks"})]}),r.jsxs("button",{onClick:()=>T("match"),style:{...Ac.typeBtn,gap:h?"0px":"12px",width:h?"auto":"100%",padding:h?"8px":"10px",marginBottom:h?"0px":"8px"},children:[r.jsx(fe,{size:h?28:18}),!h&&r.jsx("span",{children:"Matching"})]}),r.jsxs("button",{onClick:()=>T("comprehension"),style:{...Ac.typeBtn,gap:h?"0px":"12px",width:h?"auto":"100%",padding:h?"8px":"10px",marginBottom:h?"0px":"8px"},children:[r.jsx(he,{size:h?28:18}),!h&&r.jsx("span",{children:"Story"})]}),r.jsxs("button",{onClick:()=>T("truefalse"),style:{...Ac.typeBtn,gap:h?"0px":"12px",width:h?"auto":"100%",padding:h?"8px":"10px",marginBottom:h?"0px":"8px"},children:[r.jsx(ge,{size:h?28:18}),!h&&r.jsx("span",{children:"True/False"})]}),r.jsxs("button",{onClick:()=>T("numeric"),style:{...Ac.typeBtn,gap:h?"0px":"12px",width:h?"auto":"100%",padding:h?"8px":"10px",marginBottom:h?"0px":"8px"},children:[r.jsx(me,{size:h?28:18}),!h&&r.jsx("span",{children:"Numeric"})]}),r.jsxs("button",{onClick:()=>T("ordering"),style:{...Ac.typeBtn,gap:h?"0px":"12px",width:h?"auto":"100%",padding:h?"8px":"10px",marginBottom:h?"0px":"8px"},children:[r.jsx(d,{size:h?28:18}),!h&&r.jsx("span",{children:"Ordering"})]}),r.jsxs("button",{onClick:()=>T("sorting"),style:{...Ac.typeBtn,gap:h?"0px":"12px",width:h?"auto":"100%",padding:h?"8px":"10px",marginBottom:h?"0px":"8px"},children:[r.jsx(xe,{size:h?28:18}),!h&&r.jsx("span",{children:"Sorting"})]})]})}),!h&&r.jsx("button",{onClick:()=>j(!C),style:{...Ac.retractBtn,right:C?"185px":"0px",top:"80px",position:"fixed",zIndex:2e3,display:"flex",alignItems:"center",justifyContent:"center",width:"30px",height:"30px",background:"white",border:"1px solid #E2E8F0",borderRadius:"50%",cursor:"pointer",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:C?r.jsx(te,{size:16}):r.jsx(u,{size:16})})]}),r.jsx("input",{type:"file",ref:z,hidden:!0,onChange:e=>{const t=e.target.files[0];if(t&&A){const e=new FileReader;e.onloadend=()=>{x(m.map(t=>t.id===A?{...t,image:e.result}:t))},e.readAsDataURL(t)}},accept:"image/*"})]})}const Ac={container:{height:"100%",display:"flex",flexDirection:"column",background:"#F1F5F9",fontFamily:"Inter, sans-serif",overflowX:"overflow"},canvas:{flex:1,padding:window.innerWidth<768?"15px":"40px",overflowY:"auto",display:"flex",flexDirection:"column",alignItems:"center",width:(window.innerWidth,"100vw"),paddingBottom:window.innerWidth<768?"70px":"40px"},header:{padding:"16px 16px",background:"#fff",borderBottom:"1px solid #E2E8F0",display:"flex",justifyContent:"space-between",alignItems:"center",zIndex:10,flexWrap:"wrap",gap:"10px",height:"auto",width:"98%"},titleInput:{fontSize:"20px",fontWeight:"800",border:"none",outline:"none",marginLeft:"48px",width:"400px",color:"#1E293B"},backBtn:{background:"#F8FAFC",border:"2px solid #e2656dff",padding:"8px",borderRadius:"10px",cursor:"pointer"},publishBtn:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 20px",background:"#4F46E5",color:"#fff",borderRadius:"10px",border:"none",fontWeight:"700",cursor:"pointer",boxShadow:"0 4px 12px rgba(79, 70, 229, 0.3)"},workspace:{flex:1,display:"flex",overflow:"hidden",position:"relative",flexDirection:window.innerWidth<768?"column-reverse":"row"},sidebar:{background:"#F8FAFC",transition:"all 0.3s ease",overflow:"hidden",display:"flex",flexDirection:"column"},sidebarLabel:{fontSize:"11px",fontWeight:"800",color:"#94A3B8",letterSpacing:"0.05em",marginBottom:"16px"},typeBtn:{display:"flex",alignItems:"center",gap:"12px",width:"100%",padding:"10px",borderRadius:"10px",border:"1px solid transparent",background:"#fff",marginBottom:"8px",cursor:"pointer",fontWeight:"600",color:"#475569",fontSize:"13px",transition:"all 0.2s",boxShadow:"0 1px 2px rgba(0,0,0,0.05)",whiteSpace:"nowrap",flexShrink:0},retractBtn:{position:"absolute",top:"20px",zIndex:10,background:"#fff",border:"1px solid #E2E8F0",borderRadius:"0 8px 8px 0",width:"24px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",boxShadow:"2px 0 5px rgba(0,0,0,0.05)",transition:"left 0.3s ease"},qCard:{background:"#fff",borderRadius:"24px",padding:"32px",width:"100%",maxWidth:"800px",marginBottom:"24px",transition:"all 0.2s",border:"1px solid #E2E8F0"},qCardHeader:{display:"flex",justifyContent:"space-between",marginBottom:"20px"},qNumber:{fontWeight:"800",color:"#64748B",fontSize:"14px"},qBadge:{background:"#EEF2FF",color:"#4F46E5",padding:"4px 8px",borderRadius:"6px",fontSize:"10px",fontWeight:"900",marginLeft:"10px"},deleteBtn:{background:"#FFF1F2",color:"#E11D48",border:"none",padding:"8px",borderRadius:"8px",cursor:"pointer"},inputLabel:{fontSize:"12px",fontWeight:"700",color:"#64748B",marginBottom:"8px"},qInput:{width:"100%",padding:"14px",borderRadius:"12px",border:"2px solid #F1F5F9",fontSize:"16px",outline:"none",transition:"all 0.2s"},errorText:{color:"#E11D48",fontSize:"12px",fontWeight:"600",marginTop:"8px",display:"flex",alignItems:"center",gap:"5px"},imageIconBtn:{width:"50px",height:"50px",borderRadius:"12px",border:"2px dashed #CBD5E1",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",background:"#F8FAFC",color:"#64748B",overflow:"hidden",marginTop:"22px"},thumb:{width:"100%",height:"100%",objectFit:"cover"},paragraphInput:{width:"100%",height:"120px",padding:"16px",borderRadius:"12px",border:"2px solid #F1F5F9",marginBottom:"16px",fontFamily:"inherit",resize:"vertical"},optionsGrid:{marginTop:"20px",display:"flex",flexDirection:"column",gap:"10px"},optionRow:{display:"flex",alignItems:"center",gap:"12px"},radioPlaceholder:{width:"18px",height:"18px",borderRadius:"50%",border:"2px solid #CBD5E1"},optionInput:{flex:1,padding:"10px",border:"none",borderBottom:"2px solid #F1F5F9",outline:"none"},addSmallBtn:{alignSelf:"flex-start",background:"none",border:"none",color:"#4F46E5",fontWeight:"700",fontSize:"13px",cursor:"pointer",marginTop:"10px"},pairRow:{display:"flex",alignItems:"center",gap:"15px",marginBottom:"10px"},pairInput:{flex:1,padding:"12px",borderRadius:"10px",border:"1px solid #E2E8F0"},matchLine:{width:"30px",height:"2px",background:"#CBD5E1"},questionRow:{display:"flex",gap:"20px"},studentList:{display:"flex",flexWrap:"wrap",gap:"8px"},studentItem:{padding:"6px 12px",borderRadius:"20px",fontSize:"12px",fontWeight:"600",cursor:"pointer",border:"2px solid #E2E8F0",transition:"all 0.2s"},optionBtn:{flex:1,padding:"12px 20px",borderRadius:"10px",border:"2px solid #E2E8F0",background:"#F8FAFC",color:"#64748B",fontWeight:"700",fontSize:"14px",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center"},orderingRow:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"10px",background:"#F8FAFC",padding:"10px",borderRadius:"10px"},orderNumber:{width:"28px",height:"28px",borderRadius:"50%",background:"#4F46E5",color:"#fff",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"800",fontSize:"12px",flexShrink:0},sortingRow:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"10px",background:"#F8FAFC",padding:"10px",borderRadius:"10px"},tooltipText:{fontSize:"11px",color:"#94A3B8",fontWeight:"500",marginTop:"2px",maxWidth:"200px",textAlign:"right",lineHeight:"1.3"},sectionTip:{background:"#FEF3C7",border:"1px solid #FDE68A",borderRadius:"8px",padding:"10px 12px",marginBottom:"12px",display:"flex",gap:"8px",alignItems:"flex-start"},tipLabel:{fontSize:"12px",fontWeight:"700",color:"#D97706",margin:0,lineHeight:"1.4"},tipText:{fontSize:"12px",fontWeight:"500",color:"#92400E",margin:0,lineHeight:"1.4",flex:1}};const Ic=i(Ke()),Tc=({activeClass:e,onBack:n})=>{const[i,a]=t.useState(!1),[l,s]=t.useState(""),[c,d]=t.useState(null),u=l.trim()?e.students.filter(e=>e.name.toLowerCase().includes(l.trim().toLowerCase())):e.students;return r.jsxs("div",{className:"accesscodes-page",style:{display:"flex",flexDirection:"column",background:"#F7F8FA",minHeight:"100vh",padding:0,overflowY:"auto"},children:[r.jsx("style",{children:"\n        .codes-header {\n          display: flex;\n          flex-direction: row;\n          align-items: center;\n          justify-content: space-between;\n          padding: 18px 24px 0 24px;\n          min-height: 56px;\n          background: #fff;\n          border-bottom: 1px solid #E2E8F0;\n          position: sticky;\n          top: 0;\n          z-index: 10;\n        }\n        @media (max-width:768px) {\n          .codes-header {\n            padding: 14px 8px 0 8px;\n            min-height: 48px;\n          }\n        }\n        .codes-header-title {\n          position: absolute;\n          left: 0;\n          right: 0;\n          text-align: center;\n          pointer-events: none;\n          font-size: 1.25rem;\n          font-weight: 800;\n          color: #222;\n          margin: 0;\n        }\n        .codes-header-inner {\n          position: relative;\n          flex: 1;\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n        }\n        .codes-header-actions {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n        }\n        .codes-list {\n          display: grid;\n          grid-template-columns: 1fr;\n          gap: 24px;\n          margin: 0 auto;\n          max-width: 1200px;\n          width: 100%;\n          padding: 32px 12px 32px 12px;\n        }\n        @media (min-width: 700px) {\n          .codes-list {\n            grid-template-columns: repeat(2, 1fr);\n          }\n        }\n        @media (min-width: 1020px) {\n          .codes-list {\n            grid-template-columns: repeat(3, 1fr);\n          }\n        }\n        .codes-card {\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          background: #fff;\n          border-radius: 18px;\n          box-shadow: 0 4px 24px rgba(99,102,241,0.07);\n          border: 1px solid #E2E8F0;\n          padding: 24px 12px 20px 12px;\n          gap: 10px;\n          margin: 0 auto;\n          max-width: 370px;\n        }\n        .codes-name {\n          font-weight: 800;\n          color: #222;\n          font-size: 1.18rem;\n          margin-bottom: 8px;\n          text-align: center;\n        }\n        .codes-codes-row {\n          display: flex;\n          flex-direction: row;\n          gap: 18px;\n          flex-wrap: wrap;\n          justify-content: center;\n          width: 100%;\n        }\n        .codes-code-block {\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          gap: 10px;\n          min-width: 120px;\n        }\n        .codes-label {\n          font-size: 0.98rem;\n          font-weight: 700;\n          color: #6366F1;\n          margin-bottom: 2px;\n          letter-spacing: 0.5px;\n          text-align: center;\n        }\n        .codes-qr {\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          justify-content: center;\n          background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%);\n          padding: 12px;\n          border-radius: 16px;\n          border: 2px solid #E2E8F0;\n          margin: 0 auto;\n          box-shadow: 0 4px 12px rgba(0,0,0,0.05);\n          transition: all 0.3s ease;\n        }\n        .codes-qr:hover {\n          transform: translateY(-2px);\n          box-shadow: 0 8px 20px rgba(0,0,0,0.1);\n          border-color: #6366F1;\n        }\n        .codes-code {\n          font-family: 'Courier New', monospace;\n          font-size: 1.15rem;\n          background: linear-gradient(135deg, #F1F8E9 0%, #E8F5E9 100%);\n          color: #2E7D32;\n          padding: 8px 18px;\n          border-radius: 12px;\n          font-weight: 800;\n          letter-spacing: 2px;\n          text-align: center;\n          border: 2px solid #C8E6C9;\n          box-shadow: 0 2px 4px rgba(46, 125, 50, 0.1);\n        }\n        .codes-code.student {\n          background: linear-gradient(135deg, #E3F2FD 0%, #BBDEFB 100%);\n          color: #1565C0;\n          border-color: #90CAF9;\n          box-shadow: 0 2px 4px rgba(21, 101, 192, 0.1);\n        }\n        .codes-copy {\n          font-size: 13px;\n          padding: 8px 14px;\n          border-radius: 10px;\n          border: 1.5px solid #b2dfdb;\n          background: #fff;\n          color: #2E7D32;\n          cursor: pointer;\n          transition: all 0.2s ease;\n          margin-top: 10px;\n          font-weight: 600;\n          display: flex;\n          align-items: center;\n          gap: 6px;\n        }\n        .codes-copy:hover {\n          background: #E8F5E9;\n          transform: translateY(-1px);\n          box-shadow: 0 4px 8px rgba(46, 125, 50, 0.15);\n        }\n        .codes-copy.copied {\n          background: #4CAF50;\n          border-color: #4CAF50;\n          color: #fff;\n        }\n        .codes-copy.student {\n          border: 1.5px solid #90caf9;\n          color: #1565C0;\n        }\n        .codes-copy.student:hover {\n          background: #E3F2FD;\n          box-shadow: 0 4px 8px rgba(21, 101, 192, 0.15);\n        }\n        .codes-copy.student.copied {\n          background: #2196F3;\n          border-color: #2196F3;\n          color: #fff;\n        }\n        @media (max-width:768px) {\n          .codes-header {\n            padding: 14px 8px 0 8px;\n          }\n          .codes-list {\n            max-width: 100%;\n            padding: 10px 2px 18px 2px;\n            gap: 14px;\n          }\n          .codes-card {\n            flex-direction: column;\n            align-items: flex-start;\n            padding: 16px 8px;\n            gap: 12px;\n          }\n          .codes-info {\n            min-width: 0;\n          }\n          .codes-codes-row {\n            gap: 10px;\n          }\n        }\n      "}),r.jsx("div",{className:"codes-header",children:r.jsxs("div",{className:"codes-header-inner",children:[r.jsx("div",{style:{minWidth:36,display:"flex",alignItems:"center",justifyContent:"center",marginLeft:30},children:i?r.jsx("input",{autoFocus:!0,type:"text",placeholder:"Search students...",value:l,onChange:e=>s(e.target.value),onBlur:()=>{l||a(!1)},style:{fontSize:"1rem",padding:"4px 8px",borderRadius:"7px",border:"1px solid #E2E8F0",outline:"none",width:140,transition:"width 0.2s",color:"#222",background:"#F8FAFC",marginLeft:0}}):r.jsx("button",{"aria-label":"Search students",style:{background:"none",border:"none",padding:0,cursor:"pointer",color:"#6366F1",display:"flex",alignItems:"center",justifyContent:"center"},onClick:()=>a(!0),children:r.jsx(ye,{size:22})})}),r.jsx("h2",{className:"codes-header-title",children:" Login Access Codes"}),r.jsxs("div",{className:"codes-header-actions",children:[r.jsx(Ls,{pageId:"access-codes"}),r.jsx("button",{onClick:n,style:{background:"#F1F5F9",color:"#64748B",border:"none",padding:"8px",borderRadius:"10px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease"},onMouseEnter:e=>e.currentTarget.style.background="#E2E8F0",onMouseLeave:e=>e.currentTarget.style.background="#F1F5F9",children:r.jsx(o,{size:22})})]})]})}),r.jsx("div",{className:"codes-list",children:u.map(t=>{const n=e.Access_Codes&&e.Access_Codes[t.id]||{parentCode:"---",studentCode:"---"},i=window.location.origin,o=`${i}/#/parent-login/${n.parentCode}`,a=`${i}/#/student-login/${n.studentCode}`;return r.jsxs("div",{className:"codes-card",children:[r.jsx("div",{className:"codes-name",children:t.name}),r.jsxs("div",{className:"codes-codes-row",children:[r.jsxs("div",{className:"codes-code-block",children:[r.jsx("div",{className:"codes-label",children:"Parent Code"}),r.jsx("span",{className:"codes-code",children:n.parentCode}),"---"!==n.parentCode&&r.jsxs("div",{className:"codes-qr",children:[r.jsx(Ic,{id:`parent-qr-${t.id}`,value:o,size:80,style:{width:"80px",height:"80px"}}),r.jsx("button",{className:"codes-copy "+(c===`parent-${t.id}`?"copied":""),onClick:async()=>{const e=`parent-${t.id}`,n=document.getElementById(`parent-qr-${t.id}`);if(n)try{const t=(new XMLSerializer).serializeToString(n),r=document.createElement("canvas"),i=120;r.width=i,r.height=i;const o=r.getContext("2d"),a=new window.Image,l="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(t)));a.onload=async function(){o.clearRect(0,0,i,i),o.fillStyle="#ffffff",o.fillRect(0,0,i,i),o.drawImage(a,0,0,i,i),r.toBlob(async t=>{try{await navigator.clipboard.write([new window.ClipboardItem({"image/png":t})]),d(e),setTimeout(()=>d(null),2e3)}catch{alert("Failed to copy image. Your browser may not support this feature.")}},"image/png")},a.onerror=function(){alert("Failed to render QR code image.")},a.src=l}catch(r){console.error("QR copy error:",r)}},children:c===`parent-${t.id}`?r.jsxs(r.Fragment,{children:[r.jsx(be,{size:14}),"Copied!"]}):r.jsxs(r.Fragment,{children:[r.jsx(ee,{size:14}),"Copy QR"]})})]})]}),r.jsxs("div",{className:"codes-code-block",children:[r.jsx("div",{className:"codes-label",children:"Student Code"}),r.jsx("span",{className:"codes-code student",children:n.studentCode}),"---"!==n.studentCode&&r.jsxs("div",{className:"codes-qr",children:[r.jsx(Ic,{id:`student-qr-${t.id}`,value:a,size:80,style:{width:"80px",height:"80px"}}),r.jsx("button",{className:"codes-copy student "+(c===`student-${t.id}`?"copied":""),onClick:async()=>{const e=`student-${t.id}`,n=document.getElementById(`student-qr-${t.id}`);if(n)try{const t=(new XMLSerializer).serializeToString(n),r=document.createElement("canvas"),i=120;r.width=i,r.height=i;const o=r.getContext("2d"),a=new window.Image,l="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(t)));a.onload=async function(){o.clearRect(0,0,i,i),o.fillStyle="#ffffff",o.fillRect(0,0,i,i),o.drawImage(a,0,0,i,i),r.toBlob(async t=>{try{await navigator.clipboard.write([new window.ClipboardItem({"image/png":t})]),d(e),setTimeout(()=>d(null),2e3)}catch{alert("Failed to copy image. Your browser may not support this feature.")}},"image/png")},a.onerror=function(){alert("Failed to render QR code image.")},a.src=l}catch(r){console.error("QR copy error:",r)}},children:c===`student-${t.id}`?r.jsxs(r.Fragment,{children:[r.jsx(be,{size:14}),"Copied!"]}):r.jsxs(r.Fragment,{children:[r.jsx(ee,{size:14}),"Copy QR"]})})]})]})]})]},t.id)})})]})},Bc=[{id:"star-yellow",emoji:"",name:"Gold Star"},{id:"star-blue",emoji:"",name:"Blue Star"},{id:"sparkle",emoji:"",name:"Sparkle"},{id:"trophy",emoji:"",name:"Trophy"},{id:"medal",emoji:"",name:"Medal"},{id:"ribbon",emoji:"",name:"Ribbon"},{id:"crown",emoji:"",name:"Crown"},{id:"party",emoji:"",name:"Party"},{id:"confetti",emoji:"",name:"Confetti"},{id:"fire",emoji:"",name:"On Fire"},{id:"rocket",emoji:"",name:"Rocket"},{id:"balloon",emoji:"",name:"Balloon"},{id:"gift",emoji:"",name:"Gift"},{id:"robot",emoji:"",name:"Robot"},{id:"alien",emoji:"",name:"Alien"},{id:"ghost",emoji:"",name:"Ghost"},{id:"unicorn",emoji:"",name:"Unicorn"},{id:"dragon",emoji:"",name:"Dragon"},{id:"alien-cat",emoji:"",name:"Cat"},{id:"dog",emoji:"",name:"Dog"},{id:"fox",emoji:"",name:"Fox"},{id:"bear",emoji:"",name:"Bear"},{id:"panda",emoji:"",name:"Panda"},{id:"penguin",emoji:"",name:"Penguin"},{id:"owl",emoji:"",name:"Owl"},{id:"frog",emoji:"",name:"Frog"},{id:"turtle",emoji:"",name:"Turtle"},{id:"octopus",emoji:"",name:"Octopus"},{id:"butterfly",emoji:"",name:"Butterfly"},{id:"soccer",emoji:"",name:"Soccer"},{id:"basketball",emoji:"",name:"Basketball"},{id:"football",emoji:"",name:"Football"},{id:"tennis",emoji:"",name:"Tennis"},{id:"bowling",emoji:"",name:"Bowling"},{id:"music",emoji:"",name:"Music"},{id:"guitar",emoji:"",name:"Guitar"},{id:"microphone",emoji:"",name:"Microphone"},{id:"headphones",emoji:"",name:"Headphones"},{id:"sun",emoji:"",name:"Sunny"},{id:"moon",emoji:"",name:"Moon"},{id:"rainbow",emoji:"",name:"Rainbow"},{id:"cloud",emoji:"",name:"Cloud"},{id:"flower",emoji:"",name:"Flower"},{id:"tree",emoji:"",name:"Tree"},{id:"cactus",emoji:"",name:"Cactus"},{id:"mountain",emoji:"",name:"Mountain"},{id:"beach",emoji:"",name:"Beach"},{id:"island",emoji:"",name:"Island"},{id:"apple",emoji:"",name:"Apple"},{id:"pizza",emoji:"",name:"Pizza"},{id:"burger",emoji:"",name:"Burger"},{id:"icecream",emoji:"",name:"Ice Cream"},{id:"cake",emoji:"",name:"Cake"},{id:"cookie",emoji:"",name:"Cookie"},{id:"candy",emoji:"",name:"Candy"},{id:"donut",emoji:"",name:"Donut"},{id:"smile",emoji:"",name:"Smile"},{id:"laugh",emoji:"",name:"Happy"},{id:"love",emoji:"",name:"Love"},{id:"cool",emoji:"",name:"Cool"},{id:"wink",emoji:"",name:"Wink"},{id:"thinking",emoji:"",name:"Thinking"},{id:"surprised",emoji:"",name:"Surprised"},{id:"angel",emoji:"",name:"Angel"},{id:"thumbsup",emoji:"",name:"Thumbs Up"},{id:"clap",emoji:"",name:"Clap"},{id:"heart",emoji:"",name:"Heart"},{id:"fist",emoji:"",name:"Power"},{id:"wave",emoji:"",name:"Wave"},{id:"shake",emoji:"",name:"Handshake"},{id:"book",emoji:"",name:"Books"},{id:"pencil",emoji:"",name:"Pencil"},{id:"lightbulb",emoji:"",name:"Idea"},{id:"brain",emoji:"",name:"Brain"},{id:"graduation",emoji:"",name:"Graduation"},{id:"backpack",emoji:"",name:"Backpack"},{id:"puzzle",emoji:"",name:"Puzzle"},{id:"compass",emoji:"",name:"Compass"},{id:"magnifier",emoji:"",name:"Search"},{id:"flag",emoji:"",name:"Goal"},{id:"warning",emoji:"",name:"Warning"},{id:"bell",emoji:"",name:"Reminder"},{id:"speaker",emoji:"",name:"Speaker"},{id:"shhh",emoji:"",name:"Quiet"},{id:"pause",emoji:"",name:"Pause"},{id:"clock",emoji:"",name:"Time"}];function Dc({activeClass:e,behaviors:i,onBack:a,onUpdateBehaviors:l}){const[s]=t.useState("cards"),[c,d]=t.useState(Array.isArray(i)?i:[]),[,u]=t.useState(!1),[p,f]=t.useState(null),[h,g]=t.useState({label:"",pts:0,icon:"",type:"wow"}),[m,x]=t.useState(null);n.useEffect(()=>d(Array.isArray(i)?i:[]),[i]),n.useEffect(()=>{const e=()=>{u(window.innerWidth<720)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);const y=async()=>{try{const e=await ht.getBehaviors();d(Array.isArray(e)?e:[])}catch(e){console.warn("Failed to reload behaviors:",e.message)}};n.useEffect(()=>{const e=document.createElement("style");return e.id="settings-mobile-styles",e.innerHTML='@media (max-width:720px){ .settings-page-root header { padding: 12px 16px !important; } .settings-page-root main { padding: 16px !important; } .settings-page-root aside { display: none !important; } .settings-page-root .sidebar-collapsed { display: flex !important; width: 64px !important; } }\n    .settings-header-actions [data-tooltip]:hover::after {\n      content: attr(data-tooltip);\n      position: absolute;\n      left: 50%;\n      top: calc(100% + 8px);\n      transform: translateX(-50%);\n      background: #333;\n      color: #fff;\n      padding: 6px 12px;\n      border-radius: 8px;\n      font-size: 14px;\n      white-space: nowrap;\n      z-index: 9999;\n      opacity: 1;\n      pointer-events: none;\n    }\n    /* Sticker button hover effects */\n    button[class*="sticker"] {\n      transition: all 0.2s ease;\n    }\n    button[class*="sticker"]:hover {\n      transform: scale(1.15);\n      border-color: #6366f1 !important;\n      box-shadow: 0 6px 20px rgba(99, 102, 241, 0.3);\n    }',document.head.appendChild(e),()=>{const e=document.getElementById("settings-mobile-styles");e&&e.remove()}},[]),n.useEffect(()=>{if(!document.getElementById("abc-tooltip-style")){const e=document.createElement("style");e.id="abc-tooltip-style",e.innerHTML="\n        .abc-tooltip[data-tooltip]:hover::after {\n          content: attr(data-tooltip);\n          position: absolute;\n          left: 50%;\n          top: calc(100% + 8px);\n          transform: translateX(-50%);\n          background: #333;\n          color: #fff;\n          padding: 6px 12px;\n          border-radius: 8px;\n          font-size: 14px;\n          white-space: nowrap;\n          z-index: 9999;\n          opacity: 1;\n          pointer-events: none;\n        }\n      ",document.head.appendChild(e)}},[]),n.useEffect(()=>{const e=()=>{if("undefined"!=typeof window&&window.twemoji){setTimeout(()=>{const e=document.querySelector('[style*="position: fixed"][style*="z-index: 3500"]');e&&window.twemoji.parse(e,{folder:"svg",ext:".svg",className:"emoji"})},50);document.querySelectorAll('[style*="width: 44px"][style*="height: 44px"]').forEach(e=>{e.textContent&&/[\u{1F000}-\u{1F9FF}]/u.test(e.textContent)&&window.twemoji.parse(e,{folder:"svg",ext:".svg",className:"emoji"})})}};e(),m&&setTimeout(e,100)},[m,c]);if("undefined"!=typeof document&&!document.getElementById("settings-hide-on-mobile-style")){const e=document.createElement("style");e.id="settings-hide-on-mobile-style",e.innerHTML="\n            @media (max-width: 720px) {\n              .hide-on-mobile { display: none !important; }\n            }\n          ",document.head.appendChild(e)}return r.jsxs("div",{className:"settings-page-root",style:Rc.pageContainer,children:[r.jsxs("header",{style:Rc.header,children:[r.jsx("div",{style:{display:"flex",alignItems:"center",gap:8,flex:1}}),r.jsx("div",{className:"edit-point-cards-header-text hide-on-mobile",style:Rc.headerCenterText,children:r.jsx("span",{className:"edit-point-cards-header-label",style:{display:"inline-block",width:"100%"},children:"Edit point cards"})}),r.jsx("div",{className:"settings-header-actions",style:{...Rc.headerActions,flexDirection:"row"},children:r.jsxs("div",{className:"header-action-group",style:{display:"flex",flexDirection:"row",gap:8},children:[r.jsx(Ls,{pageId:"settings-cards"}),"            ",r.jsx(Pc,{text:"Add a new behavior card",children:r.jsxs("button",{"aria-label":"Add card",style:Rc.headerIconBtn,onClick:()=>{const e={id:Date.now(),label:"New Card",pts:1,type:"wow",icon:""},t=[e,...c];d(t),f(e.id),g({label:e.label,pts:e.pts,icon:e.icon,type:e.type})},children:[r.jsx(U,{size:22,style:{marginRight:8}}),r.jsx("span",{className:"header-icon-label",style:{...Rc.headerIconLabel,fontSize:14},children:"Add Card"})]})}),r.jsx(Pc,{text:"Reset all behavior cards to default",children:r.jsxs("button",{"aria-label":"Reset behaviors",style:Rc.headerIconBtn,onClick:async()=>{const e=[{id:1,label:"Team Player",pts:1,type:"wow",icon:""},{id:2,label:"Super Star!",pts:3,type:"wow",icon:""},{id:3,label:"Creative",pts:2,type:"wow",icon:""},{id:4,label:"Brain Power",pts:2,type:"wow",icon:""},{id:5,label:"On Fire!",pts:3,type:"wow",icon:""},{id:6,label:"Kind Heart",pts:1,type:"wow",icon:""},{id:7,label:"Active",pts:1,type:"wow",icon:""},{id:8,label:"Rocket",pts:2,type:"wow",icon:""},{id:9,label:"Too Loud",pts:-1,type:"nono",icon:""},{id:10,label:"Distracted",pts:-2,type:"nono",icon:""}];try{await ht.deleteNewCards()}catch(t){console.warn('Failed to delete "New Card" entries:',t.message)}d(e),l&&l(e),f(null)},children:[r.jsx(ve,{size:22,style:{marginRight:8}}),r.jsx("span",{className:"header-icon-label",style:{...Rc.headerIconLabel,fontSize:14},children:"Reset"})]})}),r.jsx(Pc,{text:"Done and close settings",children:r.jsx("button",{"aria-label":"Done",style:Rc.headerIconBtn,onClick:()=>{try{a(),ht.saveBehaviors(c).catch(e=>{console.error("Failed to persist behavior cards (background):",e)})}catch(e){console.error("Error closing settings:",e),a()}},children:r.jsx(o,{size:22})})})]})})]}),r.jsx("div",{style:Rc.mainLayout,children:r.jsx("main",{style:Rc.content,children:"cards"===s?r.jsx("section",{children:r.jsx("div",{style:Rc.cardList,children:c.map(e=>r.jsxs("div",{style:Rc.settingItem,children:[r.jsxs("div",{style:Rc.itemInfo,children:[r.jsxs("div",{style:{position:"relative"},children:[r.jsx(Pc,{text:"Change/choose avatar sticker",children:r.jsx("button",{onClick:()=>{p===e.id&&x(m===e.id?null:e.id)},style:{...Rc.stickerBtn,width:56,height:56,fontSize:32},"aria-label":"Pick sticker",children:p===e.id?h.icon:e.icon})}),m===e.id&&r.jsx("div",{style:Rc.centerEmojiModal,onClick:e=>e.stopPropagation(),className:"modal-overlay-in",children:r.jsx("div",{style:Rc.centerStickerGrid,className:"animated-modal-content modal-animate-scale",children:Bc.map(t=>r.jsx(Pc,{text:t.name,children:r.jsx("button",{onClick:()=>{if(p===e.id)g(e=>({...e,icon:t.emoji}));else{(async e=>{d(e),l&&l(e);try{await ht.saveBehaviors(e)}catch(t){console.warn("saveBehaviors failed",t.message)}})(c.map(n=>n.id===e.id?{...n,icon:t.emoji}:n))}x(null)},style:{...Rc.stickerBtn,padding:12,fontSize:32},children:t.emoji})},t.id))})})]}),r.jsx("div",{children:p===e.id?r.jsx("div",{style:{display:"flex",alignItems:"center",gap:12,flexWrap:"wrap"},children:r.jsxs("div",{style:{flex:1,minWidth:0,display:"flex",gap:8,alignItems:"center",flexWrap:"wrap"},children:[r.jsx("input",{value:h.label,onChange:e=>g(t=>({...t,label:e.target.value})),placeholder:"Card label",style:{padding:"10px 12px",borderRadius:10,border:"1px solid #E6EEF8",fontSize:15,flex:"1 1 140px",minWidth:120},title:"Edit card label"}),r.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:2},children:[r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6},children:[r.jsx(Pc,{text:"Decrease points",children:r.jsx("button",{onClick:()=>{const e=Number(h.pts)-1;g(t=>({...t,pts:e,type:e>0?"wow":"nono"}))},style:Rc.smallIconBtn,"aria-label":"Decrease points",children:"-"})}),r.jsx("div",{style:{minWidth:36,textAlign:"center",fontWeight:800},children:h.pts}),r.jsx(Pc,{text:"Increase points",children:r.jsx("button",{onClick:()=>{const e=Number(h.pts)+1;g(t=>({...t,pts:e,type:e>0?"wow":"nono"}))},style:Rc.smallIconBtn,"aria-label":"Increase points",children:"+"})})]}),r.jsx("div",{style:{color:h.pts>0?"#4CAF50":"#F44336",fontSize:"14px",fontWeight:700,marginTop:2},children:h.pts>0?"WOW":"NO NO"})]})]})}):r.jsxs("div",{children:[r.jsx("div",{style:Rc.itemLabel,children:e.label}),r.jsx("div",{style:{color:e.pts>0?"#4CAF50":"#F44336",fontSize:"13px",fontWeight:700,textTransform:"uppercase",letterSpacing:"0.5px"},children:e.pts>0?"WOW":"NO NO"}),r.jsx("div",{style:{color:e.pts>0?"#4CAF50":"#F44336",fontSize:"24px",fontWeight:"900",marginTop:"4px"},children:e.pts>0?`+${e.pts}`:e.pts})]})})]}),r.jsx("div",{style:Rc.itemActions,children:p===e.id?r.jsxs("div",{style:Rc.verticalActionStack,children:[r.jsx(Pc,{text:"Save changes",children:r.jsx("button",{onClick:()=>(e=>{const t=Number(h.pts),n=t>0?"wow":"nono",r=c.map(r=>r.id===e?{...r,label:h.label,pts:t,icon:h.icon,type:n}:r);d(r),f(null),l&&l(r),ht.saveBehaviors(r).then(y)})(e.id),style:Rc.saveIconBtn,"aria-label":"Save",children:r.jsx(we,{size:22})})}),r.jsx(Pc,{text:"Cancel editing",children:r.jsx("button",{onClick:()=>f(null),style:Rc.cancelIconBtn,"aria-label":"Cancel",children:r.jsx(o,{size:22})})})]}):r.jsxs(r.Fragment,{children:[r.jsx(Pc,{text:"Edit card",children:r.jsx("button",{onClick:()=>{f(e.id),g({label:e.label,pts:e.pts,icon:e.icon,type:e.type})},style:Rc.iconOnlyBtn,"aria-label":"Edit",children:r.jsx(H,{size:20})})}),r.jsx(Pc,{text:"Delete card",children:r.jsx("button",{onClick:()=>(e=>{const t=c.filter(t=>t.id!==e);d(t),l&&l(t),ht.saveBehaviors(t).then(y)})(e.id),style:Rc.iconOnlyBtn,"aria-label":"Delete",children:r.jsx(q,{size:20})})})]})})]},e.id))})}):null})})]})}const Rc={pageContainer:{height:"100vh",display:"flex",flexDirection:"column",overflowY:"auto",background:"#F8FAFC",position:"relative"},header:{padding:"15px 30px",background:"#fff",borderBottom:"1px solid #E2E8F0",display:"flex",justifyContent:"space-between",alignItems:"center"},headerActions:{display:"flex",gap:8,alignItems:"center",flexWrap:"wrap",justifyContent:"flex-end",width:"100%",position:"relative"},headerIconBtn:{display:"flex",alignItems:"center",gap:8,background:"#fff",border:"1px solid #EEF2FF",borderRadius:12,padding:"12px 18px",cursor:"pointer",color:"#2563EB",fontWeight:700,fontSize:18,transition:"background 0.2s",minWidth:0,position:"relative"},headerIconLabel:{fontSize:18,fontWeight:700,display:"inline-block",lineHeight:1,marginLeft:2},headerCenterText:{position:"absolute",left:"50%",top:0,transform:"translateX(-50%)",fontWeight:800,fontSize:22,color:"#2563EB",letterSpacing:.5,padding:"0 16px",lineHeight:"64px",display:"block",textAlign:"center",width:"max-content",minWidth:180,zIndex:1},mainLayout:{flex:1,display:"flex",overflow:"hidden"},content:{flex:1,padding:"40px",overflowY:"auto"},cardList:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(360px, 1fr))",gap:"12px",alignItems:"start",justifyItems:"center",width:"100%",margin:0,padding:0},settingItem:{background:"#fff",padding:"10px 24px",borderRadius:"16px",border:"1px solid #E2E8F0",display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",minWidth:360,maxWidth:390,minHeight:140,height:180,boxSizing:"border-box",boxShadow:"0 2px 8px rgba(0,0,0,0.03)",transition:"box-shadow 0.2s"},itemInfo:{display:"flex",alignItems:"center",gap:"20px"},itemLabel:{fontWeight:"bold",fontSize:"1.1rem"},itemActions:{display:"flex",gap:"20px"},stickerBtn:{fontSize:"32px",border:"2px solid #E6EEF8",borderRadius:"16px",padding:"12px",cursor:"pointer",background:"white",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 8px rgba(0,0,0,0.05)",filter:"drop-shadow(0 1px 2px rgba(0,0,0,0.1))"},centerEmojiModal:{position:"fixed",top:72,left:"50%",transform:"translateX(-50%)",zIndex:3500,display:"flex",justifyContent:"center",width:"min(900px, 95%)",pointerEvents:"auto"},centerStickerGrid:{width:"100%",background:"#fff",padding:16,borderRadius:16,boxShadow:"0 20px 60px rgba(2,6,23,0.12)",display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(56px, 1fr))",gap:12,justifyItems:"center",alignItems:"center",maxHeight:"70vh",overflowY:"auto"},verticalActionStack:{display:"flex",flexDirection:"column",gap:8,alignItems:"center"},iconOnlyBtn:{background:"transparent",border:"none",cursor:"pointer",padding:6,color:"#2563EB",display:"inline-flex",alignItems:"center",justifyContent:"center"},smallIconBtn:{padding:"6px 8px",borderRadius:8,border:"1px solid #EEF2FF",background:"white",cursor:"pointer"},saveIconBtn:{width:44,height:44,padding:8,borderRadius:12,background:"#2E7D32",color:"white",border:"none",display:"inline-flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},cancelIconBtn:{width:44,height:44,padding:8,borderRadius:12,background:"transparent",color:"#333",border:"1px solid #E6EEF8",display:"inline-flex",alignItems:"center",justifyContent:"center",cursor:"pointer",marginLeft:0}};function Pc({children:e,text:t}){const[i,o]=n.useState(!1);return r.jsxs("span",{style:{position:"relative",display:"inline-block"},onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),onFocus:()=>o(!0),onBlur:()=>o(!1),children:[e,i&&r.jsx("span",{style:{position:"absolute",left:"50%",top:"100%",transform:"translateX(-50%)",background:"#333",color:"#fff",padding:"6px 12px",borderRadius:8,fontSize:14,whiteSpace:"nowrap",marginTop:8,zIndex:9999,pointerEvents:"none"},children:t})]})}const Nc=({icon:e,label:t,onClick:i,isActive:o,badge:a,style:l,dataNavbarIcon:s})=>{const[c,d]=n.useState(!1),u=e=>{i(e)};return"undefined"!=typeof window&&window.innerWidth<=768?r.jsxs("div",{style:{position:"relative",display:"flex",justifyContent:"center",width:"100%",padding:"6px 0",boxSizing:"border-box"},onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),children:[r.jsx("div",{onClick:u,"data-navbar-icon":s,role:"button",tabIndex:0,style:{display:"flex",alignItems:"center",justifyContent:"center",width:40,height:40,borderRadius:10,background:c?"#F8FAFC":"transparent",boxShadow:c?"0 8px 20px rgba(2,6,23,0.08)":"none",transform:c?"translateY(-3px) scale(1.03)":"translateY(0) scale(1)",transition:"all 180ms ease",cursor:"pointer"},children:r.jsx(e,{style:{...l,color:o?"#4CAF50":l?.color||"#636E72"}})}),a,c&&r.jsx("div",{style:{position:"absolute",left:"72px",top:"50%",transform:"translateY(-50%)",background:"#2D3436",color:"white",padding:"6px 12px",borderRadius:"8px",zIndex:2e3,whiteSpace:"nowrap",fontSize:"14px",pointerEvents:"none",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},children:t})]}):r.jsxs("div",{style:{position:"relative",display:"flex",alignItems:"center",width:"100%",padding:"6px 12px",boxSizing:"border-box"},children:[r.jsxs("div",{onClick:u,"data-navbar-icon":s,role:"button",tabIndex:0,style:{display:"flex",alignItems:"center",gap:"12px",width:"100%",padding:"10px 14px",borderRadius:10,background:o?"#E8F5E9":c?"#F8FAFC":"transparent",boxShadow:c?"0 4px 12px rgba(2,6,23,0.06)":"none",transition:"all 180ms ease",cursor:"pointer",border:o?"1px solid #4CAF50":"none"},onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),children:[r.jsx(e,{style:{...l,color:o?"#4CAF50":l?.color||"#636E72",flexShrink:0}}),r.jsx("span",{style:{fontSize:"13px",fontWeight:500,color:o?"#2E7D32":"#374151",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:t})]}),a&&r.jsx("div",{style:{position:"absolute",right:"8px",top:"50%",transform:"translateY(-50%)"},children:a})]})},Lc=n.forwardRef(({title:e,onClick:t,children:i,style:o},a)=>{const[l,s]=n.useState(!1),[c,d]=n.useState({left:0,top:0}),u=n.useRef(null),p={background:"#fff",color:"#475569",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.05)",border:"1px solid #E2E8F0",width:48,height:44,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:12,cursor:"pointer",transition:"all 180ms ease",...o},f=l?{background:"#F8FAFC",transform:"translateY(-2px)",boxShadow:"0 10px 28px rgba(2,6,23,0.08)"}:{};return r.jsxs("div",{style:{position:"relative",display:"inline-flex"},children:[r.jsx("button",{ref:e=>{u.current=e,a&&("function"==typeof a?a(e):a.current=e)},onClick:t,onMouseEnter:()=>{const e=u.current;if(e&&e.getBoundingClientRect){const t=e.getBoundingClientRect();d({left:t.left+t.width/2,top:t.bottom+8})}s(!0)},onMouseLeave:()=>s(!1),style:{...p,...f},children:i}),l&&r.jsx("div",{style:{position:"fixed",left:c.left,top:c.top,transform:"translateX(-50%)",background:"#2D3436",color:"white",padding:"6px 10px",borderRadius:8,zIndex:99999,whiteSpace:"nowrap",fontSize:12,pointerEvents:"none",boxShadow:"0 6px 18px rgba(0,0,0,0.12)"},children:e})]})});function Mc({activeClass:e,behaviors:n,onBack:i,onOpenEggRoad:a,onOpenSettings:l,updateClasses:s,onOpenAssignments:c}){t.useEffect(()=>{const t=t=>{const{sourceBehaviors:n}=t.detail||{};n&&Array.isArray(n)&&e&&s(t=>t.map(t=>{if(t.id!==e.id)return t;const r=new Set((t.behaviors||[]).map(e=>e.id||e.label)),i=n.filter(e=>!(r.has(e.id)||r.has(e.label)));return 0===i.length?t:{...t,behaviors:[...t.behaviors||[],...i]}}))};return window.addEventListener("behavior-import:request",t),()=>window.removeEventListener("behavior-import:request",t)},[e,s]);const[d,p]=t.useState(!1),[f,h]=t.useState(!1),[m,y]=t.useState(null),[b,v]=t.useState(null),[k,C]=t.useState(""),[E,z]=t.useState(null),[T,B]=t.useState(null),[R,P]=t.useState(!1),[N,L]=t.useState(null),[M,O]=t.useState(null),_=t.useRef(null),W=t.useRef(null),$=t.useCallback(()=>{if(!W.current)return{top:0,left:0};const e=W.current.getBoundingClientRect();return{top:e.top-200,left:e.left+e.width/2-275}},[]),[H,q]=t.useState("undefined"!=typeof window&&window.innerWidth<=768),[U,V]=t.useState(!H),[Q,Y]=t.useState(H?"compact":"spacious"),[J,X]=t.useState(new Set),[K,Z]=t.useState(!1),[ee,ne]=t.useState({}),re="undefined"!=typeof window&&window.matchMedia&&window.matchMedia("(prefers-reduced-motion: reduce)").matches;t.useEffect(()=>{const e=()=>{const e=window.innerWidth;q(e<=768),Y(e<=374?"compact":e<=480||e<=768||e<=1024?"regular":"spacious")};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);const ie=(e=[],t=1)=>{if(re)return;const{type:n,dur:r}={1:{type:"small",dur:800},2:{type:"medium",dur:1200},3:{type:"large",dur:1600},5:{type:"confetti",dur:2200}}[t]||{type:"small",dur:900};ne(t=>{const r={...t};return e.forEach(e=>{r[e]={type:n}}),r}),setTimeout(()=>{ne(t=>{const n={...t};return e.forEach(e=>{delete n[e]}),n})},r)},[oe,ae]=t.useState(!1),[le,se]=t.useState({visible:!1,student:null,points:1,behaviorEmoji:""}),[ce,de]=t.useState(!1),[ue,pe]=t.useState(new Set),[fe,he]=t.useState(!1),[me,xe]=t.useState(!1),[ye,be]=t.useState(!1),ve=()=>{document.fullscreenElement?document.exitFullscreen():document.documentElement.requestFullscreen().catch(e=>{console.error(`Error attempting to enable full-screen mode: ${e.message}`)})},[we,Re]=t.useState(!1),[Pe,Ne]=t.useState("score"),[Le,Me]=t.useState(!1),Oe=t.useRef(null),_e=t.useRef(null),We=t.useRef(null),$e=t.useRef(null),He=t.useRef(null),qe=t.useRef(null),Ue=t.useRef(null),Ve=t.useRef(null),Ge=t.useMemo(()=>{if(!e||!e.students)return[];const t=[...e.students];return"name"===Pe?t.sort((e,t)=>e.name.localeCompare(t.name)):"score"===Pe?t.sort((e,t)=>(t.score||0)-(e.score||0)):t},[e?.students,Pe]);t.useEffect(()=>{const e=()=>{xe(!!document.fullscreenElement)};return document.addEventListener("fullscreenchange",e),()=>document.removeEventListener("fullscreenchange",e)},[]),t.useEffect(()=>{const e=e=>{const t=e.target;_e.current&&_e.current.contains(t)||Oe.current&&Oe.current.contains(t)||He.current&&He.current.contains(t)||We.current&&We.current.contains(t)||qe.current&&qe.current.contains(t)||$e.current&&$e.current.contains(t)||(Le||we||oe)&&(Re(!1),ae(!1),Me(!1))};return document.addEventListener("click",e),()=>document.removeEventListener("click",e)},[Le,we,oe]),t.useEffect(()=>{const e=e=>{const t=e.target;U&&(Ue.current&&Ue.current.contains(t)||Ve.current&&Ve.current.contains(t)||V(!1))};return document.addEventListener("click",e),()=>document.removeEventListener("click",e)},[U]);const[Qe,Ye]=t.useState("idle"),[Je,Ke]=t.useState(5),Ze=t.useRef(null),et=t.useRef(null),tt=()=>{Ze.current||(Ze.current=new(window.AudioContext||window.webkitAudioContext)),Ye("counting"),Ke(5)},[nt,rt]=t.useState("dashboard"),[it,ot]=t.useState([]),[,at]=t.useState(!1),lt=async()=>{if(e&&e.id){at(!0);try{const t=await ht.pbRequest(`/collections/submissions/records?filter=(class_id='${e.id}')&sort=-created`);ot(t.items||[])}catch(t){console.error("Failed to fetch submissions:",t)}finally{at(!1)}}},st=()=>Math.floor(1e4+9e4*Math.random()).toString();t.useEffect(()=>{if(!oe)return;const e=setTimeout(()=>ae(!1),2e3);return()=>clearTimeout(e)},[oe]),t.useEffect(()=>{let e;if("counting"===Qe)if(Je>0){const t=Ze.current.createOscillator(),n=Ze.current.createGain();t.type="square",t.frequency.value=1200,t.connect(n),n.connect(Ze.current.destination),n.gain.setValueAtTime(.3,Ze.current.currentTime),n.gain.exponentialRampToValueAtTime(.01,Ze.current.currentTime+.2),t.start(),t.stop(Ze.current.currentTime+.2),e=setTimeout(()=>Ke(Je-1),1e3)}else{Ye("buzzing");const e=Ze.current.createOscillator(),t=Ze.current.createOscillator(),n=Ze.current.createGain();e.type="sawtooth",t.type="sawtooth",e.frequency.value=180,t.frequency.value=184;const r=Ze.current.createOscillator(),i=Ze.current.createGain();r.frequency.value=8,i.gain.value=40,r.connect(i),i.connect(e.frequency),i.connect(t.frequency),e.connect(n),t.connect(n),n.connect(Ze.current.destination),n.gain.value=.4,e.start(),t.start(),r.start(),et.current={stop:()=>{e.stop(),t.stop(),r.stop()}}}return()=>clearTimeout(e)},[Qe,Je]);const ct=t.useCallback(e=>{v(e.id),C(e.name||""),z(e.avatar||null),B(null)},[]),dt=t.useCallback(t=>{s(n=>n.map(n=>{if(n.id===e.id){const e={...n.Access_Codes||{}};return delete e[t.id],{...n,students:n.students.filter(e=>e.id!==t.id),Access_Codes:e}}return n})),O(null)},[e?.id,s]),ut=(t,n=1)=>{se({visible:!0,student:{name:`${t.length} Winners`,students:t},points:n,behaviorEmoji:""}),setTimeout(()=>se({visible:!1,student:null,points:1,behaviorEmoji:""}),2e3),s(r=>r.map(r=>r.id===e.id?{...r,students:r.students.map(e=>t.find(t=>t.id===e.id)?{...e,score:e.score+n,history:[...e.history||[],{label:"Lucky Draw Winner",pts:n,type:"wow",timestamp:(new Date).toISOString()}]}:e)}:r));try{ie(t.map(e=>e.id),n)}catch(r){console.warn("triggerAnimationForIds failed",r)}};if(!e)return r.jsx("div",{style:{...Oc.layout,overflowX:"hidden"},children:"No class selected"});const pt=e?.students?.reduce((e,t)=>e+(Number(t.score)||0),0)||0;return r.jsx(r.Fragment,{children:r.jsxs("div",{style:{...Oc.layout,overflowX:"hidden"},children:[r.jsx("style",{children:"\n          @keyframes pulseChevron { \n            0% { transform: translateY(0) scale(1); }\n            50% { transform: translateY(-4px) scale(1.08); }\n            100% { transform: translateY(0) scale(1); }\n          }\n        "}),r.jsxs("nav",{ref:Ue,style:H?{position:"fixed",left:0,top:0,height:"100vh",width:"72px",zIndex:1e3,display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"center",gap:"8px",padding:"calc(12px + env(safe-area-inset-top, 0px)) 6px",background:"#EEF2FF",transform:U?"translateX(0)":"translateX(-100%)",transition:"transform 0.25s ease",boxShadow:U?"0 0 20px rgba(0,0,0,0.06)":"none",outline:"3px solid rgba(99,102,241,0.12)",borderRight:"1px solid rgba(0,0,0,0.04)"}:{width:"210px",background:"#EEF2FF",display:"flex",flexDirection:"column",alignItems:"stretch",gap:"4px",padding:"calc(16px + env(safe-area-inset-top, 0px)) 8px",borderRight:"1px solid rgba(0,0,0,0.06)",position:"fixed",left:0,top:0,height:"100vh",zIndex:1e3,transform:U?"translateX(0)":"translateX(-100%)",transition:"transform 0.3s ease",boxShadow:U?"0 0 20px rgba(0,0,0,0.1)":"none",outline:"3px solid rgba(99,102,241,0.08)",overflowY:"auto",boxSizing:"border-box"},children:[r.jsx(Nc,{icon:ke,label:"Back to Classes",onClick:()=>{i(),rt("dashboard"),H&&V(!1)},style:Oc.icon}),r.jsx(Nc,{icon:A,label:"Assignments",onClick:()=>{rt("assignments"),H&&V(!1)},isActive:"assignments"===nt}),r.jsx(Nc,{icon:D,label:"Inbox & Grading",onClick:()=>{rt("messages"),lt(),H&&V(!1)},isActive:"messages"===nt,style:Oc.icon,badge:r.jsx(r.Fragment,{children:it.filter(e=>"submitted"===e.status).length>0&&r.jsx("span",{style:Oc.badge,children:it.filter(e=>"submitted"===e.status).length})})}),r.jsx(Nc,{icon:F,label:"Lucky Draw",onClick:()=>{rt("dashboard"),p(!0),H&&V(!1)},style:Oc.icon,dataNavbarIcon:"lucky-draw"}),r.jsx(Nc,{icon:g,label:"Progress Road",onClick:()=>{a(),H&&V(!1)},style:Oc.icon,dataNavbarIcon:"egg-road"}),r.jsx(Nc,{icon:Se,label:"Attendance Mode",onClick:()=>{ce?de(!1):(rt("dashboard"),de(!0)),H&&V(!1)},isActive:ce,style:Oc.icon,dataNavbarIcon:"attendance"}),r.jsx(Nc,{icon:I,label:"Access Codes",onClick:()=>{(()=>{const t="object"==typeof e.Access_Codes&&null!==e.Access_Codes?e.Access_Codes:{};let n=!1;const r={...t};e.students.forEach(e=>{r[e.id]||(n=!0,r[e.id]={parentCode:st(),studentCode:st()})}),n&&s(t=>t.map(t=>t.id===e.id?{...t,Access_Codes:r}:t)),he(!0)})(),rt("codes"),H&&V(!1)},isActive:"codes"===nt,style:Oc.icon}),r.jsx(Nc,{icon:Ce,label:"Reports",onClick:()=>{rt("reports"),s(t=>t.map(t=>t.id===e.id?{...t,isViewingReports:!0}:t)),H&&V(!1)},isActive:"reports"===nt,style:Oc.icon}),r.jsx(Nc,{icon:je,label:"Class Timer",onClick:()=>{rt("timer"),H&&V(!1)},isActive:"timer"===nt,style:Oc.icon}),r.jsx(Nc,{icon:Fe,label:"Attention Buzzer",onClick:()=>{tt(),H&&V(!1)},style:{...Oc.icon,color:"idle"!==Qe?"#FF5252":"#636E72"}}),r.jsx(Nc,{icon:Ee,label:"Whiteboard",onClick:()=>{be(!0),H&&V(!1)},style:Oc.icon}),r.jsx(Nc,{icon:j,label:"Settings",onClick:()=>{rt("settings"),H&&V(!1)},isActive:"settings"===nt,style:Oc.icon,dataNavbarIcon:"settings"})]}),r.jsx("style",{children:"\n            @keyframes chevronBounce {\n              0% { transform: translateY(0); }\n              1.6% { transform: translateY(-8px); }\n              3.2% { transform: translateY(0); }\n              4.8% { transform: translateY(-6px); }\n              6.4% { transform: translateY(0); }\n              100% { transform: translateY(0); }\n            }\n          "}),r.jsx("button",{ref:Ve,onMouseDown:e=>e.stopPropagation(),onClick:e=>{e.stopPropagation(),V(e=>!e)},style:d||ye||"idle"!==Qe||"timer"===nt||"settings"===nt||"reports"===nt||"assignments"===nt||"codes"===nt||"messages"===nt||m||K||f||b||M?{display:"none"}:H?{position:"fixed",left:U?"82px":"0",top:"calc(53px + env(safe-area-inset-top, 0px))",zIndex:11010,background:"white",border:"2px solid rgba(99,102,241,0.12)",borderRadius:"0 8px 8px 0",width:"48px",height:"48px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",boxShadow:"0 8px 22px rgba(0,0,0,0.18)",transition:"all 0.25s ease",animation:U?"none":"pulseChevron 1.6s ease-in-out infinite",willChange:"transform"}:{position:"fixed",left:U?"218px":"8px",top:53,zIndex:11010,background:"white",border:"2px solid rgba(99,102,241,0.12)",borderRadius:"0 8px 8px 0",width:"40px",height:"48px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",boxShadow:"0 6px 18px rgba(0,0,0,0.12)",transition:"all 0.28s ease",willChange:"transform"},children:U?r.jsx(u,{size:H?20:22,style:{transition:"transform 220ms ease"}}):r.jsx(te,{size:H?20:22,style:{transition:"transform 220ms ease"}})}),"idle"!==Qe&&r.jsxs("div",{style:{position:"fixed",inset:0,zIndex:9999,background:"buzzing"===Qe?"rgba(255, 0, 0, 0.1)":"rgba(15, 23, 42, 0.9)",backdropFilter:"blur(10px)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",animation:"buzzing"===Qe?"pulseRed 0.5s infinite alternate":"none"},children:[r.jsx("style",{children:"\n      @keyframes pulseRed { from { background: rgba(255, 0, 0, 0.1); } to { background: rgba(255, 0, 0, 0.3); } }\n      @keyframes scaleIn { from { transform: scale(0.5); opacity: 0; } to { transform: scale(1); opacity: 1; } }\n    "}),r.jsx("div",{style:{textAlign:"center",color:"white",animation:"scaleIn 0.3s cubic-bezier(0.34, 1.56, 0.64, 1)"},children:"counting"===Qe?r.jsxs(r.Fragment,{children:[r.jsx("div",{style:{fontSize:"180px",fontWeight:"900",textShadow:"0 0 50px rgba(99, 102, 241, 0.5)"},children:Je}),r.jsx("p",{style:{fontSize:"24px",fontWeight:"700",letterSpacing:"4px",opacity:.8},children:"EYES ON ME"})]}):r.jsxs(r.Fragment,{children:[r.jsx(ge,{size:100,color:"#FFD700",style:{marginBottom:"20px"}}),r.jsx("h1",{style:{fontSize:"64px",fontWeight:"900",marginBottom:"40px"},children:"ATTENTION!"}),r.jsx("button",{onClick:()=>{et.current&&(et.current.stop(),et.current=null),Ye("idle")},style:{padding:"24px 60px",borderRadius:"30px",border:"none",background:"white",color:"red",fontSize:"24px",fontWeight:"900",cursor:"pointer",boxShadow:"0 20px 40px rgba(0,0,0,0.3)",transition:"all 0.2s"},onMouseEnter:e=>e.target.style.transform="scale(1.05)",onMouseLeave:e=>e.target.style.transform="scale(1)",children:"I'M LISTENING"})]})})]}),r.jsx("main",{style:{...Oc.content,marginLeft:U?H?"72px":"210px":"0",transition:"margin-left 0.3s ease",paddingTop:H?"16px":void 0,paddingBottom:H?"80px":void 0,overflowX:"hidden",maxWidth:"100%",boxSizing:"border-box"},children:"messages"===nt?r.jsx("div",{className:"page-animate-in",style:{height:"100%"},children:r.jsx(vc,{activeClass:e,submissions:it,onGradeSubmit:async(t,n)=>{try{const r=await ht.pbRequest(`/collections/submissions/records/${t}`),i=Number(r.grade)||0;if(await ht.pbRequest(`/collections/submissions/records/${t}`,{method:"PATCH",body:JSON.stringify({grade:n,status:"graded"})}),r.student_id&&n){const t=Number(n)-i;0!==t&&s(n=>n.map(n=>n.id===e.id?{...n,students:n.students.map(e=>e.id.toString()===r.student_id.toString()?{...e,score:(Number(e.score)||0)+t}:e)}:n))}await lt()}catch(r){console.error("Grade submit failed",r),alert("Failed to save grade. Check console.")}},onBack:()=>rt("dashboard")})},"messages"):"timer"===nt?r.jsx("div",{className:"page-animate-in",style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",background:"#F4F1EA",padding:"40px"},children:r.jsxs("div",{style:{width:"100%",maxWidth:"800px",background:"white",padding:"60px",borderRadius:"40px",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.08)",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center"},children:[r.jsxs("div",{style:{background:"#EEF2FF",padding:"12px 24px",borderRadius:"20px",color:"#4F46E5",fontWeight:"800",marginBottom:"40px",display:"inline-flex",alignItems:"center",gap:"10px"},children:[r.jsx(je,{size:20})," CLASS TIMER"]}),r.jsx(Cc,{onClose:()=>rt("students"),onComplete:()=>"Time is up! "})]})},"timer"):"reports"===nt?r.jsx("div",{className:"page-animate-in",style:{height:"100%"},children:r.jsx(_s,{activeClass:e,onBack:()=>rt("dashboard")})},"reports"):"assignments"===nt?r.jsx("div",{className:"page-animate-in",style:{height:"100%"},children:r.jsx(zc,{activeClass:e,onBack:()=>rt("dashboard"),onPublish:t=>{s(n=>n.map(n=>n.id===e.id?{...n,assignments:[...n.assignments||[],t]}:n)),rt("dashboard")}})},"assignments"):"codes"===nt?r.jsx(Tc,{activeClass:e,onBack:()=>rt("dashboard")}):"settings"===nt?r.jsx("div",{className:"page-animate-in",style:{height:"100%"},children:r.jsx(Dc,{activeClass:e,behaviors:e.behaviors||n,onBack:()=>rt("dashboard"),onUpdateBehaviors:t=>{s(n=>n.map(n=>n.id===e.id?{...n,behaviors:t}:n))}})},"settings"):r.jsxs(r.Fragment,{children:[r.jsxs("header",{style:{...Oc.header,width:"100%",padding:H?"calc(8px + env(safe-area-inset-top, 0px)) 16px 8px 16px":Oc.header.padding,marginLeft:0,paddingRight:H?"16px":"20px",boxSizing:"border-box",flexDirection:"row",alignItems:"flex-start",justifyContent:"space-between"},children:[r.jsx("div",{style:{width:H?"40px":"100px"}}),r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[r.jsx("h2",{style:{fontSize:"1.5rem",fontWeight:900,color:"#0F172A",margin:0},children:e.name}),"demo-class"===e.id&&r.jsx("span",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",padding:"4px 10px",borderRadius:20,fontSize:"0.75rem",fontWeight:600,boxShadow:"0 2px 8px rgba(102, 126, 234, 0.3)"},children:"DEMO"}),r.jsx(Ls,{pageId:"class-dashboard"}),ce&&r.jsx("div",{style:{background:"#FEF3C7",color:"#92400E",padding:"8px 12px",borderRadius:"10px",fontSize:"13px",fontWeight:700,display:"flex",gap:10,alignItems:"center"},children:r.jsx("span",{style:{fontWeight:700,fontSize:"13px"},children:"Attendance: Tap students to toggle. Tap icon to save & exit."})})]}),H?r.jsx("div",{style:{width:"100px",display:"flex",justifyContent:"flex-end"},children:r.jsxs("div",{style:{position:"relative"},children:[r.jsx(Lc,{ref:Oe,title:"Menu",onClick:()=>Me(e=>!e),children:r.jsx(w,{size:22})}),Le&&r.jsxs("div",{onClick:e=>e.stopPropagation(),style:{...Oc.gridMenu,position:"absolute",top:"calc(100% + 8px)",right:0,minWidth:"200px"},ref:_e,children:[r.jsxs("div",{style:{position:"relative"},children:[r.jsxs("button",{onClick:e=>{e.stopPropagation(),Re(e=>{const t=!e;return t&&ae(!1),t})},style:{...Oc.gridOption,display:"flex",alignItems:"center",justifyContent:"space-between",padding:"10px 12px"},children:[r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10},children:[r.jsx(ze,{size:18}),r.jsx("span",{children:"Sort Students"})]}),r.jsx(Ae,{size:14})]}),we&&r.jsxs("div",{onClick:e=>e.stopPropagation(),style:{position:"absolute",right:"100%",top:0,marginRight:"8px",background:"white",borderRadius:"12px",padding:"8px",boxShadow:"0 10px 40px rgba(0,0,0,0.15)",minWidth:"180px",zIndex:1e5},children:[r.jsx("div",{style:{padding:"6px 12px",fontSize:"11px",fontWeight:900,color:"#94A3B8",textTransform:"uppercase",letterSpacing:"1px"},children:"Sort By"}),r.jsxs("button",{onClick:e=>{e.stopPropagation(),Ne("name"),Re(!1),Me(!1)},style:{...Oc.gridOption,background:"name"===Pe?"#EEF2FF":"transparent",color:"name"===Pe?"#6366F1":"#475569"},children:[r.jsx("span",{style:{flex:1,textAlign:"left"},children:"Name (A-Z)"}),"name"===Pe&&r.jsx(x,{size:14})]}),r.jsxs("button",{onClick:e=>{e.stopPropagation(),Ne("score"),Re(!1),Me(!1)},style:{...Oc.gridOption,background:"score"===Pe?"#EEF2FF":"transparent",color:"score"===Pe?"#6366F1":"#475569"},children:[r.jsx("span",{style:{flex:1,textAlign:"left"},children:"Highest Points"}),"score"===Pe&&r.jsx(x,{size:14})]})]})]}),r.jsxs("div",{style:{position:"relative"},children:[r.jsxs("button",{onClick:e=>{e.stopPropagation(),ae(e=>{const t=!e;return t&&Re(!1),t})},style:{...Oc.gridOption,display:"flex",alignItems:"center",justifyContent:"space-between",padding:"10px 12px"},children:[r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10},children:[r.jsx(Ie,{size:18}),r.jsx("span",{children:"Display Size"})]}),r.jsx(Ae,{size:14})]}),oe&&r.jsxs("div",{onClick:e=>e.stopPropagation(),style:{position:"absolute",right:"100%",top:0,marginRight:"8px",background:"white",borderRadius:"12px",padding:"8px",boxShadow:"0 10px 40px rgba(0,0,0,0.15)",minWidth:"180px",zIndex:1e5},children:[r.jsx("div",{style:{padding:"6px 12px",fontSize:"11px",fontWeight:900,color:"#94A3B8",textTransform:"uppercase",letterSpacing:"1px"},children:"Display Size"}),[{key:"compact",label:"Compact"},{key:"regular",label:"Regular"},{key:"spacious",label:"Spacious"}].map(({key:e,label:t})=>r.jsxs("button",{onClick:t=>{t.stopPropagation(),Y(e),ae(!1),Me(!1)},style:{...Oc.gridOption,background:Q===e?"#EEF2FF":"transparent",color:Q===e?"#6366F1":"#475569"},children:[r.jsx("span",{style:{flex:1,textAlign:"left"},children:t}),Q===e&&r.jsx(x,{size:14})]},e))]})]}),r.jsxs("button",{onClick:e=>{e.stopPropagation(),ve(),Me(!1)},style:{...Oc.gridOption,display:"flex",alignItems:"center",gap:10,padding:"10px 12px"},children:[me?r.jsx(Te,{size:18}):r.jsx(Be,{size:18}),r.jsx("span",{style:{flex:1,textAlign:"left"},children:me?"Exit Fullscreen":"Enter Fullscreen"})]})]})]})}):r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[r.jsxs("div",{style:{position:"relative"},children:[r.jsx(Lc,{ref:We,title:"Sort Students",onClick:()=>Re(e=>{const t=!e;return t&&ae(!1),t}),children:r.jsx(ze,{size:22})}),we&&r.jsxs("div",{onClick:e=>e.stopPropagation(),style:{...Oc.gridMenu,position:"absolute",top:"calc(100% + 8px)",right:0},ref:He,children:[r.jsx("div",{style:{padding:"6px 12px",fontSize:"11px",fontWeight:900,color:"#94A3B8",textTransform:"uppercase",letterSpacing:"1px"},children:"Sort By"}),r.jsxs("button",{onClick:e=>{e.stopPropagation(),Ne("name"),Re(!1)},style:{...Oc.gridOption,background:"name"===Pe?"#EEF2FF":"transparent",color:"name"===Pe?"#6366F1":"#475569"},children:[r.jsx("span",{children:"Name (A-Z)"}),"name"===Pe&&r.jsx(x,{size:16})]}),r.jsxs("button",{onClick:e=>{e.stopPropagation(),Ne("score"),Re(!1)},style:{...Oc.gridOption,background:"score"===Pe?"#EEF2FF":"transparent",color:"score"===Pe?"#6366F1":"#475569"},children:[r.jsx("span",{children:"Highest Points"}),"score"===Pe&&r.jsx(x,{size:16})]})]})]}),r.jsxs("div",{style:{position:"relative"},children:[r.jsx(Lc,{ref:$e,title:"Change Display Size",onClick:()=>ae(e=>{const t=!e;return t&&Re(!1),t}),children:r.jsx(Ie,{size:22})}),oe&&r.jsxs("div",{onClick:e=>e.stopPropagation(),style:{...Oc.gridMenu,position:"absolute",top:"calc(100% + 8px)",right:0},ref:qe,children:[r.jsx("div",{style:{padding:"6px 12px",fontSize:"11px",fontWeight:900,color:"#94A3B8",textTransform:"uppercase",letterSpacing:"1px"},children:"Display Size"}),[{key:"compact",label:"Compact"},{key:"regular",label:"Regular"},{key:"spacious",label:"Spacious"}].map(({key:e,label:t})=>r.jsxs("button",{onClick:t=>{t.stopPropagation(),Y(e),ae(!1)},style:{...Oc.gridOption,background:Q===e?"#EEF2FF":"transparent",color:Q===e?"#6366F1":"#475569"},children:[r.jsx("span",{children:t}),Q===e&&r.jsx(x,{size:16})]},e))]})]}),r.jsx(Lc,{title:me?"Exit Fullscreen":"Enter Fullscreen",onClick:ve,children:me?r.jsx(Te,{size:22}):r.jsx(Be,{size:22})})]})]}),r.jsxs("div",{className:"student-cards-container page-animate-in",style:{display:"grid",gridTemplateColumns:"compact"===Q?"repeat(auto-fill, minmax(120px, 1fr))":"regular"===Q?"repeat(auto-fill, minmax(180px, 1fr))":"repeat(auto-fill, minmax(240px, 1fr))",gap:"compact"===Q?"16px":"regular"===Q?"20px":"28px",padding:"compact"===Q?"16px":"regular"===Q?"20px":"28px",width:"100%",maxWidth:"100%",boxSizing:"border-box",overflowX:"hidden"},children:[r.jsx("div",{style:{background:"linear-gradient(135deg, rgba(99, 102, 241, 0.7) 0%, rgba(168, 85, 247, 0.7) 100%)",backdropFilter:"blur(20px)",borderRadius:"compact"===Q?"12px":"24px",padding:"compact"===Q?"6px":"20px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",boxShadow:"0 10px 20px -5px rgba(99, 102, 241, 0.4)",cursor:"pointer",transition:"transform 0.2s",position:"relative",aspectRatio:"1 / 1",width:"100%",boxSizing:"border-box",border:"1px solid rgba(255, 255, 255, 0.3)"},onClick:()=>Z(!0),onMouseEnter:e=>{e.currentTarget.style.transform="translateY(-2px) scale(1.02)",e.currentTarget.style.boxShadow="0 15px 25px -5px rgba(99, 102, 241, 0.5)"},onMouseLeave:e=>{e.currentTarget.style.transform="translateY(0) scale(1)",e.currentTarget.style.boxShadow="0 10px 20px -5px rgba(99, 102, 241, 0.4)"},children:"compact"===Q?r.jsxs(r.Fragment,{children:[r.jsxs("svg",{viewBox:"0 0 150 35",style:{position:"absolute",top:"2px",left:"50%",transform:"translateX(-50%)",width:"90%",height:"40px",pointerEvents:"none",zIndex:10},children:[r.jsx("defs",{children:r.jsx("path",{id:"wholeClassPathInner",d:"M 5,32 Q 75,10 145,32"})}),r.jsx("text",{fill:"#FFFFFF",fontSize:"18",fontWeight:"900",letterSpacing:"1",textAnchor:"middle",children:r.jsx("textPath",{href:"#wholeClassPathInner",startOffset:"50%",children:"Whole Class"})})]}),r.jsx("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",width:"100%",marginTop:"10px"},children:r.jsx(De,{size:28})}),r.jsxs("div",{style:{padding:"3px 10px",background:"rgba(0, 0, 0, 0.4)",borderRadius:"12px",fontSize:"14px",fontWeight:"800",color:"#FFFFFF",display:"flex",alignItems:"center",justifyContent:"center",gap:"4px",border:"1px solid rgba(255, 255, 255, 0.3)",backdropFilter:"blur(12px)",whiteSpace:"nowrap",position:"absolute",bottom:"3px",left:"50%",transform:"translateX(-50%)"},children:[r.jsx(g,{size:12,color:"#FFD700",fill:"#FFD700"}),pt.toLocaleString()]})]}):r.jsxs(r.Fragment,{children:[r.jsx(De,{size:40}),r.jsx("div",{style:{marginTop:10,fontWeight:"900",fontSize:"1rem",color:"white"},children:"Whole Class"}),r.jsxs("div",{style:{marginTop:"10px",padding:"4px 12px",background:"rgba(0, 0, 0, 0.2)",borderRadius:"16px",fontSize:"18px",fontWeight:"800",color:"#FFFFFF",display:"flex",alignItems:"center",gap:"8px",border:"1px solid rgba(255, 255, 255, 0.3)",backdropFilter:"blur(12px)"},children:[r.jsx(g,{size:16,color:"#FFD700",fill:"#FFD700"}),pt.toLocaleString()," Pts"]})]})}),Ge.map(e=>{const t=(new Date).toISOString().split("T")[0],n=ue.has(e.id)||"absent"===e.attendance&&e.attendanceDate===t;return r.jsxs("div",{onClick:t=>{if(ce){const t=new Set(ue);t.has(e.id)?t.delete(e.id):t.add(e.id),pe(t)}else if(t?.ctrlKey||t?.metaKey){const t=new Set(J);t.has(e.id)?t.delete(e.id):t.add(e.id),X(t)}else n||y(e)},style:{position:"relative",opacity:ce?n?.4:1:n?.4:J.size>0&&!J.has(e.id)?.5:1,transition:"opacity 0.15s, filter 0.15s",cursor:ce?"pointer":n?"not-allowed":"default",filter:n?"grayscale(1)":"grayscale(0)",pointerEvents:"auto"},children:[r.jsx(sc,{student:e,isCompact:"compact"===Q,onClick:()=>{if(ce){const t=new Set(ue);t.has(e.id)?t.delete(e.id):t.add(e.id),pe(t)}else n||y(e)},onEdit:ct,onDelete:()=>O(e.id),animating:Boolean(ee&&ee[e.id]),animationType:ee&&ee[e.id]?ee[e.id].type:void 0}),J.has(e.id)&&r.jsx("div",{style:{position:"absolute",inset:0,borderRadius:"compact"===Q?"50%":"24px",border:"3px solid #4CAF50",pointerEvents:"none",zIndex:5}}),n&&!ce&&r.jsx("div",{style:{position:"absolute",inset:0,borderRadius:"compact"===Q?"50%":"24px",border:"3px solid #FF9800",background:"compact"===Q?"rgba(255, 152, 0, 0.25)":"rgba(255, 152, 0, 0.1)",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"24px",fontWeight:"bold",color:"#FF9800",zIndex:4},children:"compact"!==Q&&"ABSENT TODAY"})]},e.id)}),r.jsxs("div",{style:{backgroundColor:"white",borderRadius:"compact"===Q?"12px":"24px",padding:"compact"===Q?"6px":"20px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",boxShadow:"0 8px 16px rgba(0,0,0,0.05)",cursor:"pointer",transition:"transform 0.2s",position:"relative",aspectRatio:"1 / 1",width:"100%",boxSizing:"border-box",border:"2px dashed #ddd"},onClick:e=>{e.stopPropagation(),h(!0)},onMouseEnter:e=>{e.currentTarget.style.transform="scale(1.05)",e.currentTarget.style.borderColor="#6366F1"},onMouseLeave:e=>{e.currentTarget.style.transform="scale(1)",e.currentTarget.style.borderColor="#ddd"},children:[r.jsx(S,{size:"compact"===Q?40:56,style:{color:"#6366F1"}}),r.jsx("div",{style:{marginTop:"compact"===Q?"8px":"12px",fontWeight:"700",fontSize:"compact"===Q?"12px":"1rem",color:"#6366F1",textAlign:"center"},children:"Add Student"})]})]})]})}),m&&r.jsx(cc,{student:m,behaviors:e.behaviors||n,onClose:()=>y(null),onGivePoint:t=>{if(!m)return;const n=(new Date).toISOString().split("T")[0];if("absent"!==m.attendance||m.attendanceDate!==n){se({visible:!0,student:m,points:t.pts,behaviorEmoji:t.icon||""}),setTimeout(()=>se({visible:!1,student:null,points:1,behaviorEmoji:""}),2e3),s(n=>n.map(n=>n.id===e.id?{...n,students:n.students.map(e=>{if(e.id===m.id){const n={label:t.label,pts:t.pts,type:t.type,timestamp:(new Date).toISOString()};return{...e,score:e.score+t.pts,history:[...e.history||[],n]}}return e})}:n));try{ie([m.id],t.pts)}catch(r){}y(null)}}}),K&&r.jsx(cc,{student:{name:"",hideName:!0},behaviors:e.behaviors||n,onClose:()=>Z(!1),onGivePoint:t=>{const n=e.students.filter(e=>!ue.has(e.id));se({visible:!0,student:{name:"Whole Class",students:n},points:t.pts,behaviorEmoji:t.icon||""}),setTimeout(()=>se({visible:!1,student:null,points:1,behaviorEmoji:""}),2e3),s(n=>n.map(n=>n.id===e.id?{...n,students:n.students.map(e=>ue.has(e.id)?e:{...e,score:e.score+t.pts})}:n)),Z(!1);try{ie(n.map(e=>e.id),t.pts)}catch(r){console.warn("triggerAnimationForIds failed",r)}}}),d&&r.jsx(uc,{students:e.students,onClose:()=>p(!1),onWinner:(e,t=1)=>{Array.isArray(e)?ut(e,t):ut([e],t),p(!1)},onRequestAddStudents:()=>h(!0)}),f&&r.jsx(xc,{onClose:()=>h(!1),onSave:t=>{const n=Date.now(),r={parentCode:st(),studentCode:st()};s(i=>i.map(i=>i.id===e.id?{...i,students:[...i.students,{...t,id:n,score:0}],Access_Codes:{...i.Access_Codes||{},[n]:r}}:i)),h(!1)}}),b&&r.jsx("div",{style:Oc.overlay,className:"modal-overlay-in",children:r.jsxs("div",{style:Oc.modal,className:"animated-modal-content modal-animate-center",children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:20},children:[r.jsx("h3",{style:{margin:0,fontSize:18,fontWeight:700,color:"#1e293b"},children:"Edit Student"}),r.jsx("button",{style:{background:"#f1f5f9",border:"none",cursor:"pointer",color:"#64748b",padding:8,borderRadius:8,transition:"all 0.2s ease"},onClick:()=>{v(null),C(""),z(null),B(null),L(null)},onMouseEnter:e=>e.target.style.transform="rotate(90deg) scale(1.1)",onMouseLeave:e=>e.target.style.transform="rotate(0deg) scale(1)",children:r.jsx(o,{})})]}),r.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",marginBottom:20,overflow:"visible",position:"relative"},ref:W,children:[r.jsxs("div",{style:{width:"100px",height:"100px",borderRadius:"50%",background:"#F8FAFC",border:"3px solid #E2E8F0",position:"relative",cursor:"pointer"},onClick:()=>P(!R),children:[r.jsx(nc,{src:E||(T?rn(T):nn(k||"anon","boy")),name:k,alt:k,style:{width:100,height:100,borderRadius:"50%",objectFit:"cover"},onError:e=>{e.target.onerror=null,e.target.src=nn(k)}}),r.jsx("div",{style:{position:"absolute",bottom:0,right:0,background:"#4CAF50",color:"white",padding:"6px",borderRadius:"50%"},children:r.jsx(G,{size:14})})]}),r.jsx("div",{style:{marginTop:8,textAlign:"center",fontSize:13,color:"#64748B",fontWeight:500,cursor:"pointer"},onClick:()=>P(!R),children:"Change avatar"}),r.jsx("input",{ref:_,type:"file",accept:"image/*",style:{display:"none"},onChange:e=>{const t=e.target.files&&e.target.files[0];if(!t)return;if(t.size>1048576)return void alert("Image is too large. Please choose a smaller image (under 1MB).");const n=new FileReader;n.onload=()=>{z(n.result),B(null)},n.readAsDataURL(t)}}),r.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center",justifyContent:"center",marginTop:12},children:[r.jsx("button",{onClick:()=>_.current&&_.current.click(),style:{padding:"10px 16px",borderRadius:"10px",border:"none",background:"linear-gradient(135deg, #4CAF50 0%, #45a049 100%)",color:"white",cursor:"pointer",fontWeight:600,fontSize:13,transition:"all 0.2s ease"},children:E?"Change Photo":"Upload Photo"}),E&&r.jsx("button",{onClick:()=>z(null),style:{padding:"8px 14px",borderRadius:"10px",border:"1px solid #e2e8f0",background:"white",cursor:"pointer",fontWeight:500,fontSize:13,color:"#64748b",transition:"all 0.2s ease"},children:"Remove"})]})]}),R&&W.current&&r.jsx(r.Fragment,{children:Xe.createPortal(r.jsx("div",{style:{position:"fixed",...$(),background:"white",border:"1px solid #E2E8F0",borderRadius:"12px",boxShadow:"0 10px 25px rgba(0,0,0,0.15)",zIndex:100001,padding:"16px",minWidth:"550px"},onClick:e=>e.stopPropagation(),className:"animated-modal-content modal-animate-scale",children:r.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(6, 1fr)",gap:"10px",justifyItems:"center",width:"100%"},children:Zt.map(e=>r.jsxs("button",{onClick:t=>{t.stopPropagation(),B(e.name),z(null),P(!1)},onMouseEnter:()=>L(e.name),onMouseLeave:()=>L(null),style:{background:"white",border:"2px solid #e9ecef",borderRadius:10,padding:8,cursor:"pointer",transition:"all 0.2s ease",display:"flex",flexDirection:"column",alignItems:"center",gap:4,fontSize:9,color:"#666",fontWeight:500,outline:"none",width:"70px",justifySelf:"center",...T===e.name?Oc.avatarOptionSelected:{},...N===e.name?{transform:"scale(1.15)",zIndex:10,boxShadow:"0 8px 16px rgba(0,0,0,0.15)"}:{}},title:e.label,children:[r.jsx("img",{src:rn(e.name),alt:e.label,style:{width:32,height:32,borderRadius:6,...N===e.name?{transform:"scale(5)",position:"absolute",bottom:"calc(100% - 80px)",left:"50%",marginLeft:"-20px",zIndex:20}:{}}}),r.jsx("span",{style:{fontSize:8,color:"#999",textTransform:"capitalize"},children:e.name})]},e.name))})}),document.body)}),r.jsx("input",{autoFocus:!0,placeholder:"Student Name",value:k,onChange:e=>C(e.target.value),style:{width:"100%",boxSizing:"border-box",padding:"12px 14px",borderRadius:"10px",border:"1px solid #e2e8f0",marginBottom:16,outline:"none",fontSize:14,color:"#334155",transition:"border-color 0.2s ease, box-shadow 0.2s ease"},onFocus:e=>{e.target.style.borderColor="#4CAF50",e.target.style.boxShadow="0 0 0 3px rgba(76, 175, 80, 0.1)"},onBlur:e=>{e.target.style.borderColor="#E2E8F0",e.target.style.boxShadow="none"}}),r.jsxs("div",{style:{display:"flex",gap:10,marginTop:10},children:[r.jsx("button",{style:{padding:"14px 20px",borderRadius:"10px",border:"1px solid #e2e8f0",background:"white",color:"#64748b",fontWeight:600,fontSize:14,cursor:"pointer",flex:1,transition:"all 0.2s ease"},onClick:()=>{v(null),C(""),z(null),B(null),L(null)},children:"Cancel"}),r.jsx("button",{"data-save-student-btn":!0,style:{padding:"14px 20px",borderRadius:"10px",border:"none",background:"linear-gradient(135deg, #4CAF50 0%, #45a049 100%)",color:"white",fontWeight:600,fontSize:14,flex:1,opacity:k.trim()?1:.5,cursor:k.trim()?"pointer":"not-allowed",transition:"all 0.2s ease"},onClick:()=>{if(!k.trim())return;const t=E||(T?rn(T):void 0);s(n=>n.map(n=>n.id===e.id?{...n,students:n.students.map(e=>e.id===b?{...e,name:k,avatar:t}:e)}:n)),v(null),C(""),z(null),B(null)},disabled:!k.trim(),children:"Save Changes"})]})]})}),M&&r.jsx("div",{style:Oc.overlay,children:r.jsxs("div",{style:{...Oc.modal,width:360},children:[r.jsx("h3",{style:{marginBottom:12},children:"Delete Student?"}),r.jsxs("p",{style:{color:"#666"},children:["Are you sure you want to delete ",r.jsxs("strong",{children:["'",e.students.find(e=>e.id===M)?.name,"'"]}),"?"]}),r.jsxs("div",{style:{display:"flex",gap:8,marginTop:12},children:[r.jsx("button",{onClick:()=>O(null),style:{flex:1,padding:10,borderRadius:8,border:"1px solid #E2E8F0",background:"white"},children:"Cancel"}),r.jsx("button",{onClick:()=>dt(e.students.find(e=>e.id===M)),style:{flex:1,padding:10,borderRadius:8,border:"none",background:"#FF6B6B",color:"white"},children:"Delete"})]})]})}),ye&&r.jsx(jc,{onClose:()=>be(!1)}),r.jsx(bc,{isVisible:le.visible,studentAvatar:le.student?.avatar,studentName:le.student?.name,students:le.student?.students,points:le.points,behaviorEmoji:le.behaviorEmoji,onComplete:()=>se({visible:!1,student:null,points:1,behaviorEmoji:""})})]})})}const Oc={layout:{display:"flex",height:"100vh",background:"#F4F1EA",position:"relative",overflow:"hidden"},icon:{cursor:"pointer",transition:"color 0.2s",position:"relative"},content:{flex:1,display:"flex",flexDirection:"column",transition:"margin-left 0.3s ease",height:"100vh",overflowY:"auto"},avatarOptionSelected:{background:"white",border:"2px solid #4CAF50",boxShadow:"0 0 0 3px rgba(76, 175, 80, 0.1)"},overlay:{position:"fixed",inset:0,background:"rgba(0,0,0,0.4)",backdropFilter:"blur(4px)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:2e3},modal:{background:"white",padding:"24px",borderRadius:"20px",width:"360px",maxHeight:"90vh",overflowY:"auto",boxShadow:"0 20px 25px -5px rgba(0,0,0,0.1)",zIndex:1e4,position:"relative"},badge:{position:"absolute",top:"-5px",right:"-5px",background:"#FF5252",color:"white",width:"18px",height:"18px",borderRadius:"50%",fontSize:"11px",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold"},header:{padding:"5px 20px",background:"rgba(255, 255, 255, 0.8)",backdropFilter:"blur(20px)",display:"flex",justifyContent:"space-between",alignItems:"center",maxWidth:"none",marginLeft:"0",width:"100%",borderRadius:"24px",border:"1px solid rgba(226, 232, 240, 0.8)",boxSizing:"border-box",zIndex:10},gridMenu:{position:"absolute",top:"56px",left:"50%",transform:"translateX(-50%)",background:"rgba(255, 255, 255, 0.98)",backdropFilter:"blur(8px)",borderRadius:"12px",padding:"8px",boxShadow:"0 12px 30px rgba(0,0,0,0.08)",zIndex:99999,minWidth:"180px",border:"1px solid rgba(0,0,0,0.04)"},gridOption:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%",textAlign:"left",padding:"10px 12px",marginBottom:"6px",borderRadius:"10px",cursor:"pointer",border:"none",background:"transparent",fontWeight:"800",color:"#475569",fontSize:"13px",transition:"all 0.16s ease"}};function _c({classData:e,onBack:n}){const i=t.useMemo(()=>e.students.reduce((e,t)=>e+t.score,0),[e.students]),a=t.useMemo(()=>[...e.students].sort((e,t)=>t.score-e.score).slice(0,5),[e.students]),l=[{id:1,name:"Green Forest",color:"#2ecc71",icon:"",min:0},{id:2,name:"Cloud Kingdom",color:"#3498db",icon:"",min:500},{id:3,name:"Star Galaxy",color:"#9b59b6",icon:"",min:1e3},{id:4,name:"Golden Victory",color:"#f1c40f",icon:"",min:2e3},{id:5,name:"Star Galaxy",color:"#2f3033ff",icon:"",min:5e3},{id:6,name:"Golden Victory",color:"#f10f0fff",icon:"",min:1e4}],s=[...l].reverse().find(e=>i>=e.min)||l[0],c=l[0].min,d=l[l.length-1].min,u=(Math.max(c,Math.min(i,d))-c)/(d-c)*100;return t.useEffect(()=>{try{const e=document.createElement("style");return e.id="eggroad-mobile-styles",e.innerHTML="@media (max-width:768px){ .eggroad-root { padding: 12px !important; } .eggroad-root .header { padding: 12px !important; } .eggroad-root .avatarGroup { width: 95% !important; } .eggroad-root .topFiveContainer { gap: 8px; overflow-x: auto; padding: 10px; } }",document.head.appendChild(e),()=>{const e=document.getElementById("eggroad-mobile-styles");e&&e.remove()}}catch(e){}},[]),r.jsxs("div",{className:"eggroad-root",style:{...Wc.container,background:s.color},children:[r.jsxs("div",{style:{...Wc.header,paddingTop:"calc(20px + env(safe-area-inset-top, 0px))"},children:[r.jsx("button",{onClick:n,"aria-label":"Close map",title:"Close",style:Wc.backBtn,children:r.jsx(o,{size:18})}),r.jsxs("div",{style:Wc.classStatus,children:[r.jsxs("div",{style:Wc.levelBadge,children:[s.icon," ",s.name]}),r.jsxs("div",{style:Wc.totalScore,children:["Class Energy: ",i]})]}),r.jsx("div",{style:Wc.trophyIcon,children:r.jsx(g,{size:32,color:"gold"})})]}),r.jsx("div",{style:Wc.climbArea,children:r.jsxs("div",{style:Wc.verticalTrack,children:[r.jsx(P.div,{style:Wc.trackFill,initial:{height:0},animate:{height:`${u}%`},transition:{duration:2,ease:"easeOut"}}),l.map(e=>{const t=(e.min-c)/(d-c)*100;return r.jsxs("div",{style:{...Wc.marker,bottom:`${t}%`},children:[r.jsx("div",{style:Wc.markerLine}),r.jsxs("span",{style:Wc.markerText,children:[e.icon," ",e.min]})]},e.id)}),r.jsxs(P.div,{style:{...Wc.avatarGroup,bottom:`${u}%`},animate:{y:[0,-10,0]},transition:{repeat:1/0,duration:3},children:[r.jsx("div",{style:Wc.topFiveContainer,children:a.map((e,t)=>r.jsxs("div",{style:{...Wc.starWrapper,transform:`scale(${1.4-.1*t})`,zIndex:5-t},children:[r.jsx("div",{style:Wc.starCrown,children:r.jsx(h,{size:16,fill:"gold",color:"gold"})}),r.jsx(nc,{src:e.avatar?.startsWith("data:")||e.avatar?.startsWith("http")?e.avatar:rn(e.avatar),name:e.name,alt:e.name,style:{width:0===t?80:60,height:0===t?80:60,borderRadius:"50%",border:"3px solid white",boxShadow:"0 4px 8px rgba(0,0,0,0.2)"}}),r.jsx("div",{style:Wc.studentName,children:e.name})]},e.id))}),r.jsx("div",{style:Wc.leaderLabel,children:"Top of Class"}),r.jsx("div",{style:Wc.climbArrow,children:r.jsx(Re,{size:30,color:"white"})})]})]})}),r.jsxs("div",{style:Wc.footer,children:[r.jsx(Pe,{size:24})," ",r.jsxs("span",{children:["Next Goal: ",l.find(e=>e.min>i)?.min||"Max!"," Points"]})]}),r.jsx("div",{style:Wc.cloud1,children:""}),r.jsx("div",{style:Wc.cloud2,children:""}),r.jsx("div",{style:Wc.stars,children:"  "})]})}const Wc={container:{position:"fixed",inset:0,zIndex:9999,transition:"background 1s ease",overflow:"hidden",fontFamily:"system-ui"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"20px 40px",background:"rgba(0,0,0,0.1)"},backBtn:{background:"white",border:"none",padding:"8px",width:"40px",height:"40px",borderRadius:"10px",fontWeight:"700",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 6px 18px rgba(0,0,0,0.08)"},classStatus:{textAlign:"center"},levelBadge:{color:"white",fontSize:"24px",fontWeight:"900",textShadow:"0 2px 4px rgba(0,0,0,0.3)"},totalScore:{color:"rgba(255,255,255,0.8)",fontWeight:"bold",fontSize:"18px"},trophyIcon:{background:"white",padding:"10px",borderRadius:"50%",boxShadow:"0 4px 10px rgba(0,0,0,0.2)"},climbArea:{height:"75vh",position:"relative",marginTop:"1px",display:"flex",justifyContent:"center"},verticalTrack:{width:"28px",height:"100%",background:"rgba(255,255,255,0.2)",borderRadius:"10px",position:"relative"},trackFill:{position:"absolute",bottom:0,width:"100%",background:"white",borderRadius:"10px",boxShadow:"0 0 100px white"},marker:{position:"absolute",left:"20px",display:"flex",alignItems:"center",width:"200px"},markerLine:{width:"40px",height:"2px",background:"rgba(255,255,255,0.5)",marginRight:"10px"},markerText:{color:"white",fontWeight:"bold",fontSize:"14px"},avatarGroup:{position:"absolute",right:"50%",transform:"translateX(-50%)",display:"flex",flexDirection:"column",alignItems:"center",minWidth:"200px"},leaderLabel:{background:"#ff7675",color:"white",padding:"5px 15px",borderRadius:"20px",fontSize:"12px",fontWeight:"bold",marginBottom:"10px"},topFiveContainer:{display:"flex",gap:"20px",alignItems:"flex-end",background:"rgba(255,255,255,0.1)",padding:"20px",borderRadius:"40px",backdropFilter:"blur(5px)"},starWrapper:{position:"relative",textAlign:"center"},starCrown:{position:"absolute",top:"-20px",left:"50%",transform:"translateX(-50%)"},studentName:{color:"white",fontWeight:"bold",marginTop:"5px",fontSize:"12px",textShadow:"0 1px 2px black"},climbArrow:{marginTop:"10px",animation:"bounce 1s infinite alternate"},footer:{position:"absolute",bottom:"20px",left:"50%",transform:"translateX(-50%)",color:"white",display:"flex",alignItems:"center",gap:"10px",fontSize:"20px",fontWeight:"800"},cloud1:{position:"absolute",top:"20%",left:"10%",fontSize:"80px",opacity:.3},cloud2:{position:"absolute",top:"40%",right:"10%",fontSize:"100px",opacity:.2},stars:{position:"absolute",top:"10%",width:"100%",textAlign:"center",fontSize:"30px",opacity:.5}},$c=({onComplete:e})=>{const[n,i]=t.useState(1),[o,a]=t.useState({name:"",grade:"3rd Grade"}),[l,s]=t.useState("");return r.jsx("div",{style:{position:"fixed",inset:0,background:"#F4F1EA",display:"flex",justifyContent:"center",alignItems:"center",zIndex:5e3},children:r.jsxs("div",{style:{background:"white",padding:"40px",borderRadius:"20px",width:"600px",boxShadow:"0 10px 30px rgba(0,0,0,0.1)"},children:[1===n&&r.jsxs("div",{style:{textAlign:"center"},children:[r.jsx("div",{style:{width:"80px",height:"80px",border:"4px dashed #ccc",borderRadius:"15px",display:"flex",justifyContent:"center",alignItems:"center",margin:"0 auto 20px",color:"#ccc"},children:r.jsx(U,{size:40})}),r.jsx("h2",{style:{color:"#555"},children:"Add Your Class"}),r.jsxs("div",{style:{marginTop:"30px",textAlign:"left"},children:[r.jsx("label",{style:{display:"block",marginBottom:"10px",fontWeight:"bold"},children:"Class Name"}),r.jsx("input",{type:"text",placeholder:"e.g. NEW classABC!",style:{width:"100%",padding:"12px",borderRadius:"8px",border:"1px solid #ddd",marginBottom:"20px"},value:o.name,onChange:e=>a({...o,name:e.target.value})}),r.jsx("label",{style:{display:"block",marginBottom:"10px",fontWeight:"bold"},children:"Grade/Age"}),r.jsxs("select",{style:{width:"100%",padding:"12px",borderRadius:"8px",border:"1px solid #ddd"},children:[r.jsx("option",{children:"3rd Grade"}),r.jsx("option",{children:"4th Grade"}),r.jsx("option",{children:"5th Grade"})]})]}),r.jsx("button",{disabled:!o.name,onClick:()=>i(2),style:{marginTop:"30px",width:"100%",padding:"15px",background:"#4CAF50",color:"white",border:"none",borderRadius:"10px",fontWeight:"bold",cursor:"pointer",opacity:o.name?1:.5},children:"Add My Class!"})]}),2===n&&r.jsxs("div",{style:{textAlign:"center"},children:[r.jsx("h2",{children:"Select an avatar type"}),r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px",marginTop:"20px"},children:[r.jsxs("div",{onClick:()=>i(3),style:{border:"2px solid #4CAF50",padding:"20px",borderRadius:"15px",cursor:"pointer"},children:[r.jsx("div",{style:{fontSize:"3rem"},children:""}),r.jsx("p",{children:"Classic Monsters"})]}),r.jsxs("div",{style:{border:"1px solid #eee",padding:"20px",borderRadius:"15px",color:"#ccc"},children:[r.jsx("div",{style:{fontSize:"3rem"},children:""}),r.jsx("p",{children:"Robots (Premium)"})]})]})]}),3===n&&r.jsxs("div",{children:[r.jsx("h2",{style:{textAlign:"center"},children:"Add your students"}),r.jsx("p",{style:{color:"#888",fontSize:"0.9rem"},children:"Type one student name per line"}),r.jsx("textarea",{style:{width:"100%",height:"200px",padding:"15px",borderRadius:"10px",border:"1px solid #ddd",marginTop:"10px",fontFamily:"inherit"},placeholder:"Larry Page\nSergey Brin\nBill Gates",value:l,onChange:e=>s(e.target.value)}),r.jsx("div",{style:{display:"flex",gap:"10px",marginTop:"20px"},children:r.jsxs("button",{onClick:()=>{const t=l.split("\n").filter(e=>""!==e.trim()).map((e,t)=>({id:Date.now()+t,name:e.trim(),score:0,group:"Group 1"}));e(t,o.name)},style:{flex:1,padding:"15px",background:"#4CAF50",color:"white",border:"none",borderRadius:"10px",fontWeight:"bold",cursor:"pointer"},children:["Add ",l.split("\n").filter(e=>e.trim()).length," Students"]})})]})]})})};function Hc({token:e,onSuccess:n,onError:i}){const[o,a]=t.useState("verifying");return t.useEffect(()=>{(async()=>{try{await ht.verifyEmail(e),a("success"),n&&setTimeout(n,2e3)}catch(t){console.error("Email verification failed:",t),a("error"),i&&i(t)}})()},[e,n,i]),r.jsxs("div",{style:{padding:"60px 20px",textAlign:"center",minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"#F4F1EA"},children:[r.jsxs("div",{style:{maxWidth:"500px"},children:["verifying"===o&&r.jsxs(r.Fragment,{children:[r.jsx(Ne,{size:48,style:{margin:"0 auto 20px",animation:"spin 1s linear infinite"}}),r.jsx("h2",{children:"Verifying your email..."}),r.jsx("p",{children:"Please wait while we verify your account."})]}),"success"===o&&r.jsxs(r.Fragment,{children:[r.jsx(x,{size:48,color:"#4CAF50",style:{margin:"0 auto 20px"}}),r.jsx("h2",{style:{color:"#4CAF50"},children:"Email verified!"}),r.jsx("p",{children:"Your account is now active. You can log in with your email and password."}),r.jsx("p",{style:{fontSize:"13px",color:"#999",marginTop:"20px"},children:"Redirecting to login..."})]}),"error"===o&&r.jsxs(r.Fragment,{children:[r.jsx(Le,{size:48,color:"#f44336",style:{margin:"0 auto 20px"}}),r.jsx("h2",{style:{color:"#f44336"},children:"Verification failed"}),r.jsx("p",{children:"The verification link may be expired or invalid."}),r.jsx("p",{style:{fontSize:"13px",color:"#999",marginTop:"20px"},children:"Please try signing up again or contacting support."})]})]}),r.jsx("style",{children:"\n        @keyframes spin {\n          from { transform: rotate(0deg); }\n          to { transform: rotate(360deg); }\n        }\n      "})]})}function qc({token:e,onSuccess:n}){const[i,o]=t.useState(""),[a,l]=t.useState(""),[s,c]=t.useState(""),[d,u]=t.useState(!1),[p,f]=t.useState(!1);return d?r.jsxs("div",{style:Uc.container,children:[r.jsx("h2",{children:"Password reset!"}),r.jsx("p",{children:"You may now log in with your new password."})]}):r.jsxs("div",{style:Uc.container,children:[r.jsx("h2",{children:"Reset Password"}),r.jsxs("form",{onSubmit:async t=>{if(t.preventDefault(),c(""),i===a){f(!0);try{await ht.resetPassword(e,i,a),u(!0),n&&n()}catch(r){c("Could not reset password. "+(r.message||"Please try again."))}finally{f(!1)}}else c("Passwords do not match.")},style:Uc.form,children:[r.jsx("input",{type:"password",placeholder:"New Password",value:i,onChange:e=>o(e.target.value),style:Uc.input}),r.jsx("input",{type:"password",placeholder:"Confirm Password",value:a,onChange:e=>l(e.target.value),style:Uc.input}),s&&r.jsx("div",{style:{color:"red"},children:s}),r.jsx("button",{type:"submit",style:Uc.button,disabled:p,children:p?"Saving...":"Reset Password"})]})]})}const Uc={container:{maxWidth:400,margin:"60px auto",background:"#fff",borderRadius:12,padding:32,boxShadow:"0 8px 32px rgba(0,0,0,0.10)",textAlign:"center"},form:{display:"flex",flexDirection:"column",gap:16,marginTop:20},input:{padding:12,borderRadius:8,border:"1px solid #eee",fontSize:16},button:{background:"#4CAF50",color:"#fff",border:"none",borderRadius:8,padding:"12px",fontWeight:700,fontSize:16,cursor:"pointer"}};function Vc({token:e,onSuccess:i}){const[o,a]=t.useState("pending");return n.useEffect(()=>{(async()=>{try{await ht.confirmAccount(e),a("ok"),i&&i()}catch{a("error")}})()},[e,i]),"ok"===o?r.jsxs("div",{style:Gc.container,children:[r.jsx("h2",{children:"Account confirmed!"}),r.jsx("p",{children:"You may now log in."})]}):"error"===o?r.jsx("div",{style:Gc.container,children:r.jsx("h2",{children:"Invalid or expired link."})}):r.jsx("div",{style:Gc.container,children:r.jsx("h2",{children:"Confirming..."})})}const Gc={container:{maxWidth:400,margin:"60px auto",background:"#fff",borderRadius:12,padding:32,boxShadow:"0 8px 32px rgba(0,0,0,0.10)",textAlign:"center"}};function Qc({onClose:e,onTriggerAction:n}){const{t:i,lang:a}=yt(),l=t.useMemo(()=>function(e){const t=[{category:"0. Getting Started",icon:r.jsx(ke,{size:18}),topics:[{id:"signup",title:"Create Teacher Account",description:"Sign up to start managing your classroom.",content:"### Create Your Teacher Account\nClick the **Get Started Free** button on the landing page to create your teacher account.\n\n**What You'll Need:**\n- Your name\n- Email address\n- A secure password\n\n**After Account Creation:**\n- Your classes and data are automatically saved to the cloud\n- You can access your classroom from any device\n- Email verification is required for security\n\n[Create Account](#action:signup)\n"},{id:"login",title:"Login to Your Portal",description:"How to sign in and access your classes.",content:'### Login to ClassABC\nClick the **Login** button on the landing page, then enter your email and password.\n\n**Login Options:**\n- **Teacher**: Use email + password\n- **Parent**: Use the 5-digit parent code (provided by teacher)\n- **Student**: Use the 5-digit student code (provided by teacher)\n\n**Trouble Logging In?**\n- Check your email is verified\n- Use the "Forgot Password" link to reset\n- Contact support if issues persist\n\n[Open Login](#action:login)\n'},{id:"create-class",title:"Create Your First Class",description:"Set up a new class and add students.",content:'### Create Your First Class\nAfter logging in, you\'ll see your Teacher Portal. Click **+ Add Class** to create your first classroom.\n\n**Class Setup Steps:**\n1. Enter a class name (e.g., "Grade 3 - Morning", "Math 101")\n2. Choose a class avatar\n3. Click **Create Class**\n\n**Next Steps:**\n- Add your students with names and avatars\n- Customize behavior cards for points\n- Start your first activity!\n\n[Go to Portal](#action:home)\n'}]},{category:"1. Class Dashboard",icon:r.jsx(N,{size:18}),topics:[{id:"dashboard-overview",title:"Dashboard Overview",description:"Understanding your main workspace.",content:"### Your Class Dashboard\nThe dashboard is your main classroom command center where you manage students, assign points, and access all tools.\n\n**Main Features:**\n- **Student Cards**: View all students with current points\n- **Quick Actions**: Click any student to award/remove points\n- **Sidebar Tools**: Access all classroom features\n- **Search**: Find students quickly by name\n\n**Auto-Save:**\nAll changes are saved automatically. No need to look for a save button!\n\n[View Dashboard](#action:home)\n"},{id:"add-students",title:"Add Students",description:"Adding new students to your class.",content:"### Add Students to Your Class\nClick the **+ Add Student** placeholder card to add new students.\n\n**Student Information:**\n- Student name (required)\n- Avatar selection (optional - default provided)\n- Automatically assigned 5-digit access code\n\n**After Adding:**\n- Students can log in with their code\n- Parents get a separate 5-digit code for their portal\n- Points history starts at 0\n\n[Go to Dashboard](#action:home)\n"},{id:"edit-students",title:"Edit Student Info",description:"Change names, avatars, or remove students.",content:"### Edit Student Information\nTo modify a student's details:\n\n**Change Name or Avatar:**\n1. Click the pencil icon on any student card\n2. Edit the name in the popup\n3. Choose a new avatar if desired\n4. Click **Save**\n\n**Delete a Student:**\n1. Click the trash icon on the student card\n2. Confirm deletion in the popup\n3.  Warning: This permanently deletes the student and all their point history\n\nAlternatively, use **Settings  Students** tab for bulk edits.\n\n[Open Settings](#action:settings)\n"}]},{category:"2. Points & Behaviors",icon:r.jsx(Y,{size:18}),topics:[{id:"awarding-points",title:"Awarding Points",description:"Give rewards and consequences to students.",content:'### Award Points to Students\nRecognize good behavior or address issues with the points system.\n\n**How to Award Points:**\n1. Click on any student card\n2. Select a behavior card from the popup\n3. Points are automatically applied\n\n**Behavior Cards:**\n- **Green Cards (Positive)**: +1, +2, +3, +5 points\n- **Red Cards (Negative)**: -1, -2 points\n\n**Whole Class Rewards:**\nClick the "Whole Class" card to award all students at once! Perfect for class-wide achievements.\n\n[Go to Dashboard](#action:home)\n'},{id:"custom-behaviors",title:"Custom Behavior Cards",description:"Create your own reward and penalty cards.",content:'### Customize Behavior Cards\nCreate personalized behavior cards that match your classroom culture.\n\n**Steps to Create Cards:**\n1. Go to **Settings**\n2. Click the **Behavior Cards** tab\n3. Click **+ Add Reward Card** or **+ Add Penalty Card**\n4. Enter:\n   - Card name (e.g., "Helped a classmate", "Late to class")\n   - Point value\n   - Choose an emoji sticker\n5. Click **Save**\n\n**Default Cards:**\nIf you want to start fresh, click **Reset to Defaults** to restore the original behavior cards.\n\n[Open Settings](#action:settings)\n'},{id:"import-behaviors",title:"Import Behaviors",description:"Copy cards from another class.",content:"### Import Behavior Cards\nSave time by copying behavior cards from your existing classes.\n\n**How to Import:**\n1. Go to **Settings  Behavior Cards**\n2. Click **Import from Class**\n3. Select a class from your list\n4. The cards are copied to your current class\n\n**Tips:**\n- Great for maintaining consistency across multiple classes\n- You can still add custom cards after importing\n- Import doesn't overwrite existing cards\n\n[Open Settings](#action:settings)\n"}]},{category:"3. Attendance",icon:r.jsx(je,{size:18}),topics:[{id:"taking-attendance",title:"Taking Attendance",description:"Mark students as present, absent, or tardy.",content:"### Smart Attendance System\nTrack student attendance with just a few taps.\n\n**How to Mark Attendance:**\n1. Click the **Checkmark icon** in the sidebar to enable attendance mode\n2. Click on any student:\n   - **1st Click**: Red  **Absent**\n   - **2nd Click**: Yellow  **Tardy**\n   - **3rd Click**: Normal  **Present**\n\n**Smart Features:**\n- Students marked **Absent** are automatically excluded from:\n  - Lucky Draw selections\n  - Whole Class rewards\n- Attendance status is saved automatically\n\n[Take Attendance](#action:attendance)\n"}]},{category:"4. Assignments",icon:r.jsx(he,{size:18}),topics:[{id:"create-assignment",title:"Create Assignments",description:"Digital worksheets with 9 question types.",content:"### Create Digital Assignments\nClick the **Clipboard icon** to create engaging digital worksheets.\n\n**Question Types Available:**\n1. **Short Answer** - Students write text responses\n2. **Multiple Choice** - Select correct option (add 2-6 options)\n3. **Fill in the Blank** - Use [blank] for missing words\n4. **Matching** - Match items on the left with the right\n5. **Reading Comprehension** - Story with sub-questions\n6. **True/False** - Mark statements as true or false\n7. **Numeric Answer** - Students enter a number\n8. **Sentence Ordering** - Rearrange parts into correct order\n9. **Sorting** - Students sort items into categories\n\n**Features:**\n- Add images to any question\n- Assign to all students or specific students\n- Validation prevents publishing empty questions\n\n[Create Assignment](#action:assignments)\n"},{id:"grade-assignments",title:"Grade Submissions",description:"Review and grade student work.",content:"### Grade Student Submissions\nWhen students submit work, a red badge appears on the **Messages & Grading** icon.\n\n**Grading Steps:**\n1. Click the **Messages & Grading** icon\n2. Select a submission from the sidebar\n3. Review the student's answers\n4. Enter a grade and optional feedback\n5. Click **Submit Grade**\n\n**Integration:**\n- Points can be awarded to students along with grades\n- All graded work is saved to the student record\n- Parents can view graded work in their portal\n\n[Open Inbox](#action:inbox)\n"}]},{category:"5. Gamification",icon:r.jsx(Oe,{size:18}),topics:[{id:"lucky-draw",title:"Lucky Draw",description:"Random student selector with rewards.",content:"### Lucky Draw - Random Student Selection\nMake picking students fun and fair with the Lucky Draw!\n\n**How to Use:**\n1. Click the **Dice icon** in the sidebar\n2. Choose number of winners (1-4 students)\n3. Click **Start Draw**\n4. Watch the animated selection!\n5. Optionally award points to winners\n\n**Features:**\n- No duplicate selections in one draw\n- Fun rolling animation\n- Sound effects\n- Minimum 2 students required\n- Absent students are excluded automatically\n\n**Use Cases:**\n- Randomly pick helpers\n- Select volunteers\n- Award prizes\n- Choose who presents first\n\n[Try Lucky Draw](#action:luckydraw)\n"},{id:"progress-road",title:"Egg Road Progress",description:"Track class journey through themed worlds.",content:"### Egg Road - Class Progress Journey\nGamify your class progress with a visual adventure map!\n\n**How It Works:**\n- The entire class contributes points to progress\n- Unlock themed worlds as you reach milestones:\n  -  Green Forest (0+ points)\n  -  Cloud Kingdom (500+ points)\n  -  Star Galaxy (1000+ points)\n  -  Golden Victory (2000+ points)\n  -  Star Galaxy (5000+ points)\n  -  Golden Victory (10000+ points)\n\n**Features:**\n- Top 5 performers appear with larger avatars\n- Animated progress fills\n- Level markers show milestones\n- Encourages teamwork and collective goals\n\n[View Progress](#action:road)\n"}]},{category:"6. Classroom Tools",icon:r.jsx(j,{size:18}),topics:[{id:"whiteboard",title:"Whiteboard",description:"Interactive drawing canvas for lessons.",content:"### Interactive Whiteboard\nA full-featured drawing canvas for interactive lessons.\n\n**Drawing Tools:**\n-  **Pencil** - Freehand drawing with adjustable size\n-  **Highlighter** - Transparent highlighting\n-  **Text Tool** - Type anywhere on the canvas\n-  **Eraser** - Remove content\n-  **Emoji Stickers** - 40+ fun educational emojis\n\n**Customization Options:**\n- 10 quick colors\n- Adjustable brush size\n- 5 font styles for text\n- Font size control\n\n**Actions:**\n- Clear canvas with one click\n- Export as PNG image\n- Undo/redo support\n\n[Open Whiteboard](#action:whiteboard)\n"},{id:"timer",title:"Kid Timer",description:"Visual countdown timer with audio.",content:'### Visual Kid Timer\nPerfect for timed activities, tests, and classroom management.\n\n**Features:**\n- Preset durations: 1, 2, 3, 4, 5 minutes\n- Large circular visual display\n- Conic gradient progress ring\n- Audio feedback:\n  - Tick sounds during countdown\n  - Warning beeps (last 10 seconds)\n  - Completion sound when time is up\n- Play/Pause/Reset controls\n\n**Display:**\n- Shows "FOCUS TIME" when running\n- Shows "PAUSED" when paused\n- Large 80px numbers for classroom visibility\n\n[Start Timer](#action:timer)\n'},{id:"attention-buzzer",title:"Attention Buzzer",description:"Quickly get class attention.",content:"### Attention Buzzer\nInstantly get your students' attention with a sound and visual cue.\n\n**How to Use:**\n1. Click the **Bell icon** in the sidebar\n2. A sound plays and visual cue appears\n3. Perfect for transitioning between activities\n4. Get back students' focus quickly\n\n**Best Practices:**\n- Use sparingly to maintain effectiveness\n- Combine with verbal instructions\n- Great for quieting the room before announcements\n\n[Ring Buzzer](#action:buzzer)\n"},{id:"access-codes",title:"Student & Parent Codes",description:"View and share login codes.",content:"### Access Codes for Students & Parents\nEach student gets unique 5-digit codes for secure access.\n\n**Student Codes:**\n- Students use their code to login to the Student Portal\n- View assigned worksheets\n- Mark assignments as complete\n- Track their own progress\n\n**Parent Codes:**\n- Parents use their code to login to the Parent Portal\n- View their child's reports and analytics\n- See behavior history\n- Read teacher feedback\n\n**How to Share:**\n1. Click the **Key icon** (Access Codes)\n2. Find the student in the list\n3. Click the copy button to copy the code\n4. Or share the QR code for easy scanning\n5. Parents can scan to log in directly!\n\n[View Access Codes](#action:codes)\n"}]},{category:"7. Reports & Analytics",icon:r.jsx(z,{size:18}),topics:[{id:"view-reports",title:"View Reports",description:"Analytics for students and whole class.",content:"### Reports and Analytics\nGain insights into class and individual student performance.\n\n**Report Types:**\n- **Time Range**: Week, Month, Year\n- **Scope**: Individual student OR whole class\n\n**Visualizations:**\n-  Bar charts showing points over time\n-  Doughnut chart for behavior distribution\n- Positive vs negative behavior breakdown\n- Top behaviors identification\n\n**AI Features:**\n- Auto-generated teacher feedback summary\n- Intelligent insights from student data\n\n**Export:**\n- Copy to clipboard for sharing\n- Export as parent-friendly PDF\n- Chinese/English language toggle\n\n[View Reports](#action:reports)\n"}]},{category:"8. Settings",icon:r.jsx(j,{size:18}),topics:[{id:"settings-overview",title:"Settings Overview",description:"Customize your classroom experience.",content:"### Classroom Settings\nAccess all customization options in the Settings page.\n\n**Settings Tabs:**\n\n**1. Behavior Cards**\n- Add custom reward cards\n- Add custom penalty cards\n- Import from other classes\n- Reset to defaults\n\n**2. Students**\n- Edit student names\n- Change avatars\n- Delete students\n- Import from other classes\n\n**Access Settings:**\nClick the **Gear icon** in the sidebar to open settings.\n\n[Open Settings](#action:settings)\n"}]},{category:"9. Portals",icon:r.jsx(R,{size:18}),topics:[{id:"student-portal",title:"Student Portal",description:"Student view for assignments.",content:'### Student Portal\nA simplified interface for students to access their work.\n\n**Student Portal Features:**\n- Login with 5-digit student code\n- View all assigned worksheets\n- Mark assignments as complete\n- Track personal progress:\n  - Total points earned\n  - Assignments completed\n  - Pending assignments\n\n**How Students Login:**\n1. Go to the ClassABC landing page\n2. Select "Student" role\n3. Enter their 5-digit code\n4. Click "Login"\n\nLanguage toggle available (English/).\n\n[Student Login](#action:login)\n'},{id:"parent-portal",title:"Parent Portal",description:"Parent view for child progress.",content:'### Parent Portal\nKeep parents informed with read-only access to their child\'s data.\n\n**Parent Portal Features:**\n- Login with 5-digit parent code\n- View child\'s reports and analytics\n- See behavior history\n- Read AI-generated teacher feedback\n- View assignment grades\n- Track overall progress\n\n**What Parents CAN Do:**\n- View all child data\n- Read reports\n- See point history\n\n**What Parents CANNOT Do:**\n- Modify any data (read-only)\n- Award or remove points\n- Access other students\' information\n\n**How Parents Login:**\n1. Go to the ClassABC landing page\n2. Select "Parent" role\n3. Enter their 5-digit parent code\n4. Click "Login"\n\n[Parent Login](#action:login)\n'}]}];return"zh"===e?[{category:"0. ",icon:r.jsx(ke,{size:18}),topics:[{id:"signup",title:"",description:"",content:"### \n **** \n\n****\n- \n- \n- \n\n****\n- \n- \n- \n\n[](#action:signup)\n"},{id:"login",title:"",description:"",content:'###  ClassABC\n **** \n\n****\n- **** + \n- ****5\n- ****5\n\n****\n- \n- ""\n- \n\n[](#action:login)\n'},{id:"create-class",title:"",description:"",content:'### \n **+ ** \n\n****\n1. "-""101"\n2. \n3.  ****\n\n****\n- \n- \n- \n\n[](#action:home)\n'}]},{category:"1. ",icon:r.jsx(N,{size:18}),topics:[{id:"dashboard-overview",title:"",description:"",content:"### \n\n\n****\n- ****\n- ****/\n- ****\n- ****\n\n****\n\n\n[](#action:home)\n"},{id:"add-students",title:"",description:"",content:"### \n **+ ** \n\n****\n- \n-  - \n- 5\n\n****\n- \n- 5\n- 0\n\n[](#action:home)\n"},{id:"edit-students",title:"",description:"",content:"### \n\n\n****\n1. \n2. \n3. \n4.  ****\n\n****\n1. \n2. \n3.  \n\n **  ** \n\n[](#action:settings)\n"}]},{category:"2. ",icon:r.jsx(Y,{size:18}),topics:[{id:"awarding-points",title:"",description:"",content:'### \n\n\n****\n1. \n2. \n3. \n\n****\n- ****+1+2+3+5 \n- ****-1-2 \n\n****\n""\n\n[](#action:home)\n'},{id:"custom-behaviors",title:"",description:"",content:'### \n\n\n****\n1.  ****\n2.  **** \n3.  **+ **  **+ **\n4. \n   - """"\n   - \n   - \n5.  ****\n\n****\n **** \n\n[](#action:settings)\n'},{id:"import-behaviors",title:"",description:"",content:"### \n\n\n****\n1.  **  **\n2.  ****\n3. \n4. \n\n****\n- \n- \n- \n\n[](#action:settings)\n"}]},{category:"3. ",icon:r.jsx(je,{size:18}),topics:[{id:"taking-attendance",title:"",description:"",content:"### \n\n\n****\n1.  **** \n2. \n   - **1**  ****\n   - **2**  ****\n   - **3**  ****\n\n****\n-  **** \n  - \n  - \n- \n\n[](#action:attendance)\n"}]},{category:"4. ",icon:r.jsx(he,{size:18}),topics:[{id:"create-assignment",title:"",description:"9",content:"### \n **** \n\n****\n1. **** - \n2. **** - 2-6\n3. **** -  [blank] \n4. **** - \n5. **** - \n6. **** - \n7. **** - \n8. **** - \n9. **** - \n\n****\n- \n- \n- \n\n[](#action:assignments)\n"},{id:"grade-assignments",title:"",description:"",content:"### \n**** \n\n****\n1.  **** \n2. \n3. \n4. \n5.  ****\n\n****\n- \n- \n- \n\n[](#action:inbox)\n"}]},{category:"5. ",icon:r.jsx(Oe,{size:18}),topics:[{id:"lucky-draw",title:"",description:"",content:"###  - \n\n\n****\n1.  ****\n2. 1-4\n3.  ****\n4. \n5. \n\n****\n- \n- \n- \n- 2\n- \n\n****\n- \n- \n- \n- \n\n[](#action:luckydraw)\n"},{id:"progress-road",title:"",description:"",content:"###  - \n\n\n****\n- \n- \n  -  0+\n  -  500+\n  -  1000+\n  -  2000+\n  -  5000+\n  -  10000+\n\n****\n- 5\n- \n- \n- \n\n[](#action:road)\n"}]},{category:"6. ",icon:r.jsx(j,{size:18}),topics:[{id:"whiteboard",title:"",description:"",content:"### \n\n\n****\n-  **** - \n-  **** - \n-  **** - \n-  **** - \n-  **** - 40+\n\n****\n- 10\n- \n- 5\n- \n\n****\n- \n- PNG\n- /\n\n[](#action:whiteboard)\n"},{id:"timer",title:"",description:"",content:'### \n\n\n****\n- 12345\n- \n- \n- \n  - \n  - 10\n  - \n- //\n\n****\n- ""\n- ""\n- 80px\n\n[](#action:timer)\n'},{id:"attention-buzzer",title:"",description:"",content:"### \n\n\n****\n1.  ****\n2. \n3. \n4. \n\n****\n- \n- \n- \n\n[](#action:buzzer)\n"},{id:"access-codes",title:"",description:"",content:"### \n5\n\n****\n- \n- \n- \n- \n\n****\n- \n- \n- \n- \n\n****\n1.  ****\n2. \n3. \n4. \n5. \n\n[](#action:codes)\n"}]},{category:"7. ",icon:r.jsx(z,{size:18}),topics:[{id:"view-reports",title:"",description:"",content:"### \n\n\n****\n- ****\n- ****\n\n****\n-  \n-  \n- \n- \n\n**AI**\n- \n- \n\n****\n- \n- PDF\n- /\n\n[](#action:reports)\n"}]},{category:"8. ",icon:r.jsx(j,{size:18}),topics:[{id:"settings-overview",title:"",description:"",content:"### \n\n\n****\n\n**1. **\n- \n- \n- \n- \n\n**2. **\n- \n- \n- \n- \n\n****\n **** \n\n[](#action:settings)\n"}]},{category:"9. ",icon:r.jsx(R,{size:18}),topics:[{id:"student-portal",title:"",description:"",content:'### \n\n\n****\n- 5\n- \n- \n- \n  - \n  - \n  - \n\n****\n1.  ClassABC \n2. ""\n3. 5\n4. ""\n\n/\n\n[](#action:login)\n'},{id:"parent-portal",title:"",description:"",content:'### \n\n\n****\n- 5\n- \n- \n- AI\n- \n- \n\n****\n- \n- \n- \n\n****\n- \n- \n- \n\n****\n1.  ClassABC \n2. ""\n3. 5\n4. ""\n\n[](#action:login)\n'}]}]:t}(a),[a]),[s,c]=t.useState(""),[d,u]=t.useState(()=>l&&l[0]&&l[0].topics[0]&&l[0].topics[0].id||"signup"),[p,f]=t.useState(!1),h=bt(768),[g,x]=Js();t.useEffect(()=>{document.title="ClassABC - Help Guide"},[]);const y=t.useMemo(()=>{const e=(s||"").toLowerCase();return l.map(t=>({...t,topics:t.topics.filter(t=>{const n=`${t.title} ${t.description} ${t.content}`.toLowerCase();return!e||n.includes(e)})})).filter(e=>e.topics.length>0)},[s,l]),w=t.useMemo(()=>{for(const e of l){const t=e.topics.find(e=>e.id===d);if(t)return t}return l&&l[0]&&l[0].topics[0]||{title:"",description:"",content:""}},[d,l]),k=(e=>{const t={...Yc};return Object.keys(t).reduce((n,r)=>{const i=t[r];return"object"!=typeof i||Array.isArray(i)?n[r]=i:(n[r]={...i},e&&i.color&&(n[r].color=i.color.replace("#1E293B","#f5f5f5").replace("#64748B","#e5e5e5").replace("#6B7280","#9ca3af").replace("#475569","#cbd5e1").replace("#1F2937","#f5f5f5")),e&&i.background&&(n[r].background=i.background.replace("#fff","#1a1a1a").replace("#FAFAFA","#111").replace("#F8FAFC","#1a1a1a")),e&&i.borderColor&&(n[r].borderColor=i.borderColor.replace("#E5E7EB","#333").replace("#E2E8F0","#333").replace("#F3F4F6","#333"))),n},{})})(g);return r.jsxs("div",{style:Yc.overlay,onClick:e,children:[r.jsxs("div",{style:k.modal,onClick:e=>e.stopPropagation(),children:[h&&r.jsxs("div",{style:{...k.mobileHeader,display:"flex"},children:[r.jsx("button",{onClick:()=>f(!p),style:{...k.mobileMenuBtn,display:"block"},children:p?r.jsx(o,{size:20}):r.jsx(Me,{size:20})}),r.jsx("span",{style:k.mobileTitle,children:"Help Guide"}),r.jsx("button",{onClick:e,style:{padding:"6px 10px",borderRadius:"8px",cursor:"pointer",border:"none",background:"#FEE2E2",color:"#DC2626",display:"flex",alignItems:"center",justifyContent:"center"},title:"Close",children:r.jsx(o,{size:20})})]}),r.jsxs("div",{style:Yc.contentWrapper,children:[r.jsxs("aside",{style:{...k.sidebar,transform:h?p?"translateX(0)":"translateX(-100%)":"translateX(0)",position:h?"fixed":"relative",top:h?"60px":"0",zIndex:p?1e3:1},children:[r.jsxs("div",{style:k.searchHeader,children:[r.jsx(ye,{size:16,style:k.searchIcon}),r.jsx("input",{style:k.searchInput,placeholder:i("search.placeholder")||"Search topics...",value:s,onChange:e=>c(e.target.value)})]}),r.jsxs("div",{style:Yc.navScroll,children:[y.map((e,t)=>r.jsxs("div",{style:Yc.categorySection,children:[r.jsxs("div",{style:k.catLabel,children:[e.icon," ",e.category]}),e.topics.map(e=>r.jsxs("button",{onClick:()=>{u(e.id),h&&f(!1)},style:{...k.navItem,backgroundColor:d===e.id?g?"#3730a3":"#EEF2FF":"transparent",color:d===e.id?g?"#c7d2fe":"#4F46E5":g?"#e5e5e5":"#64748B",fontWeight:d===e.id?"700":"500"},children:[r.jsx("span",{style:Yc.navItemText,children:e.title}),d===e.id&&r.jsx(te,{size:14})]},e.id))]},t)),0===y.length&&r.jsxs("div",{style:k.noResults,children:[r.jsx(m,{size:32,color:g?"#4b5563":"#CBD5E1"}),r.jsx("p",{style:k.noResultsText,children:"No topics found"})]})]})]}),r.jsxs("main",{style:{...k.mainView,zIndex:p?1:2},children:[!h&&r.jsxs("div",{style:{display:"flex",gap:"8px",position:"absolute",top:"24px",right:"24px",alignItems:"center"},children:[r.jsx("button",{onClick:()=>x(!g),style:{padding:"10px",borderRadius:"10px",cursor:"pointer",border:"none",background:g?"rgba(255,255,255,0.15)":"#F3F4F6",color:g?"#e5e5e5":"#6B7280",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center"},title:g?"Switch to light mode":"Switch to dark mode",children:g?r.jsx(b,{size:16}):r.jsx(v,{size:16})}),r.jsx("button",{onClick:e,style:{...k.desktopCloseBtn,...g?{background:"rgba(255,255,255,0.15)",color:"#e5e5e5"}:{}},children:r.jsx(o,{size:18})})]}),r.jsxs("article",{style:Yc.article,children:[r.jsxs("div",{style:Yc.articleHeader,children:[r.jsx("span",{style:k.articleBadge,children:"zh"===a?"":"Guide"}),r.jsx("h1",{style:k.articleTitle,children:w.title})]}),r.jsx("p",{style:k.articleDesc,children:w.description}),r.jsx("div",{style:k.articleDivider}),r.jsx("div",{className:"markdown-body guide-content",children:r.jsx(Ma,{remarkPlugins:[Bs],components:{a:({node:e,...t})=>{const i=t.href?.startsWith("#action:");return r.jsxs("a",{...t,onClick:e=>{if(i){e.preventDefault(),e.stopPropagation();const r=t.href.split(":")[1];console.log("Triggering action:",r),n&&n(r)}},style:i?Yc.actionLink:void 0,href:void 0,children:[i&&r.jsx(ge,{size:14,style:Yc.actionIcon}),t.children]})}},children:w.content})})]})]})]})]}),r.jsx("style",{children:`\n        .markdown-body.guide-content h3 { font-size: 18px; color: ${g?"#f5f5f5":"#1E293B"}; margin: 24px 0 12px; font-weight: 800; }\n        .markdown-body.guide-content p { font-size: 15px; color: ${g?"#cbd5e1":"#475569"}; line-height: 1.8; margin-bottom: 16px; }\n        .markdown-body.guide-content ul { padding-left: 20px; margin-bottom: 20px; }\n        .markdown-body.guide-content li { color: ${g?"#cbd5e1":"#475569"}; margin-bottom: 10px; line-height: 1.7; }\n        .markdown-body.guide-content a {\n          display: inline-flex; align-items: center; gap: 8px;\n          background: linear-gradient(135deg, #4F46E5 0%, #7C3AED 100%);\n          color: white; padding: 12px 24px;\n          border-radius: 14px; text-decoration: none; font-weight: 700;\n          font-size: 14px; margin-top: 16px; transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n          box-shadow: 0 4px 14px rgba(79, 70, 229, 0.3);\n        }\n        .markdown-body.guide-content a:hover {\n          transform: translateY(-2px);\n          box-shadow: 0 8px 20px rgba(79, 70, 229, 0.4);\n        }\n        .markdown-body.guide-content strong {\n          color: ${g?"#f5f5f5":"#1E293B"};\n          font-weight: 700;\n        }\n\n        @media (max-width: 768px) {\n          .markdown-body.guide-content h3 { font-size: 16px; margin: 20px 0 10px; }\n          .markdown-body.guide-content p { font-size: 14px; line-height: 1.7; }\n          .markdown-body.guide-content a { padding: 10px 18px; font-size: 13px; }\n        }\n      `})]})}const Yc={overlay:{position:"fixed",inset:0,background:"rgba(15, 23, 42, 0.75)",backdropFilter:"blur(12px)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",padding:"16px",animation:"fadeIn 0.25s ease-out"},modal:{width:"100%",maxWidth:"1100px",height:"85vh",maxHeight:"800px",background:"#fff",borderRadius:"24px",display:"flex",flexDirection:"column",overflow:"hidden",boxShadow:"0 50px 120px -20px rgba(0, 0, 0, 0.4)",animation:"slideUp 0.3s ease-out"},mobileHeader:{display:"none",padding:"16px 20px",borderBottom:"1px solid #E2E8F0",alignItems:"center",justifyContent:"space-between",background:"#fff",zIndex:200},mobileMenuBtn:{display:"none",background:"#F1F5F9",border:"none",padding:"10px",borderRadius:"10px",cursor:"pointer",color:"#64748B"},mobileTitle:{fontSize:"18px",fontWeight:"700",color:"#1E293B"},mobileCloseBtn:{display:"none",background:"#FEE2E2",border:"none",padding:"10px",borderRadius:"10px",cursor:"pointer",color:"#DC2626"},contentWrapper:{flex:1,display:"flex",overflow:"hidden"},sidebar:{width:"320px",background:"#FAFAFA",borderRight:"1px solid #E5E7EB",display:"flex",flexDirection:"column",transition:"transform 0.3s ease",top:0,left:0,bottom:0},searchHeader:{padding:"24px 20px 16px",position:"relative",borderBottom:"1px solid #F3F4F6"},searchIcon:{position:"absolute",left:"32px",top:"38px",color:"#9CA3AF",zIndex:5},searchInput:{width:"calc(100% - 40px)",padding:"12px 12px 12px 40px",borderRadius:"12px",border:"1.5px solid #E5E7EB",outline:"none",fontSize:"14px",fontWeight:"500",background:"#fff",transition:"all 0.2s",color:"#1F2937"},navScroll:{flex:1,overflowY:"auto",padding:"16px 16px 24px"},categorySection:{marginBottom:"24px"},catLabel:{display:"flex",alignItems:"center",gap:"8px",fontSize:"11px",fontWeight:"800",color:"#9CA3AF",textTransform:"uppercase",letterSpacing:"0.08em",marginBottom:"12px"},navItem:{width:"100%",padding:"12px 16px",borderRadius:"12px",fontSize:"14px",cursor:"pointer",marginBottom:"4px",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"space-between",border:"none",background:"transparent",textAlign:"left",color:"#64748B"},navItemText:{flex:1,lineHeight:"1.5",color:"#64748B"},noResults:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"40px 20px",color:"#9CA3AF"},noResultsText:{marginTop:"12px",fontSize:"14px",fontWeight:"500"},mainView:{flex:1,padding:"40px 48px",overflowY:"auto",position:"relative",background:"#fff"},desktopCloseBtn:{background:"#F3F4F6",border:"none",padding:"10px",borderRadius:"10px",cursor:"pointer",color:"#6B7280",transition:"all 0.2s"},desktopCloseBtnDark:{background:"rgba(255,255,255,0.15)",color:"#e5e5e5"},article:{maxWidth:"680px",margin:"0 auto"},articleHeader:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"12px"},articleBadge:{background:"linear-gradient(135deg, #EEF2FF 0%, #E0E7FF 100%)",color:"#4F46E5",padding:"6px 12px",borderRadius:"8px",fontSize:"11px",fontWeight:"800",textTransform:"uppercase",letterSpacing:"0.05em"},articleTitle:{fontSize:"32px",fontWeight:"800",color:"#111827",margin:0,lineHeight:"1.2"},articleDesc:{fontSize:"16px",color:"#6B7280",lineHeight:"1.6",marginBottom:"24px"},articleDivider:{height:"1px",background:"linear-gradient(90deg, #E5E7EB 0%, transparent 100%)",margin:"32px 0"},actionLink:{cursor:"pointer"},actionIcon:{flexShrink:0}};class Jc extends n.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,t){console.error("ErrorBoundary caught an error:",e,t),this.setState({error:e,errorInfo:t})}handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null})};render(){return this.state.hasError?r.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"100vh",padding:"20px",background:"#fef2f2",color:"#991b1b"},children:[r.jsx("h1",{style:{fontSize:"48px",marginBottom:"20px"},children:""}),r.jsx("h2",{style:{fontSize:"24px",marginBottom:"12px",fontWeight:"700"},children:"Something went wrong"}),r.jsx("p",{style:{fontSize:"16px",marginBottom:"24px",maxWidth:"500px",textAlign:"center"},children:"We're sorry, but an unexpected error occurred. Please try refreshing the page."}),r.jsx("button",{onClick:this.handleReset,style:{padding:"12px 24px",fontSize:"16px",fontWeight:"700",background:"#991b1b",color:"#fff",border:"none",borderRadius:"8px",cursor:"pointer"},children:"Try Again"}),this.state.error&&r.jsxs("details",{style:{marginTop:"32px",maxWidth:"600px"},children:[r.jsx("summary",{style:{cursor:"pointer",fontWeight:"600"},children:"Error Details"}),r.jsxs("pre",{style:{marginTop:"12px",padding:"16px",background:"#fff",borderRadius:"8px",fontSize:"12px",overflow:"auto"},children:[this.state.error.toString(),this.state.errorInfo&&this.state.errorInfo.componentStack]})]})]}):this.props.children}}const Xc={id:"demo-class",name:"Demo Class",students:[{id:1,name:"Emma Watson",gender:"girl",score:15,avatar:an("Emma Watson")},{id:2,name:"Liam Johnson",gender:"boy",score:8,avatar:an("Liam Johnson")},{id:3,name:"Olivia Smith",gender:"girl",score:22,avatar:an("Olivia Smith")},{id:4,name:"Noah Brown",gender:"boy",score:5,avatar:an("Noah Brown")},{id:5,name:"Ava Davis",gender:"girl",score:12,avatar:an("Ava Davis")}],theme:"ocean",createdAt:Date.now()};an("Pablo Picasso"),an("Marie Curie");const Kc=[{id:1,label:"Helped Friend",pts:1,type:"wow",icon:""},{id:2,label:"Great Work",pts:2,type:"wow",icon:""},{id:3,label:"On Task",pts:1,type:"wow",icon:""},{id:4,label:"Kindness",pts:1,type:"wow",icon:""},{id:5,label:"Noisy",pts:-1,type:"nono",icon:""},{id:6,label:"Disruptive",pts:-2,type:"nono",icon:""}];function Zc(){const[e,n]=t.useState(()=>{const e=localStorage.getItem("classABC_logged_in"),t=localStorage.getItem("classABC_pb_token")||localStorage.getItem("classABC_token");return e&&t?JSON.parse(e):null}),[i,o]=t.useState(!1),[a,l]=t.useState([]),[s,c]=t.useState(()=>JSON.parse(localStorage.getItem("classABC_behaviors"))||Kc),[d,u]=t.useState(null),[p,f]=t.useState("portal"),[h,g]=t.useState(!1),[m,x]=t.useState(!1),y=t.useRef(null),b=t.useMemo(()=>{const e=window.location.hash.match(/confirm-verification\/([^/]+)/);return e?e[1]:null},[]);if(b)return r.jsx(Hc,{token:b,onSuccess:()=>{window.location.hash="",window.location.reload()},onError:()=>{window.location.hash=""}});t.useEffect(()=>{const t=localStorage.getItem("classABC_pb_token")||localStorage.getItem("classABC_token");t&&ht.setToken(t);let n=!0;return(async()=>{try{let t=[];if(e)t=await ht.getClasses(e.email);else{const e=localStorage.getItem("classABC_logged_in");if(e)try{const n=JSON.parse(e);t=await ht.getClasses(n.email)}catch{console.warn("Could not parse stored user, falling back to localStorage");const e="classABC_data_anonymous",t=JSON.parse(localStorage.getItem(e))||[];t.length>0&&n&&l(t)}else{const e="classABC_data_anonymous",t=JSON.parse(localStorage.getItem(e))||[];t.length>0&&n&&l(t)}}n&&Array.isArray(t)&&t.length>0?l(t):n&&e&&!localStorage.getItem("classABC_demo_shown")&&(l([Xc]),localStorage.setItem("classABC_demo_shown","true"))}catch{const t=`classABC_data_${e?.email||"anonymous"}`,r=JSON.parse(localStorage.getItem(t))||[];n&&l(r)}})(),(async()=>{try{const e=await ht.getBehaviors();n&&Array.isArray(e)&&c(e.length>0?e:Kc)}catch(e){const t=JSON.parse(localStorage.getItem("classABC_behaviors"))||Kc;n&&c(t),console.warn("Loading behaviors from localStorage due to API error:",e.message)}})(),()=>{n=!1}},[e]),t.useEffect(()=>{localStorage.setItem("classABC_behaviors",JSON.stringify(s));const t=localStorage.getItem("classABC_pb_token")||localStorage.getItem("classABC_token");if(e&&t&&(s.length>0||a.length>0))return y.current&&clearTimeout(y.current),y.current=setTimeout(async()=>{try{await ht.saveClasses(e.email,a,s)}catch(t){console.error("Save failed:",t.message)}},1e3),()=>{y.current&&clearTimeout(y.current)}},[s,a,e]);const v=e=>{ht.setToken(e.token),localStorage.setItem("classABC_pb_token",e.token),localStorage.setItem("classABC_logged_in",JSON.stringify(e)),localStorage.removeItem(`classABC_data_${e.email}`),localStorage.removeItem("classABC_behaviors"),n(e)},w=()=>{localStorage.removeItem("classABC_logged_in"),ht.setToken(null),localStorage.removeItem("classABC_pb_token"),localStorage.removeItem("classABC_token"),n(null),l([]),u(null),f("portal")},k=t=>{l(n=>{const r=[...n,t];try{if(e&&e.email){const t=`classABC_data_${e.email}`;localStorage.setItem(t,JSON.stringify(r))}}catch(i){}return r})},S=e=>{u(e),f("dashboard")},C=t=>{l(n=>{const r="function"==typeof t?t(n):t;try{if(e&&e.email){const t=`classABC_data_${e.email}`;localStorage.setItem(t,JSON.stringify(r))}}catch(i){}return r})},j=a.find(e=>e.id===d)||null,F=async()=>{try{let t=e?.email;if(!e){const e=localStorage.getItem("classABC_logged_in");if(e)try{t=JSON.parse(e).email}catch{return void console.warn("Could not parse stored user for refresh")}}if(t){const e=await ht.getClasses(t);e&&Array.isArray(e)&&l(e)}}catch(t){console.warn("Could not refresh classes:",t.message)}};if(h)return console.log("App.jsx: Rendering AssignmentsPage now!"),r.jsx(zc,{activeClass:j,onBack:()=>g(!1),onPublish:async t=>{const n={...t,id:Date.now(),assignedTo:Array.isArray(t.assignedTo)?t.assignedTo.map(e=>String(e)):t.assignedTo||"all",assignedToAll:void 0===t.assignedToAll||t.assignedToAll};let r;l(e=>(r=e.map(e=>String(e.id)===String(j.id)?{...e,assignments:[...e.assignments||[],n],submissions:e.submissions||[],student_submissions:e.student_submissions||[],studentAssignments:[...e.studentAssignments||[],...(e.students||[]).filter(e=>!!n.assignedToAll||!(!Array.isArray(n.assignedTo)||!n.assignedTo.includes(String(e.id)))).map(t=>({id:Date.now()+"_"+t.id,assignmentId:n.id,studentId:t.id,classId:e.id,status:"assigned",answers:{},assignedAt:(new Date).toISOString()}))]}:e),console.log("Teacher just updated classes. New assignments:",r.find(e=>e.id===j.id)?.assignments),r)),setTimeout(async()=>{try{console.log("Saving assignments to backend..."),await ht.saveClasses(e.email,r,s),console.log("Assignment successfully saved to backend")}catch(t){console.error("Error saving assignment to backend:",t)}},0),console.log("Assignment published successfully:",n.title),console.log("Assigned to:",n.assignedTo,"Assigned to all:",n.assignedToAll),g(!1)}});const E=function(){if(window.location.hash.startsWith("#/reset/"))return{page:"reset",token:window.location.hash.replace("#/reset/","")};if(window.location.hash.startsWith("#/confirm/"))return{page:"confirm",token:window.location.hash.replace("#/confirm/","")};return{page:null}}();return"reset"===E.page?r.jsx(qc,{token:E.token,onSuccess:()=>{window.location.hash=""}}):"confirm"===E.page?r.jsx(Vc,{token:E.token,onSuccess:()=>{window.location.hash=""}}):e?i?r.jsx(ac,{user:e,onSave:async t=>{try{const r=await ht.updateProfile({...t,id:e.id});r&&r.user?(n(e=>({...e,...r.user})),localStorage.setItem("classABC_logged_in",JSON.stringify({...e,...r.user}))):(n(e=>({...e,...t})),localStorage.setItem("classABC_logged_in",JSON.stringify({...e,...t}))),o(!1)}catch(r){let e="Failed to update profile.";if(r?.body)try{const t="string"==typeof r.body?JSON.parse(r.body):r.body;e="not_found"===t.error?"User not found. Please log in again.":t.error||t.message||"Failed to update profile."}catch{e="string"==typeof r.body?r.body:r.message||"Failed to update profile."}else r?.message&&(e=r.message);alert(e)}},onClose:()=>o(!1)}):"portal"===p?r.jsx(r.Fragment,{children:r.jsx(ic,{user:e,classes:a,onSelectClass:S,onAddClass:e=>k(e),onLogout:w,onEditProfile:()=>o(!0),updateClasses:l})}):"dashboard"===p&&j?r.jsx(r.Fragment,{children:r.jsx(Mc,{user:e,activeClass:j,behaviors:s,onBack:()=>{u(null),f("portal")},onOpenEggRoad:()=>f("egg"),onOpenSettings:()=>f("settings"),updateClasses:C,onUpdateBehaviors:e=>c(e),onOpenAssignments:()=>g(!0)})}):"egg"===p&&j?r.jsx(r.Fragment,{children:r.jsx(_c,{classData:j,onBack:()=>f("dashboard"),onResetProgress:()=>{l(e=>e.map(e=>e.id===j.id?{...e,students:e.students.map(e=>({...e,score:0}))}:e))}})}):"settings"===p&&j?r.jsx(r.Fragment,{children:r.jsx(Dc,{activeClass:j,behaviors:s,onBack:()=>f("dashboard"),onUpdateBehaviors:e=>c(e),onUpdateStudents:e=>C(t=>t.map(t=>t.id===j.id?{...t,students:e}:t))})}):"setup"===p?r.jsx($c,{onComplete:(e,t)=>{const n={id:Date.now(),name:t||"New Class",students:e};k(n),f("portal")}}):r.jsx(ic,{classes:a,onSelectClass:S,onAddClass:k,onLogout:w}):r.jsxs(r.Fragment,{children:[r.jsx(ec,{onLoginSuccess:v,classes:a,setClasses:l,refreshClasses:F,showSearchGuide:()=>x(!0),openModal:e=>{x(!1),window.dispatchEvent(new CustomEvent("guide-action",{detail:e}))}}),m&&r.jsx(Qc,{onClose:()=>x(!1),onTriggerAction:e=>{x(!1),window.dispatchEvent(new CustomEvent("guide-action",{detail:e}))}})]})}function ed(){return r.jsx(Jc,{children:r.jsx(Zc,{})})}function td({children:e}){return t.useEffect(()=>{const e=e=>{if("Enter"!==e.key||e.shiftKey||e.altKey||e.ctrlKey||e.metaKey)return;const t=document.activeElement;if(!t)return;if("textarea"===(t.tagName||"").toLowerCase())return;if(t.isContentEditable)return;let n=t.closest&&t.closest('[role="dialog"]'),r=null;try{n&&(r=n.querySelector("[data-enter-submit]:not([disabled])")),r||(r=document.querySelector("[data-enter-submit]:not([disabled])"))}catch(i){}r&&(e.preventDefault(),r.click())};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[]),e}window.global=window,ct.createRoot(document.getElementById("root")).render(r.jsx(t.StrictMode,{children:r.jsx(xt,{children:r.jsx(td,{children:r.jsx(ed,{})})})}));
